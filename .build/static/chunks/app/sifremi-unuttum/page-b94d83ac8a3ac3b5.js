(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9275],{13573:function(e,t,r){Promise.resolve().then(r.bind(r,93541))},93541:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var a=r(15444),s=r(89300),i=r(41084),n=r(79047),l=r(31587),o=r(35798),c=r(66772),d=r(98155),u=r(66124),y=r(6524),x=r(81059),f=r(52429),h=r(25422);function m(){(0,n.useRouter)();let[e,t]=(0,s.useState)("email"),[r,m]=(0,s.useState)(""),[g,p]=(0,s.useState)(""),[b,k]=(0,s.useState)(""),[j,w]=(0,s.useState)(""),[v,N]=(0,s.useState)(!1),[z,Z]=(0,s.useState)(""),[S,C]=(0,s.useState)(!1),[E,P]=(0,s.useState)(""),L=async e=>{e.preventDefault(),Z(""),C(!0);try{let e=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.trim().toLowerCase()})}),a=await e.json();a.success?(P(a.message),t("verify")):Z(a.error||"Bir hata oluştu")}catch(e){Z("Bir hata oluştu. L\xfctfen tekrar deneyin.")}finally{C(!1)}},A=async e=>{if(e.preventDefault(),Z(""),b!==j){Z("Şifreler eşleşmiyor");return}if(b.length<8){Z("Şifre en az 8 karakter olmalıdır");return}C(!0);try{let e=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.trim().toLowerCase(),code:g.trim(),newPassword:b})}),a=await e.json();a.success?t("success"):Z(a.error||"Bir hata oluştu")}catch(e){Z("Bir hata oluştu. L\xfctfen tekrar deneyin.")}finally{C(!1)}},M=async()=>{Z(""),C(!0);try{let e=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.trim().toLowerCase()})}),t=await e.json();t.success?(P("Yeni kod g\xf6nderildi!"),p("")):Z(t.error||"Kod g\xf6nderilemedi")}catch(e){Z("Bir hata oluştu")}finally{C(!1)}};return(0,a.jsx)("div",{className:"min-h-screen pt-20 pb-12 flex items-center justify-center bg-gradient-to-br from-frozen-50 to-white dark:from-gray-900 dark:to-gray-800",children:(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md mx-4",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)(i.default,{href:"/",className:"text-3xl font-bold text-gradient-frozen",children:"TAKAS-A"}),(0,a.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-4",children:["email"===e&&"Şifremi Unuttum","verify"===e&&"Şifre Sıfırla","success"===e&&"Başarılı!"]}),(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:["email"===e&&"Email adresinizi girin, size doğrulama kodu g\xf6nderelim","verify"===e&&"Emailinize gelen kodu girin ve yeni şifrenizi belirleyin","success"===e&&"Şifreniz başarıyla g\xfcncellendi"]})]}),"email"===e&&(0,a.jsxs)("form",{onSubmit:L,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"E-posta Adresi"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"email",required:!0,value:r,onChange:e=>m(e.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-frozen-500 focus:border-transparent transition-all",placeholder:"ornek@email.com"})]})]}),z&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 text-red-600 bg-red-50 dark:bg-red-900/20 p-4 rounded-xl",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5 flex-shrink-0"}),(0,a.jsx)("span",{children:z})]}),(0,a.jsx)("button",{type:"submit",disabled:S,className:"w-full py-4 rounded-xl bg-frozen-500 text-white font-semibold hover:bg-frozen-600 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:S?"G\xf6nderiliyor...":"Doğrulama Kodu G\xf6nder"}),(0,a.jsxs)(i.default,{href:"/giris",className:"flex items-center justify-center gap-2 text-gray-600 dark:text-gray-400 hover:text-frozen-600 transition-colors",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),"Giriş sayfasına d\xf6n"]})]}),"verify"===e&&(0,a.jsxs)("form",{onSubmit:A,className:"space-y-6",children:[E&&(0,a.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-2 text-green-600 bg-green-50 dark:bg-green-900/20 p-4 rounded-xl",children:[(0,a.jsx)(u.Z,{className:"w-5 h-5 flex-shrink-0"}),(0,a.jsx)("span",{children:E})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Doğrulama Kodu (6 haneli)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(y.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"text",required:!0,maxLength:6,value:g,onChange:e=>p(e.target.value.replace(/\D/g,"")),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-frozen-500 focus:border-transparent transition-all text-center tracking-widest text-xl font-mono",placeholder:"000000"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Yeni Şifre"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(x.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:v?"text":"password",required:!0,minLength:8,value:b,onChange:e=>k(e.target.value),className:"w-full pl-12 pr-12 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-frozen-500 focus:border-transparent transition-all",placeholder:"En az 8 karakter"}),(0,a.jsx)("button",{type:"button",onClick:()=>N(!v),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:v?(0,a.jsx)(f.Z,{className:"w-5 h-5"}):(0,a.jsx)(h.Z,{className:"w-5 h-5"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Şifre Tekrar"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(x.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:v?"text":"password",required:!0,value:j,onChange:e=>w(e.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-frozen-500 focus:border-transparent transition-all",placeholder:"Şifreyi tekrar girin"})]})]}),z&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 text-red-600 bg-red-50 dark:bg-red-900/20 p-4 rounded-xl",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5 flex-shrink-0"}),(0,a.jsx)("span",{children:z})]}),(0,a.jsx)("button",{type:"submit",disabled:S||6!==g.length,className:"w-full py-4 rounded-xl bg-frozen-500 text-white font-semibold hover:bg-frozen-600 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:S?"G\xfcncelleniyor...":"Şifremi G\xfcncelle"}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("button",{type:"button",onClick:M,disabled:S,className:"text-frozen-600 hover:underline disabled:opacity-50",children:"Kodu tekrar g\xf6nder"}),(0,a.jsx)("button",{type:"button",onClick:()=>{t("email"),Z("")},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"Email değiştir"})]})]}),"success"===e&&(0,a.jsxs)("div",{className:"text-center space-y-6",children:[(0,a.jsx)(l.E.div,{initial:{scale:0},animate:{scale:1},className:"w-20 h-20 mx-auto bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:(0,a.jsx)(u.Z,{className:"w-10 h-10 text-green-600"})}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Şifreniz başarıyla g\xfcncellendi. Artık yeni şifrenizle giriş yapabilirsiniz."}),(0,a.jsx)(i.default,{href:"/giris",className:"block w-full py-4 rounded-xl bg-frozen-500 text-white font-semibold hover:bg-frozen-600 transition-all text-center",children:"Giriş Yap"})]})]})})})}},98155:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},66772:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},66124:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},52429:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},25422:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6524:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]])},81059:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},35798:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},41084:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var a=r(65558),s=r.n(a)},79047:function(e,t,r){"use strict";var a=r(41206);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[1791,5558,2386,7156,1744],function(){return e(e.s=13573)}),_N_E=e.O()}]);