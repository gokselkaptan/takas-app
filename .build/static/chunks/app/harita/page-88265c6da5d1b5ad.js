(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7161],{79819:function(e,s,t){Promise.resolve().then(t.bind(t,62993))},62993:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return g}});var a=t(15444),l=t(89300),r=t(31587),i=t(66772),n=t(81471);let c=(0,t(42154).Z)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);var d=t(28576),o=t(50828),x=t(33485),m=t(82717);function h(){return(0,a.jsx)("div",{className:"animate-pulse",children:(0,a.jsx)("div",{className:"h-[600px] bg-gray-200 rounded-2xl"})})}function u({message:e,onRetry:s}){let{language:t}=(0,m.Z)();return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center p-8 bg-red-50 rounded-2xl border border-red-200",children:[(0,a.jsx)(i.Z,{className:"w-12 h-12 text-red-500 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"tr"===t?"Veri Y\xfcklenemedi":"Data Load Error"}),(0,a.jsx)("p",{className:"text-red-600 text-center mb-4",children:e}),(0,a.jsxs)("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4"}),"tr"===t?"Tekrar Dene":"Retry"]})]})}function p(){return(0,a.jsx)("div",{className:"p-4 space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsx)("div",{className:"animate-pulse",children:(0,a.jsx)("div",{className:"h-20 bg-gray-200 rounded-xl"})},s))})}function g(){let{t:e,language:s}=(0,m.Z)(),[t,i]=(0,l.useState)([]),[n,g]=(0,l.useState)(null),[y,f]=(0,l.useState)(!0),[v,j]=(0,l.useState)(null),b=(0,l.useCallback)(async()=>{f(!0),j(null);try{let e=await fetch("/api/delivery-points");if(!e.ok)throw Error(`Teslimat noktası verisi alınamadı: ${e.status}`);let s=await e.json(),t=Array.isArray(s?.points)?s.points:Array.isArray(s)?s:[];i(t),0===t.length&&console.warn("Harita: Teslim noktası bulunamadı")}catch(s){let e=s instanceof Error?s.message:"Bilinmeyen hata";console.error("Harita veri hatası:",e),j(e)}finally{f(!1)}},[]);(0,l.useEffect)(()=>{b()},[b]);let N=(e,s)=>{window.open(`https://www.google.com/maps/dir/?api=1&destination=${e},${s}`,"_blank")},w={lat:38.4237,lng:27.1428};return v?(0,a.jsx)("div",{className:"pt-20 min-h-screen bg-gray-50",children:(0,a.jsx)("section",{className:"py-8",children:(0,a.jsx)("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6",children:(0,a.jsx)(u,{message:v,onRetry:b})})})}):(0,a.jsxs)("div",{className:"pt-20 min-h-screen bg-gray-50",children:[(0,a.jsx)("section",{className:"py-8 bg-white border-b",children:(0,a.jsxs)("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:e("mapTitle")}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:e("mapSubtitle")}),(0,a.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-green-100 text-green-700 w-fit",children:[(0,a.jsx)(c,{className:"w-5 h-5"}),(0,a.jsxs)("span",{className:"font-medium",children:[t.length," ","tr"===s?"Teslim Noktası":"Delivery Points"]})]})]})}),(0,a.jsx)("section",{className:"py-8",children:(0,a.jsx)("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6",children:(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2",children:[y?(0,a.jsx)(h,{}):(0,a.jsx)("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg",style:{height:"600px"},children:(0,a.jsx)("iframe",{src:`https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d50000!2d${w.lng}!3d${w.lat}!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1str!2str!4v1706000000000!5m2!1str!2str`,width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})}),(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-sm",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-green-500"}),(0,a.jsx)("span",{className:"text-gray-600",children:e("showDeliveryPoints")})]})]}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",style:{height:"600px"},children:[(0,a.jsx)("div",{className:"p-4 border-b bg-gray-50",children:(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:e("deliveryPointsTitle")})}),(0,a.jsx)("div",{className:"overflow-y-auto",style:{height:"calc(100% - 57px)"},children:y?(0,a.jsx)(p,{}):(0,a.jsxs)("div",{className:"p-4 space-y-3",children:[0===t.length&&(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(d.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("p",{children:"tr"===s?"Hen\xfcz teslim noktası bulunamadı":"No delivery points available yet"})]}),t.map(e=>(0,a.jsx)(r.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"p-4 rounded-xl border border-gray-200 hover:border-green-300 hover:bg-green-50/50 transition-all cursor-pointer",onClick:()=>g(e),children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(c,{className:"w-5 h-5 text-green-600"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900 truncate",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.address}),e.hours&&(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.hours})]}),(0,a.jsx)("button",{onClick:s=>{s.stopPropagation(),N(e.latitude,e.longitude)},className:"p-2 rounded-lg bg-green-100 hover:bg-green-200 text-green-600 transition-colors",children:(0,a.jsx)(o.Z,{className:"w-4 h-4"})})]})},e.id))]})})]})})]})})}),n&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>g(null),children:(0,a.jsx)(r.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl max-w-md w-full overflow-hidden",onClick:e=>e.stopPropagation(),children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:n.name}),(0,a.jsx)("button",{onClick:()=>g(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,a.jsx)(x.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600 mb-2",children:n.address}),n.hours&&(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:n.hours}),(0,a.jsxs)("button",{onClick:()=>N(n.latitude,n.longitude),className:"w-full py-3 rounded-xl bg-green-500 text-white font-semibold hover:bg-green-600 transition-all flex items-center justify-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5"}),e("getDirections")]})]})]})})})]})}},66772:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(42154).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},28576:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(42154).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},50828:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(42154).Z)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]])},81471:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(42154).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},33485:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(42154).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[1791,2717,2386,7156,1744],function(){return e(e.s=79819)}),_N_E=e.O()}]);