(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9728],{56009:function(e,t,a){Promise.resolve().then(a.bind(a,18197))},18197:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Z}});var s=a(15444),r=a(89300),l=a(79047),n=a(59335),i=a(31587),o=a(25076),c=a(63751),d=a(1946),u=a(50828),x=a(33485),m=a(22726),h=a(86523),g=a(28576),p=a(76385),b=a(62492),f=a(76350),v=a(82717),j=a(48001),w=a(41084),y=a(28382);let N={light:[10],medium:[30],heavy:[50],success:[30,50,30],warning:[50,30,50],error:[100,50,100]};var k=a(81471),C=a(2494);function S({pullDistance:e,isRefreshing:t,progress:a,threshold:r=80}){return e<=0&&!t?null:(0,s.jsx)(n.M,{children:(0,s.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed top-0 left-0 right-0 z-[100] flex justify-center pointer-events-none",style:{paddingTop:"env(safe-area-inset-top, 0px)"},children:[(0,s.jsx)(i.E.div,{className:"mt-2 flex flex-col items-center justify-center bg-white rounded-full shadow-lg border border-gray-100",style:{width:56,height:56,transform:`translateY(${Math.min(e,r)}px)`},children:t?(0,s.jsx)(i.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:(0,s.jsx)(k.Z,{className:"w-6 h-6 text-purple-500"})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.E.div,{style:{rotate:180*a},className:"relative",children:(0,s.jsx)(C.Z,{className:`w-6 h-6 transition-colors duration-200 ${a>=1?"text-purple-500":"text-gray-400"}`})}),(0,s.jsxs)("svg",{className:"absolute inset-0 w-full h-full -rotate-90",viewBox:"0 0 56 56",children:[(0,s.jsx)("circle",{cx:"28",cy:"28",r:"24",fill:"none",stroke:"#e5e7eb",strokeWidth:"3"}),(0,s.jsx)("circle",{cx:"28",cy:"28",r:"24",fill:"none",stroke:"#8b5cf6",strokeWidth:"3",strokeLinecap:"round",strokeDasharray:`${151*a} 151`})]})]})}),!t&&e>20&&(0,s.jsx)(i.E.span,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute top-20 text-xs font-medium text-gray-500",children:a>=1?"Bırak ve yenile":"Yenilemek i\xe7in \xe7ek"})]})})}let E={initial:{x:"-100%"},animate:{x:"100%"},transition:{repeat:1/0,duration:1.5,ease:"linear"}};function D({className:e=""}){return(0,s.jsx)("div",{className:`relative overflow-hidden bg-gray-200 rounded-lg ${e}`,children:(0,s.jsx)(i.E.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/60 to-transparent",initial:E.initial,animate:E.animate,transition:E.transition})})}function $(){return(0,s.jsxs)("div",{className:"bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-sm",children:[(0,s.jsx)(D,{className:"aspect-square"}),(0,s.jsxs)("div",{className:"p-4 space-y-3",children:[(0,s.jsx)(D,{className:"h-5 w-20 rounded-full"}),(0,s.jsx)(D,{className:"h-5 w-full"}),(0,s.jsx)(D,{className:"h-5 w-3/4"}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,s.jsx)(D,{className:"h-6 w-24"}),(0,s.jsx)(D,{className:"h-4 w-16"})]})]})]})}function T(){return(0,s.jsxs)("div",{className:"flex gap-4 p-4 bg-white rounded-xl border border-gray-100",children:[(0,s.jsx)(D,{className:"w-24 h-24 rounded-xl flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(D,{className:"h-4 w-16 rounded-full"}),(0,s.jsx)(D,{className:"h-5 w-full"}),(0,s.jsx)(D,{className:"h-4 w-2/3"}),(0,s.jsxs)("div",{className:"flex items-center gap-4 pt-1",children:[(0,s.jsx)(D,{className:"h-5 w-20"}),(0,s.jsx)(D,{className:"h-4 w-16"})]})]})]})}function L({children:e,className:t="",disabled:a=!1,hapticType:l="light",rippleColor:o="rgba(139, 92, 246, 0.3)",onClick:c,onTouchStart:d}){let[u,x]=(0,r.useState)([]),[m,h]=(0,r.useState)(!1),g=(0,r.useRef)(null),p=(0,r.useRef)(0),b={light:[10],medium:[30],heavy:[50]},f=(0,r.useCallback)(()=>{"vibrate"in navigator&&!a&&navigator.vibrate(b[l])},[l,a]),v=(0,r.useCallback)(e=>{let t,s;if(a||!g.current)return;let r=g.current.getBoundingClientRect();"touches"in e?(t=e.touches[0].clientX-r.left,s=e.touches[0].clientY-r.top):(t=e.clientX-r.left,s=e.clientY-r.top);let l={x:t,y:s,size:2*Math.max(r.width,r.height)};p.current+=1,x(e=>[...e,l]),setTimeout(()=>{x(e=>e.slice(1))},600)},[a]),j=(0,r.useCallback)(e=>{h(!0),v(e),f(),d?.()},[v,f,d]),w=(0,r.useCallback)(()=>{h(!1)},[]),y=(0,r.useCallback)(e=>{"ontouchstart"in window||(h(!0),v(e))},[v]),N=(0,r.useCallback)(()=>{h(!1)},[]);return(0,s.jsxs)(i.E.div,{ref:g,className:`relative overflow-hidden touch-manipulation ${t}`,onTouchStart:j,onTouchEnd:w,onMouseDown:y,onMouseUp:N,onMouseLeave:N,onClick:c,animate:{scale:m?.98:1},transition:{duration:.1},style:{WebkitTapHighlightColor:"transparent"},children:[e,(0,s.jsx)(n.M,{children:u.map((e,t)=>(0,s.jsx)(i.E.span,{className:"absolute rounded-full pointer-events-none",style:{left:e.x-e.size/2,top:e.y-e.size/2,width:e.size,height:e.size,backgroundColor:o},initial:{scale:0,opacity:.5},animate:{scale:1,opacity:0},exit:{opacity:0},transition:{duration:.6,ease:"easeOut"}},`${p.current}-${t}`))})]})}function Z(){let{t:e,language:t}=(0,v.Z)(),a=(0,l.useSearchParams)(),[k,C]=(0,r.useState)([]),[E,D]=(0,r.useState)([]),[Z,M]=(0,r.useState)(!0),[P,z]=(0,r.useState)("all"),[I,A]=(0,r.useState)(""),[R,B]=(0,r.useState)("newest"),[Y,_]=(0,r.useState)("grid"),[F,K]=(0,r.useState)(!1),[O,G]=(0,r.useState)(null),[H,U]=(0,r.useState)(null),[q,W]=(0,r.useState)(!1),[X,Q]=(0,r.useState)(null),[V,J]=(0,r.useState)(1),[ee,et]=(0,r.useState)(!0),[ea,es]=(0,r.useState)(0),[er,el]=(0,r.useState)("all"),[en,ei]=(0,r.useState)("all"),[eo,ec]=(0,r.useState)("all"),[ed,eu]=(0,r.useState)([]),[ex,em]=(0,r.useState)({}),[eh,eg]=(0,r.useState)([]),{trigger:ep}=function(){let e=(0,r.useCallback)((e="light")=>{"vibrate"in navigator&&navigator.vibrate(N[e])},[]),t=(0,r.useCallback)((t="light")=>()=>e(t),[e]);return{trigger:e,onTouchStart:t}}(),eb=(0,r.useCallback)(()=>{if(!navigator.geolocation){Q("tr"===t?"Tarayıcınız konum \xf6zelliğini desteklemiyor":"Your browser does not support geolocation");return}W(!0),Q(null),navigator.geolocation.getCurrentPosition(e=>{G({lat:e.coords.latitude,lng:e.coords.longitude}),W(!1),ep("success")},e=>{switch(W(!1),e.code){case e.PERMISSION_DENIED:Q("tr"===t?"Konum izni reddedildi":"Location permission denied");break;case e.POSITION_UNAVAILABLE:Q("tr"===t?"Konum bilgisi alınamadı":"Location unavailable");break;case e.TIMEOUT:Q("tr"===t?"Konum isteği zaman aşımına uğradı":"Location request timed out");break;default:Q("tr"===t?"Konum alınamadı":"Could not get location")}},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})},[t,ep]),ef=(0,r.useCallback)(()=>{U(null),G(null),ep("light")},[ep]);(0,r.useEffect)(()=>{let e=a?.get("search");e&&A(e)},[a]),(0,r.useEffect)(()=>{ev(),J(1),C([]),ej(1,!0)},[P,R,I,t,O,H,er,en,eo]),(0,r.useEffect)(()=>{fetch("/api/products/filters").then(e=>e.ok?e.json():{cities:[],districtsByCity:{}}).then(e=>{eu(e.cities||[]),em(e.districtsByCity||{})}).catch(()=>{})},[]),(0,r.useEffect)(()=>{"all"!==er?eg(ex[er]||[]):eg([]),ei("all")},[er,ex]);let ev=async()=>{try{let e=await fetch(`/api/categories?lang=${t}`),a=await e.json();D(a)}catch(e){console.error("Kategori hatası:",e)}},ej=(0,r.useCallback)(async(e=1,a=!1)=>{try{a&&M(!0);let s=new URLSearchParams;if("all"!==P&&s.set("category",P),I&&s.set("search",I),s.set("sort",R),s.set("lang",t),s.set("page",e.toString()),s.set("limit","12"),O&&(s.set("lat",O.lat.toString()),s.set("lng",O.lng.toString()),H&&s.set("radius",H.toString())),"all"!==er&&s.set("city",er),"all"!==en&&s.set("district",en),"all"!==eo){let e=eo.split("-").map(Number);isNaN(e[0])||s.set("valorMin",String(e[0])),isNaN(e[1])||s.set("valorMax",String(e[1]))}let r=await fetch(`/api/products?${s.toString()}`),l=await r.json(),n=l.products||[],i=l.total||n.length;es(i),a?C(n):C(e=>[...e,...n]);let o=a?n.length:k.length+n.length;et(o<i)}catch(e){console.error("\xdcr\xfcn hatası:",e),a&&C([])}finally{M(!1)}},[P,R,I,t,k.length,O,H,er,en,eo]),{pullDistance:ew,isRefreshing:ey,progress:eN}=function({onRefresh:e,threshold:t=80,resistance:a=2.5}){let[s,l]=(0,r.useState)(0),[n,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1),d=(0,r.useRef)(0),u=(0,r.useRef)(0),x=(0,r.useCallback)(e=>{0===window.scrollY&&(d.current=e.touches[0].clientY,c(!0))},[]),m=(0,r.useCallback)(e=>{if(!o||n)return;u.current=e.touches[0].clientY;let t=u.current-d.current;if(t>0&&0===window.scrollY){let s=Math.min(t/a,150);l(s),s>10&&e.preventDefault()}},[o,n,a]),h=(0,r.useCallback)(async()=>{if(o){if(c(!1),s>=t&&!n){i(!0),l(t),"vibrate"in navigator&&navigator.vibrate(50);try{await e()}finally{i(!1),l(0)}}else l(0)}},[o,s,t,n,e]);(0,r.useEffect)(()=>(document.addEventListener("touchstart",x,{passive:!0}),document.addEventListener("touchmove",m,{passive:!1}),document.addEventListener("touchend",h),()=>{document.removeEventListener("touchstart",x),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",h)}),[x,m,h]);let g=Math.min(s/t,1);return{pullDistance:s,isRefreshing:n,isPulling:o,progress:g,shouldTrigger:s>=t}}({onRefresh:(0,r.useCallback)(async()=>{ep("medium"),J(1),await ej(1,!0)},[ej,ep]),threshold:80}),{isLoading:ek,setLoadMoreElement:eC}=function({onLoadMore:e,hasMore:t,threshold:a=200,enabled:s=!0}){let[l,n]=(0,r.useState)(!1),i=(0,r.useRef)(null),o=(0,r.useRef)(null),c=(0,r.useCallback)(e=>{o.current=e},[]);return(0,r.useEffect)(()=>{if(!s||!t||l)return;let r=new IntersectionObserver(async a=>{let[s]=a;if(s.isIntersecting&&t&&!l){n(!0);try{await e()}finally{n(!1)}}},{rootMargin:`${a}px`,threshold:.1});return i.current=r,o.current&&r.observe(o.current),()=>{r.disconnect()}},[s,t,l,e,a]),{isLoading:l,setLoadMoreElement:c,loadMoreRef:o}}({onLoadMore:(0,r.useCallback)(async()=>{if(!ee||Z)return;let e=V+1;J(e),await ej(e,!1)},[ee,Z,V,ej]),hasMore:ee,threshold:300}),eS={new:{tr:"Sıfır",en:"New",es:"Nuevo",ca:"Nou"},likeNew:{tr:"Sıfır Gibi",en:"Like New",es:"Como Nuevo",ca:"Com Nou"},like_new:{tr:"Sıfır Gibi",en:"Like New",es:"Como Nuevo",ca:"Com Nou"},good:{tr:"İyi",en:"Good",es:"Bueno",ca:"Bo"},Good:{tr:"İyi",en:"Good",es:"Bueno",ca:"Bo"},İyi:{tr:"İyi",en:"Good",es:"Bueno",ca:"Bo"},fair:{tr:"Orta",en:"Fair",es:"Regular",ca:"Regular"},poor:{tr:"K\xf6t\xfc",en:"Poor",es:"Malo",ca:"Dolent"}},eE=e=>{let a=new Date(e),s=Math.floor((new Date().getTime()-a.getTime())/864e5);return 0===s?({tr:"Bug\xfcn",en:"Today",es:"Hoy",ca:"Avui"})[t]:1===s?({tr:"D\xfcn",en:"Yesterday",es:"Ayer",ca:"Ahir"})[t]:s<7?`${s} ${({tr:"g\xfcn \xf6nce",en:"days ago",es:"d\xedas",ca:"dies"})[t]}`:a.toLocaleDateString({tr:"tr-TR",en:"en-US",es:"es-ES",ca:"ca-ES"}[t])};return(0,s.jsxs)("div",{className:"pt-20 min-h-screen bg-gray-50",children:[(0,s.jsx)(S,{pullDistance:ew,isRefreshing:ey,progress:eN}),(0,s.jsx)("section",{className:"py-8 bg-gradient-to-br from-orange-50 via-amber-50 to-white border-b border-orange-100",children:(0,s.jsxs)("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent mb-6",children:e("allProducts")}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,s.jsx)("form",{onSubmit:e=>{e.preventDefault(),ep("light"),J(1),ej(1,!0)},className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(o.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-orange-400"}),(0,s.jsx)("input",{type:"text",value:I,onChange:e=>A(e.target.value),placeholder:e("searchProducts"),className:"w-full pl-12 pr-4 py-3 rounded-xl border-2 border-orange-200 bg-orange-50/50 focus:bg-white focus:ring-2 focus:ring-orange-400 focus:border-orange-400 text-gray-700 placeholder-gray-500 transition-all"})]})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{value:P,onChange:e=>z(e.target.value),className:"appearance-none pl-4 pr-10 py-3 rounded-xl border-2 border-orange-200 dark:border-orange-800 bg-orange-50/50 dark:bg-gray-800 focus:bg-white dark:focus:bg-gray-700 focus:ring-2 focus:ring-orange-400 focus:border-orange-400 min-w-[180px] text-gray-900 dark:text-white transition-all",children:[(0,s.jsx)("option",{value:"all",children:e("allCategories")}),E.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.translatedName||e.name," (",e._count.products,")"]},e.id))]}),(0,s.jsx)(c.Z,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-orange-400 pointer-events-none"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{value:R,onChange:e=>B(e.target.value),className:"appearance-none pl-4 pr-10 py-3 rounded-xl border-2 border-orange-200 dark:border-orange-800 bg-orange-50/50 dark:bg-gray-800 focus:bg-white dark:focus:bg-gray-700 focus:ring-2 focus:ring-orange-400 focus:border-orange-400 min-w-[180px] text-gray-900 dark:text-white transition-all",children:[(0,s.jsx)("option",{value:"newest",children:e("newest")}),(0,s.jsx)("option",{value:"oldest",children:e("oldest")}),(0,s.jsx)("option",{value:"priceHigh",children:e("priceHighToLow")}),(0,s.jsx)("option",{value:"priceLow",children:e("priceLowToHigh")}),O&&(0,s.jsx)("option",{value:"distance",children:"tr"===t?"Yakından Uzağa":"Nearest First"})]}),(0,s.jsx)(c.Z,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-orange-400 pointer-events-none"})]}),(0,s.jsx)("div",{className:"relative flex items-center gap-2",children:O?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("select",{value:H||"",onChange:e=>U(e.target.value?parseInt(e.target.value):null),className:"appearance-none pl-4 pr-10 py-3 rounded-xl border-2 border-green-300 bg-green-50 focus:bg-white focus:ring-2 focus:ring-green-400 focus:border-green-400 min-w-[140px] text-gray-900 transition-all",children:[(0,s.jsx)("option",{value:"",children:"tr"===t?"T\xfcm Mesafeler":"All Distances"}),(0,s.jsx)("option",{value:"1",children:"1 km"}),(0,s.jsx)("option",{value:"3",children:"3 km"}),(0,s.jsx)("option",{value:"5",children:"5 km"}),(0,s.jsx)("option",{value:"10",children:"10 km"}),(0,s.jsx)("option",{value:"25",children:"25 km"}),(0,s.jsx)("option",{value:"50",children:"50 km"}),(0,s.jsx)("option",{value:"100",children:"100 km"})]}),(0,s.jsx)(c.Z,{className:"absolute right-12 top-1/2 -translate-y-1/2 w-5 h-5 text-green-500 pointer-events-none"}),(0,s.jsx)("button",{onClick:ef,className:"p-2 rounded-lg bg-red-100 hover:bg-red-200 text-red-600 transition-all",title:"tr"===t?"Mesafe filtresini kaldır":"Remove distance filter",children:(0,s.jsx)(x.Z,{className:"w-5 h-5"})})]}):(0,s.jsxs)("button",{onClick:eb,disabled:q,className:"flex items-center gap-2 px-4 py-3 rounded-xl border-2 border-orange-200 bg-orange-50/50 hover:bg-orange-100 transition-all text-gray-700 disabled:opacity-50",title:"tr"===t?"Konumunuzu kullanarak yakındaki \xfcr\xfcnleri bulun":"Find products near you",children:[q?(0,s.jsx)(d.Z,{className:"w-5 h-5 animate-spin text-orange-500"}):(0,s.jsx)(u.Z,{className:"w-5 h-5 text-orange-500"}),(0,s.jsx)("span",{className:"hidden sm:inline text-sm font-medium",children:"tr"===t?"Yakınımdakiler":"Near Me"})]})}),(0,s.jsxs)("div",{className:"flex rounded-xl border-2 border-orange-200 overflow-hidden",children:[(0,s.jsx)("button",{onClick:()=>_("grid"),className:`p-3 transition-all ${"grid"===Y?"bg-gradient-to-r from-orange-500 to-amber-500 text-white":"bg-white text-gray-600 hover:bg-orange-50"}`,children:(0,s.jsx)(m.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>_("list"),className:`p-3 transition-all ${"list"===Y?"bg-gradient-to-r from-orange-500 to-amber-500 text-white":"bg-white text-gray-600 hover:bg-orange-50"}`,children:(0,s.jsx)(h.Z,{className:"w-5 h-5"})})]})]}),(0,s.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,s.jsx)("div",{className:"overflow-x-auto scrollbar-hide -mx-1 px-1",children:(0,s.jsxs)("div",{className:"flex gap-2 min-w-max pb-1",children:[(0,s.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 self-center mr-1 shrink-0",children:"\uD83D\uDCCD"}),(0,s.jsx)("button",{onClick:()=>el("all"),className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all shrink-0 ${"all"===er?"bg-orange-500 text-white shadow-md":"bg-white dark:bg-gray-800 border-2 border-orange-400 text-orange-700 dark:text-orange-300 hover:bg-orange-50 dark:hover:bg-orange-900/20"}`,children:"tr"===t?"T\xfcm Şehirler":"All Cities"}),ed.map(e=>(0,s.jsxs)("button",{onClick:()=>el(e.name),className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all shrink-0 ${er===e.name?"bg-orange-500 text-white shadow-md":"bg-white dark:bg-gray-800 border-2 border-orange-300 text-orange-700 dark:text-orange-300 hover:bg-orange-50 dark:hover:bg-orange-900/20 hover:border-orange-400"}`,children:[e.name," ",(0,s.jsxs)("span",{className:"opacity-70",children:["(",e.count,")"]})]},e.name))]})}),"all"!==er&&eh.length>0&&(0,s.jsx)("div",{className:"overflow-x-auto scrollbar-hide -mx-1 px-1",children:(0,s.jsxs)("div",{className:"flex gap-2 min-w-max pb-1",children:[(0,s.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 self-center mr-1 shrink-0",children:"\uD83C\uDFD8️"}),(0,s.jsx)("button",{onClick:()=>ei("all"),className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all shrink-0 ${"all"===en?"bg-blue-500 text-white shadow-md":"bg-white dark:bg-gray-800 border-2 border-blue-400 text-blue-700 dark:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20"}`,children:"tr"===t?"T\xfcm Semtler":"All Districts"}),eh.map(e=>(0,s.jsxs)("button",{onClick:()=>ei(e.name),className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all shrink-0 ${en===e.name?"bg-blue-500 text-white shadow-md":"bg-white dark:bg-gray-800 border-2 border-blue-300 text-blue-700 dark:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:border-blue-400"}`,children:[e.name," ",(0,s.jsxs)("span",{className:"opacity-70",children:["(",e.count,")"]})]},e.name))]})}),(0,s.jsx)("div",{className:"overflow-x-auto scrollbar-hide -mx-1 px-1",children:(0,s.jsxs)("div",{className:"flex gap-2 min-w-max pb-1",children:[(0,s.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 self-center mr-1 shrink-0",children:"⭐"}),[{label:"tr"===t?"T\xfcm\xfc":"All",value:"all"},{label:"0-100",value:"0-100"},{label:"100-500",value:"100-500"},{label:"500-2K",value:"500-2000"},{label:"2K-5K",value:"2000-5000"},{label:"5K+",value:"5000-999999"}].map(e=>(0,s.jsx)("button",{onClick:()=>ec(e.value),className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all shrink-0 ${eo===e.value?"bg-purple-500 text-white shadow-md":"bg-white dark:bg-gray-800 border-2 border-purple-300 text-purple-700 dark:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900/20 hover:border-purple-400"}`,children:e.label},e.value))]})})]})]})}),(0,s.jsx)("section",{className:"py-8",children:(0,s.jsxs)("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6",children:[X&&(0,s.jsxs)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm flex items-center gap-2",children:[(0,s.jsx)(g.Z,{className:"w-4 h-4"}),X,(0,s.jsx)("button",{onClick:()=>Q(null),className:"ml-auto text-red-400 hover:text-red-600",children:(0,s.jsx)(x.Z,{className:"w-4 h-4"})})]}),O&&H&&(0,s.jsxs)("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-xl text-green-700 text-sm flex items-center gap-2",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4"}),"tr"===t?`${H} km i\xe7indeki \xfcr\xfcnler g\xf6steriliyor`:`Showing products within ${H} km`]}),!Z&&k.length>0&&(0,s.jsx)("div",{className:"mb-4 text-sm text-gray-500",children:"tr"===t?`${ea} \xfcr\xfcn bulundu`:`${ea} products found`}),Z?(0,s.jsx)("div",{className:"grid"===Y?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4":"space-y-4",children:[...Array(12)].map((e,t)=>"grid"===Y?(0,s.jsx)($,{},t):(0,s.jsx)(T,{},t))}):0===k.length?(0,s.jsxs)("div",{className:"text-center py-20",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCE6"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e("noProducts")}),(0,s.jsx)("p",{className:"text-gray-600",children:"tr"===t?"İlk \xfcr\xfcn\xfc siz ekleyin!":"Be the first to add a product!"}),(0,s.jsx)(w.default,{href:"/urun-ekle",className:"inline-block mt-4 px-6 py-3 rounded-xl bg-gradient-to-r from-orange-500 to-amber-500 text-white font-semibold hover:from-orange-600 hover:to-amber-600 transition-all shadow-lg shadow-orange-200",children:e("addProduct")})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid"===Y?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4":"space-y-4",children:(0,s.jsx)(n.M,{mode:"popLayout",children:k.map((a,r)=>(0,s.jsx)(i.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:r<12?.03*r:0},layout:!0,children:(0,s.jsx)(L,{className:"block",hapticType:"light",rippleColor:"rgba(139, 92, 246, 0.2)",children:(0,s.jsx)(w.default,{href:`/urun/${a.id}`,children:(0,s.jsxs)("div",{className:`bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all group ${function(e){let t=e.category?.slug||e.category?.name?.toLowerCase()||"";return e.isPopular?"border-4 border-orange-500 ring-4 ring-orange-300/60 shadow-lg shadow-orange-400/40 animate-subtle-glow":t.includes("cocuk")||t.includes("bebek")||t.includes("oyuncak")||t.includes("\xe7ocuk")||t.includes("kids")||t.includes("toys")?"border-2 border-pink-300 ring-2 ring-pink-100 shadow-md shadow-pink-100":"border border-gray-200 hover:border-purple-300"}(a)} ${"list"===Y?"flex":""}`,children:[(0,s.jsxs)("div",{className:`relative ${"list"===Y?"w-32 md:w-48 flex-shrink-0":"aspect-square"}`,children:[(0,s.jsx)("div",{className:`${"list"===Y?"aspect-square":""} absolute inset-0 bg-gray-100`,children:a.images&&a.images.length>0?(0,s.jsx)(j.default,{src:a.images[0],alt:a.title,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300",sizes:"list"===Y?"(max-width: 768px) 128px, 192px":"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 20vw"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center text-4xl text-gray-300",children:"\uD83D\uDCE6"})}),a.isPopular?(0,s.jsxs)("div",{className:"absolute top-2 left-2 flex items-center gap-1 px-2 py-1 rounded-lg bg-gradient-to-r from-orange-500 to-red-500 text-white text-xs font-bold shadow",children:[(0,s.jsx)(p.Z,{className:"w-3 h-3"}),"tr"===t?"Pop\xfcler":"Popular"]}):(0,s.jsx)("div",{className:`absolute top-2 left-2 px-2 py-1 rounded-lg text-xs font-semibold shadow-sm ${"new"===a.condition?"bg-green-500 text-white":"like_new"===a.condition?"bg-blue-500 text-white":"good"===a.condition?"bg-amber-500 text-white":"bg-gray-600 text-white"}`,children:a.translatedCondition||eS[a.condition]?.[t]||a.condition})]}),(0,s.jsxs)("div",{className:`p-3 md:p-4 bg-white ${"list"===Y?"flex-1":""}`,children:[(0,s.jsx)("h3",{className:"font-semibold line-clamp-2 mb-1 text-sm md:text-base transition-colors text-gray-900",children:a.translatedTitle||a.title}),"list"===Y&&(0,s.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2 hidden md:block",children:a.translatedDescription||a.description}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs mb-2 flex-wrap",children:[(0,s.jsx)(g.Z,{className:"w-3 h-3 flex-shrink-0 text-gray-700"}),(0,s.jsx)("span",{className:"font-medium truncate text-gray-700",children:a.district||a.city}),void 0!==a.distance&&null!==a.distance&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"mx-1 text-gray-600",children:"\xb7"}),(0,s.jsx)(u.Z,{className:"w-3 h-3 flex-shrink-0 text-green-600"}),(0,s.jsxs)("span",{className:"font-semibold text-green-600",children:[a.distance," km"]})]}),(0,s.jsx)("span",{className:"mx-1 hidden sm:inline text-gray-600",children:"\xb7"}),(0,s.jsx)(b.Z,{className:"w-3 h-3 flex-shrink-0 hidden sm:block text-gray-700"}),(0,s.jsx)("span",{className:"font-medium hidden sm:block text-gray-700",children:eE(a.createdAt)})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 rounded-lg px-2 py-1 bg-purple-600 shadow-sm",children:[(0,s.jsx)("span",{className:"text-base md:text-lg font-bold text-white",children:a.valorPrice}),(0,s.jsx)("span",{className:"text-xs md:text-sm font-medium text-white",children:e("valorPoints")})]}),a.category&&(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded-full font-medium truncate max-w-[80px] md:max-w-none bg-orange-500 text-white shadow-sm",children:a.translatedCategory||a.category.translatedName||a.category.name})]})]})]})})})},a.id))})}),(0,s.jsxs)("div",{ref:eC,className:"flex justify-center py-8",children:[(ek||ee&&!Z)&&(0,s.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-2 text-gray-500",children:[(0,s.jsx)(d.Z,{className:"w-5 h-5 animate-spin text-purple-500"}),(0,s.jsx)("span",{className:"text-sm",children:"tr"===t?"Y\xfckleniyor...":"Loading..."})]}),!ee&&k.length>0&&(0,s.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"tr"===t?"T\xfcm \xfcr\xfcnler y\xfcklendi":"All products loaded"})]})]})]})}),(0,s.jsx)(y.default,{}),(0,s.jsx)("section",{className:"py-12 bg-gradient-to-r from-pink-500/10 via-purple-500/10 to-orange-500/10",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-4",children:"tr"===t?"\uD83D\uDCF8 Bizi Instagram'da Takip Edin!":"\uD83D\uDCF8 Follow Us on Instagram!"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"tr"===t?"Takas fırsatları, ipu\xe7ları ve topluluk etkinlikleri i\xe7in bizi takip edin!":"Follow us for swap opportunities, tips and community events!"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6",children:[(0,s.jsx)("a",{href:"https://instagram.com/takasintercambiobarty",target:"_blank",rel:"noopener noreferrer",className:"relative w-40 h-40 rounded-2xl overflow-hidden shadow-xl hover:scale-105 transition-transform",children:(0,s.jsx)(j.default,{src:"/instagram-qr.png",alt:"Instagram QR Code",fill:!0,className:"object-cover"})}),(0,s.jsxs)("a",{href:"https://instagram.com/takasintercambiobarty",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-pink-500 via-purple-500 to-orange-500 text-white font-semibold rounded-xl hover:scale-105 transition-transform shadow-lg",children:[(0,s.jsx)(f.Z,{className:"w-5 h-5"}),"@takasintercambiobarty"]})]})]})})]})}},28382:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var s=a(15444),r=a(89300),l=a(79047),n=a(59335),i=a(31587),o=a(53492),c=a(33485),d=a(64990),u=a(22379),x=a(74385),m=a(99032),h=a(41084);function g(){let[e,t]=(0,r.useState)(!1),[a,g]=(0,r.useState)(!0),[p,b]=(0,r.useState)(!1),f=(0,r.useRef)(null),v=(0,l.usePathname)();(0,r.useEffect)(()=>{if(!(v.startsWith("/urun/")&&"/urun-ekle"!==v)){t(!1);return}let e=localStorage.getItem("aiPromoLastDate"),a=new Date().toDateString();if(e===a)return;let s=setTimeout(()=>{t(!0),localStorage.setItem("aiPromoLastDate",a)},window.innerWidth<768?5e3:3e3);return()=>clearTimeout(s)},[v]);let j=()=>{t(!1)};return e?(0,s.jsx)(n.M,{children:e&&(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:100,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:100,scale:.8},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-4 right-4 z-50 w-80 sm:w-96 bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-100",children:[(0,s.jsxs)("div",{className:"relative bg-gradient-to-r from-purple-600 via-pink-500 to-orange-500 p-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(i.E.div,{animate:{rotate:[0,15,-15,0]},transition:{repeat:1/0,duration:2},children:(0,s.jsx)(o.Z,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-white font-bold text-sm",children:"YENİ! AI G\xf6rselleştirme ✨"}),(0,s.jsx)("p",{className:"text-white/80 text-xs",children:"\xdcr\xfcn nasıl g\xf6r\xfcn\xfcr?"})]})]}),(0,s.jsx)("button",{onClick:j,className:"absolute top-2 right-2 p-1.5 bg-white/20 hover:bg-white/30 rounded-full transition-colors",children:(0,s.jsx)(c.Z,{className:"w-4 h-4 text-white"})})]}),(0,s.jsxs)("div",{className:"relative aspect-video bg-gray-900",children:[(0,s.jsx)("video",{ref:f,src:"/videos/ai-visualization-demo.mp4",className:"w-full h-full object-cover",loop:!0,muted:a,playsInline:!0,poster:"/images/ai-viz-poster.jpg",onPlay:()=>b(!0),onPause:()=>b(!1)}),!p&&(0,s.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>{f.current&&(p?f.current.pause():f.current.play(),b(!p))},children:(0,s.jsx)(i.E.div,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"w-14 h-14 rounded-full bg-white/90 flex items-center justify-center shadow-lg",children:(0,s.jsx)(d.Z,{className:"w-6 h-6 text-purple-600 ml-1"})})}),p&&(0,s.jsx)("div",{className:"absolute bottom-2 right-2 flex gap-2",children:(0,s.jsx)("button",{onClick:()=>{f.current&&(f.current.muted=!a,g(!a))},className:"p-2 bg-black/50 hover:bg-black/70 rounded-full transition-colors",children:a?(0,s.jsx)(u.Z,{className:"w-4 h-4 text-white"}):(0,s.jsx)(x.Z,{className:"w-4 h-4 text-white"})})}),(0,s.jsx)(i.E.div,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5},className:"absolute top-2 left-2 px-2 py-1 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full",children:(0,s.jsx)("p",{className:"text-white text-xs font-medium",children:"\uD83C\uDFE0 \xdcr\xfcn Nasıl G\xf6r\xfcn\xfcr?"})})]}),(0,s.jsxs)("div",{className:"p-4 space-y-3",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-gray-800 font-semibold text-sm",children:"AI ile \xfcr\xfcn nasıl g\xf6r\xfcn\xfcr? \uD83E\uDE84"}),(0,s.jsxs)("p",{className:"text-gray-500 text-xs",children:["Ortamı tanımla, AI g\xf6rselleştirsin.",(0,s.jsx)("span",{className:"text-purple-600 font-medium",children:" 3 \xfccretsiz hak!"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(h.default,{href:"/urunler",onClick:j,className:"flex-1 py-2.5 px-4 bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 text-white rounded-xl font-semibold text-sm text-center hover:shadow-lg transition-all flex items-center justify-center gap-1",children:["Dene! ",(0,s.jsx)(m.Z,{className:"w-4 h-4"})]}),(0,s.jsx)("button",{onClick:j,className:"py-2.5 px-4 bg-gray-100 text-gray-600 rounded-xl font-medium text-sm hover:bg-gray-200 transition-colors",children:"Sonra"})]})]})]})}):null}}},function(e){e.O(0,[1791,5558,8001,8856,2717,2386,7156,1744],function(){return e(e.s=56009)}),_N_E=e.O()}]);