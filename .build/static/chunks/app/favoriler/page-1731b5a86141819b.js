(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2649],{18950:function(e,t,r){Promise.resolve().then(r.bind(r,37989))},37989:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var a=r(15444),s=r(89300),n=r(75762),i=r(79047),l=r(41084),c=r(48001),o=r(31587),d=r(59335),u=r(1946),f=r(65407),h=r(16629),m=r(40563),p=r(82717);function x(){let{data:e,status:t}=(0,n.useSession)(),r=(0,i.useRouter)(),{t:x}=(0,p.Z)(),[y,g]=(0,s.useState)([]),[v,k]=(0,s.useState)(!0);(0,s.useEffect)(()=>{"unauthenticated"===t&&r.push("/giris")},[t,r]),(0,s.useEffect)(()=>{e?.user&&j()},[e]);let j=async()=>{try{k(!0);let e=await fetch("/api/favorites");if(e.ok){let t=await e.json();g(t.favorites||[])}}catch(e){console.error("Favoriler y\xfcklenemedi:",e)}finally{k(!1)}},b=async e=>{try{(await fetch("/api/favorites",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e})})).ok&&g(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Favori kaldırılamadı:",e)}};return"loading"===t||v?(0,a.jsx)("div",{className:"min-h-screen pt-16 pb-24 flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,a.jsx)(u.Z,{className:"w-8 h-8 animate-spin text-purple-600"})}):(0,a.jsxs)("div",{className:"min-h-screen pt-16 pb-24 bg-gray-50 dark:bg-gray-900",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-pink-500 to-rose-500 text-white py-6 px-4",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(f.Z,{className:"w-8 h-8 fill-white"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Favorilerim"}),(0,a.jsxs)("p",{className:"text-white/80 text-sm",children:[y.length," \xfcr\xfcn"]})]})]})})}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:0===y.length?(0,a.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[(0,a.jsx)(f.Z,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Hen\xfcz favori \xfcr\xfcn yok"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Beğendiğin \xfcr\xfcnleri favorilere ekle, sonra kolayca ulaş!"}),(0,a.jsxs)(l.default,{href:"/urunler",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-500 text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:[(0,a.jsx)(h.Z,{className:"w-5 h-5"}),x("exploreProducts")]})]}):(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:(0,a.jsx)(d.M,{children:y.map((e,t)=>(0,a.jsx)(o.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:.05*t},className:"bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all",children:(0,a.jsxs)(l.default,{href:`/urun/${e.id}`,className:"block",children:[(0,a.jsxs)("div",{className:"relative aspect-square",children:[(0,a.jsx)(c.default,{src:e.images?.[0]||"/images/placeholder.jpg",alt:e.title,fill:!0,className:"object-cover"}),(0,a.jsx)("div",{className:"absolute top-2 right-2",children:(0,a.jsx)("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),b(e.id)},className:"p-2 bg-white/90 dark:bg-gray-800/90 rounded-full shadow-md hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:(0,a.jsx)(m.Z,{className:"w-4 h-4 text-red-500"})})})]}),(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white text-sm line-clamp-2 mb-1",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.category?.name}),(0,a.jsxs)("span",{className:"text-sm font-bold text-purple-600 dark:text-purple-400",children:[e.valorPrice," V"]})]})]})]})},e.id))})})})]})}},65407:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},1946:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},16629:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},40563:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(42154).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},41084:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var a=r(65558),s=r.n(a)},59335:function(e,t,r){"use strict";r.d(t,{M:function(){return x}});var a=r(89300),s=r(42831);function n(){let e=(0,a.useRef)(!1);return(0,s.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var i=r(46974),l=r(23146),c=r(38819);class o extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t}){let r=(0,a.useId)(),s=(0,a.useRef)(null),n=(0,a.useRef)({width:0,height:0,top:0,left:0});return(0,a.useInsertionEffect)(()=>{let{width:e,height:a,top:i,left:l}=n.current;if(t||!s.current||!e||!a)return;s.current.dataset.motionPopId=r;let c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${a}px !important;
            top: ${i}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),a.createElement(o,{isPresent:t,childRef:s,sizeRef:n},a.cloneElement(e,{ref:s}))}let u=({children:e,initial:t,isPresent:r,onExitComplete:s,custom:n,presenceAffectsLayout:i,mode:o})=>{let u=(0,c.h)(f),h=(0,a.useId)(),m=(0,a.useMemo)(()=>({id:h,initial:t,isPresent:r,custom:n,onExitComplete:e=>{for(let t of(u.set(e,!0),u.values()))if(!t)return;s&&s()},register:e=>(u.set(e,!1),()=>u.delete(e))}),i?void 0:[r]);return(0,a.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[r]),a.useEffect(()=>{r||u.size||!s||s()},[r]),"popLayout"===o&&(e=a.createElement(d,{isPresent:r},e)),a.createElement(l.O.Provider,{value:m},e)};function f(){return new Map}var h=r(76303),m=r(34815);let p=e=>e.key||"",x=({children:e,custom:t,initial:r=!0,onExitComplete:l,exitBeforeEnter:c,presenceAffectsLayout:o=!0,mode:d="sync"})=>{var f;(0,m.k)(!c,"Replace exitBeforeEnter with mode='wait'");let x=(0,a.useContext)(h.p).forceRender||function(){let e=n(),[t,r]=(0,a.useState)(0),s=(0,a.useCallback)(()=>{e.current&&r(t+1)},[t]);return[(0,a.useCallback)(()=>i.Wi.postRender(s),[s]),t]}()[0],y=n(),g=function(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}(e),v=g,k=(0,a.useRef)(new Map).current,j=(0,a.useRef)(v),b=(0,a.useRef)(new Map).current,w=(0,a.useRef)(!0);if((0,s.L)(()=>{w.current=!1,function(e,t){e.forEach(e=>{let r=p(e);t.set(r,e)})}(g,b),j.current=v}),f=()=>{w.current=!0,b.clear(),k.clear()},(0,a.useEffect)(()=>()=>f(),[]),w.current)return a.createElement(a.Fragment,null,v.map(e=>a.createElement(u,{key:p(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:o,mode:d},e)));v=[...v];let E=j.current.map(p),N=g.map(p),R=E.length;for(let e=0;e<R;e++){let t=E[e];-1!==N.indexOf(t)||k.has(t)||k.set(t,void 0)}return"wait"===d&&k.size&&(v=[]),k.forEach((e,r)=>{if(-1!==N.indexOf(r))return;let s=b.get(r);if(!s)return;let n=E.indexOf(r),i=e;i||(i=a.createElement(u,{key:p(s),isPresent:!1,onExitComplete:()=>{k.delete(r);let e=Array.from(b.keys()).filter(e=>!N.includes(e));if(e.forEach(e=>b.delete(e)),j.current=g.filter(t=>{let a=p(t);return a===r||e.includes(a)}),!k.size){if(!1===y.current)return;x(),l&&l()}},custom:t,presenceAffectsLayout:o,mode:d},s),k.set(r,i)),v.splice(n,0,i)}),v=v.map(e=>{let t=e.key;return k.has(t)?e:a.createElement(u,{key:p(e),isPresent:!0,presenceAffectsLayout:o,mode:d},e)}),a.createElement(a.Fragment,null,k.size?v:v.map(e=>(0,a.cloneElement)(e)))}}},function(e){e.O(0,[1791,5558,0,8001,2717,2386,7156,1744],function(){return e(e.s=18950)}),_N_E=e.O()}]);