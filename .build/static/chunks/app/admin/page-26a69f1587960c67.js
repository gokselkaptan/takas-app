(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{63637:function(e,t,a){Promise.resolve().then(a.bind(a,89288))},89288:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Q}});var s=a(15444),r=a(89300),l=a(75762),i=a(79047),n=a(31587),d=a(41084),c=a(48001),o=a(98155),x=a(81471),m=a(65407),u=a(62492),h=a(66124),g=a(30199),p=a(98699),b=a(16629),y=a(64624),j=a(75012),f=a(77694),N=a(40563),v=a(64670),k=a(48967),w=a(99211),D=a(58283),T=a(99983),S=a(96663),C=a(12337),A=a(23752),z=a(29876),E=a(23084),_=a(70362),Z=a(63751),B=a(25422),V=a(86250),R=a(43691),$=a(71911),L=a(77673),O=a(19484),K=a(61526),H=a(81059),P=a(63144),I=a(35798),G=a(46621),U=a(18218),M=a(88382),F=a(6488),Y=a(39090),q=a(10839);let J={defect:"\xdcr\xfcn Kusurlu",not_as_described:"A\xe7ıklamayla Uyuşmuyor",missing_parts:"Eksik Par\xe7a",damaged:"Hasar Var",other:"Diğer"},W={open:"A\xe7ık",evidence_pending:"Kanıt Bekleniyor",settlement_pending:"Uzlaşma Bekleniyor",under_review:"İnceleniyor",resolved:"\xc7\xf6z\xfcld\xfc",rejected:"Reddedildi"},X=[{id:"50_50",title:"Eşit Paylaşım",description:"%50 iade her iki tarafa"},{id:"70_30",title:"Alıcı Lehine",description:"%70 alıcıya, %30 satıcıya"},{id:"full_refund",title:"Tam İade",description:"T\xfcm teminat alıcıya"},{id:"cancel_no_penalty",title:"Cezasız İptal",description:"Trust puanı etkilenmez"}];function Q(){let{data:e,status:t}=(0,l.useSession)(),a=(0,i.useRouter)(),[Q,ee]=(0,r.useState)("interests"),[et,ea]=(0,r.useState)({}),[es,er]=(0,r.useState)(null),[el,ei]=(0,r.useState)(!1),[en,ed]=(0,r.useState)("week"),[ec,eo]=(0,r.useState)(!1),[ex,em]=(0,r.useState)(null),[eu,eh]=(0,r.useState)(!0),[eg,ep]=(0,r.useState)(null),[eb,ey]=(0,r.useState)(null),[ej,ef]=(0,r.useState)(!1),[eN,ev]=(0,r.useState)(null),[ek,ew]=(0,r.useState)(!1),[eD,eT]=(0,r.useState)("dry_run"),[eS,eC]=(0,r.useState)("all"),[eA,ez]=(0,r.useState)(50),[eE,e_]=(0,r.useState)(null),[eZ,eB]=(0,r.useState)([]),[eV,eR]=(0,r.useState)([]),[e$,eL]=(0,r.useState)({eventType:"",severity:""}),[eO,eK]=(0,r.useState)([]),[eH,eP]=(0,r.useState)([]),[eI,eG]=(0,r.useState)(null),[eU,eM]=(0,r.useState)(null),[eF,eY]=(0,r.useState)([]),[eq,eJ]=(0,r.useState)(null),[eW,eX]=(0,r.useState)([]),[eQ,e0]=(0,r.useState)(!1),[e2,e5]=(0,r.useState)(""),[e1,e4]=(0,r.useState)([]),[e3,e6]=(0,r.useState)(null),[e7,e8]=(0,r.useState)(null),[e9,te]=(0,r.useState)([]),[tt,ta]=(0,r.useState)([]),[ts,tr]=(0,r.useState)(0),[tl,ti]=(0,r.useState)([]),[tn,td]=(0,r.useState)(null),[tc,to]=(0,r.useState)(""),[tx,tm]=(0,r.useState)(0),[tu,th]=(0,r.useState)(""),[tg,tp]=(0,r.useState)(!1),[tb,ty]=(0,r.useState)(!0),[tj,tf]=(0,r.useState)(!1),[tN,tv]=(0,r.useState)("all"),[tk,tw]=(0,r.useState)("all"),[tD,tT]=(0,r.useState)(!1),[tS,tC]=(0,r.useState)("all"),[tA,tz]=(0,r.useState)("all"),[tE,t_]=(0,r.useState)(null),[tZ,tB]=(0,r.useState)(!1),[tV,tR]=(0,r.useState)(null);(0,r.useEffect)(()=>{if("loading"!==t){if("unauthenticated"===t){a.replace("/giris");return}"authenticated"===t&&e?.user?.email&&fetch("/api/profile").then(e=>e.json()).then(e=>{"admin"===e.role?tB(!0):(tR("Bu sayfaya erişim yetkiniz yok. Sadece adminler erişebilir."),ty(!1))}).catch(()=>{tR("Profil y\xfcklenemedi. L\xfctfen sayfayı yenileyin."),ty(!1)})}},[t,e,a]),(0,r.useEffect)(()=>{tZ&&t$()},[tZ,Q]),(0,r.useEffect)(()=>{"security"===Q&&tZ&&t$()},[e$]),(0,r.useEffect)(()=>{em(localStorage.getItem("takas-a-last-backup"))},[]);let t$=async()=>{if((0,q.s9)()){t_("İnternet bağlantınız yok. L\xfctfen bağlantınızı kontrol edin.");return}ty(!0),t_(null);try{if("interests"===Q){let{data:e,ok:t,error:a}=await (0,q.DV)("/api/swap-requests?all=true",{timeout:15e3});t&&e?eK(Array.isArray(e)?e:e.requests||[]):t_(a||"Takas istekleri y\xfcklenemedi")}else if("messages"===Q)await tG();else if("demand"===Q){let{data:e,ok:t,error:a}=await (0,q.DV)("/api/admin/demand-analysis",{timeout:15e3});t&&e?e6(e):t_(a||"Talep analizi y\xfcklenemedi")}else if("valor"===Q){let{data:e,ok:t,error:a}=await (0,q.DV)("/api/admin/system-valor",{timeout:15e3});t&&e?e8(e):t_(a||"Valor istatistikleri y\xfcklenemedi")}else if("errors"===Q)await tK();else if("disputes"===Q)await tL();else if("security"===Q){let[e,t,a]=await Promise.all([(0,q.DV)("/api/admin/security?action=stats",{timeout:15e3}),(0,q.DV)(`/api/admin/security?action=logs&eventType=${e$.eventType}&severity=${e$.severity}`,{timeout:15e3}),(0,q.DV)("/api/admin/security?action=suspicious",{timeout:15e3})]);e.ok&&e.data&&e_(e.data),t.ok&&t.data&&eB(t.data.logs||[]),a.ok&&a.data&&eR(a.data.activities||[]),e.ok||t.ok||t_(e.error||"G\xfcvenlik verileri y\xfcklenemedi")}else if("inflation"===Q){let{data:e,ok:t,error:a}=await (0,q.DV)("/api/admin/inflation",{timeout:15e3});t&&e?ep(e):t_(a||"Enflasyon verileri y\xfcklenemedi")}else if("config"===Q){let{data:e,ok:t,error:a}=await (0,q.DV)("/api/admin/config",{timeout:15e3});t&&e?ey(e.config):t_(a||"Konfig\xfcrasyon y\xfcklenemedi")}}catch(e){t_(e.message||"Beklenmeyen bir hata oluştu")}finally{ty(!1)}},tL=async()=>{try{let e=await fetch("/api/admin/disputes");if(e.ok){let t=await e.json();ti(t)}}catch(e){console.error("Error fetching disputes:",e)}},tO=async(e,t)=>{if(tn){tp(!0);try{(await fetch("/api/disputes",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({disputeId:tn.id,status:"resolved",resolution:tc||e,penaltyAmount:tx,refundApproved:t,adminNotes:tu})})).ok&&(td(null),to(""),tm(0),th(""),await tL())}catch(e){console.error("Error resolving dispute:",e)}finally{tp(!1)}}},tK=async()=>{try{let e=new URLSearchParams;"resolved"===tk?e.append("resolved","true"):"unresolved"===tk&&e.append("resolved","false"),"all"!==tS&&e.append("type",tS),e.append("limit","50");let t=await fetch(`/api/errors?${e.toString()}`);if(t.ok){let e=await t.json();te(e.errors||[]),ta(e.stats||[]),tr(e.pagination?.total||0)}}catch(e){console.error("Error fetching errors:",e)}},tH=async(e,t)=>{try{(await fetch("/api/errors",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,resolved:t})})).ok&&tK()}catch(e){console.error("Error resolving error:",e)}},tP=async e=>{if(confirm({resolved:"T\xfcm \xe7\xf6z\xfclm\xfcş hataları silmek istediğinize emin misiniz?",old:"7 g\xfcnden eski T\xdcM hataları silmek istediğinize emin misiniz?",all:"⚠️ T\xdcM hataları silmek istediğinize emin misiniz? Bu işlem geri alınamaz!"}[e])){tT(!1);try{let t="/api/errors?";"resolved"===e?t+="onlyResolved=true&olderThan=0":"old"===e?t+="olderThan=7":t+="olderThan=0";let a=await fetch(t,{method:"DELETE"});if(a.ok){let e=await a.json();alert(`✅ ${e.deleted} hata kaydı silindi`),tK()}else{let e=await a.json();alert(`❌ Hata: ${e.error}`)}}catch(e){console.error("Error clearing errors:",e),alert("Hata temizlenirken bir sorun oluştu")}}},tI=async()=>{tf(!0);try{let e=await fetch("/api/admin/demand-analysis",{method:"POST"});if(e.ok){let t=await e.json();e6(t.analysis)}}catch(e){console.error("Refresh error:",e)}finally{tf(!1)}},tG=async()=>{try{let e=await fetch("/api/admin/messages?type=conversations");if(e.ok){let t=await e.json(),a=Array.isArray(t)?t:[];eY(a),e4(a)}else console.error("Conversations fetch failed:",e.status),eY([]),e4([])}catch(e){console.error("Fetch conversations error:",e),eY([]),e4([])}},tU=async e=>{eJ(e),e0(!0);let t=e.participants[0]?.id,a=e.participants[1]?.id,s=e.product?.id||"null";try{let e=await fetch(`/api/admin/messages?type=conversation-detail&user1=${t}&user2=${a}&productId=${s}`);if(e.ok){let t=await e.json();eX(t.messages||[])}}catch(e){console.error("Fetch conversation detail error:",e)}e0(!1)},tM=async e=>{if(confirm("Bu mesajı silmek istediğinize emin misiniz?")){eG(e);try{(await fetch("/api/admin/messages",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({messageId:e})})).ok&&eX(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Delete error:",e)}eG(null)}},tF=async e=>{let t=e.messages?.length||0;if(!confirm(`Bu konuşmadaki ${t} mesajı silmek istediğinize emin misiniz? Bu işlem geri alınamaz.`))return;let a=e.participants[0]?.id,s=e.participants[1]?.id,r=e.product?.id,l=r?`${r}-${[a,s].sort().join("-")}`:`no-product-${[a,s].sort().join("-")}`;try{(await fetch("/api/admin/messages",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({conversationKey:l})})).ok&&(tG(),eJ(null),eX([]))}catch(e){console.error("Delete conversation error:",e)}},tY=async(e,t)=>{try{(await fetch("/api/swap-requests",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({requestId:e,status:t})})).ok&&eK(a=>a.map(a=>a.id===e?{...a,status:t}:a))}catch(e){console.error("Update error:",e)}},tq=e=>new Date(e).toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),tJ=async e=>{ei(!0);try{let t=await fetch(`/api/admin/user-analytics?period=${e}`);if(t.ok){let e=await t.json();er(e)}}catch(e){console.error("Analytics fetch error:",e)}finally{ei(!1)}};(0,r.useEffect)(()=>{"users"===Q&&tZ&&tJ(en)},[Q,tZ]);let tW=eO.filter(e=>"all"===tN||e.status===tN);return tV?(0,s.jsxs)("div",{className:"min-h-screen pt-24 flex flex-col items-center justify-center gap-4",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDEAB"}),(0,s.jsx)("p",{className:"text-red-500 text-lg text-center",children:tV}),(0,s.jsx)("button",{onClick:()=>{tR(null),window.location.reload()},className:"px-6 py-3 bg-emerald-500 text-white rounded-xl hover:bg-emerald-600 transition",children:"Tekrar Dene"}),(0,s.jsx)(d.default,{href:"/",className:"text-purple-600 hover:underline mt-2",children:"Ana Sayfaya D\xf6n"})]}):tZ?tE?(0,s.jsxs)("div",{className:"min-h-screen pt-24 flex flex-col items-center justify-center gap-4",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"⚠️"}),(0,s.jsx)("p",{className:"text-red-500 text-lg text-center",children:tE}),(0,s.jsx)("button",{onClick:()=>{t_(null),t$()},className:"px-6 py-3 bg-emerald-500 text-white rounded-xl hover:bg-emerald-600 transition",children:"Tekrar Dene"})]}):tb?(0,s.jsx)("div",{className:"min-h-screen pt-24 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-frozen-500 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Veriler y\xfckleniyor..."})]})}):(0,s.jsxs)("main",{className:"min-h-screen bg-gray-50 pt-20 pb-12",children:[eu&&e?.user?.email==="join@takas-a.com"&&(0,s.jsxs)("div",{className:"fixed top-0 left-0 right-0 z-[9999] bg-red-600 text-white p-3 text-center",children:[(0,s.jsx)("p",{className:"text-sm font-bold",children:"⚠️ Admin şifreniz zayıf olabilir! G\xfcvenliğiniz i\xe7in l\xfctfen değiştirin."}),(0,s.jsxs)("div",{className:"flex justify-center gap-3 mt-2",children:[(0,s.jsx)("button",{onClick:()=>a.push("/profil?tab=settings"),className:"px-4 py-1 bg-white text-red-600 rounded-lg text-sm font-bold hover:bg-gray-100 transition-colors",children:"Şifreyi Değiştir"}),(0,s.jsx)("button",{onClick:()=>eh(!1),className:"px-4 py-1 bg-red-700 rounded-lg text-sm hover:bg-red-800 transition-colors",children:"Sonra"})]})]}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[(!ex||Date.now()-new Date(ex).getTime()>6048e5)&&(0,s.jsxs)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-2xl",children:"⚠️"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-red-700",children:ex?"Son yedekleme 7 g\xfcnden eski!":"Hen\xfcz yedek alınmadı!"}),(0,s.jsx)("p",{className:"text-xs text-red-500",children:"Veri kaybını \xf6nlemek i\xe7in hemen yedek alın."})]}),(0,s.jsx)("button",{onClick:()=>ee("backup"),className:"px-3 py-1.5 bg-red-500 text-white text-xs font-bold rounded-lg hover:bg-red-600 transition-colors",children:"Yedek Al"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(d.default,{href:"/",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-2 transition-colors",children:[(0,s.jsx)(o.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Ana Sayfa"})]}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Panel"}),(0,s.jsx)("p",{className:"text-gray-600",children:"T\xfcm \xfcr\xfcn ilgi bildirimleri ve mesajlar"})]}),(0,s.jsxs)("button",{onClick:t$,className:"flex items-center gap-2 px-4 py-2 bg-white rounded-xl shadow-sm hover:shadow-md transition-all",children:[(0,s.jsx)(x.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Yenile"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,s.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-purple-100 flex items-center justify-center",children:(0,s.jsx)(m.Z,{className:"w-6 h-6 text-purple-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:eO.length}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Toplam İlgi"})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-yellow-100 flex items-center justify-center",children:(0,s.jsx)(u.Z,{className:"w-6 h-6 text-yellow-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:eO.filter(e=>"pending"===e.status).length}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Bekleyen"})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center",children:(0,s.jsx)(h.Z,{className:"w-6 h-6 text-green-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:eO.filter(e=>"accepted"===e.status).length}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Kabul Edilen"})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center",children:(0,s.jsx)(g.Z,{className:"w-6 h-6 text-blue-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:eH.length}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Mesaj"})]})]})})]}),(0,s.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3 mb-6",children:[{id:"interests",icon:"❤️",label:"İlgi Bildirimleri",color:"from-pink-500 to-rose-500",badge:null},{id:"messages",icon:"\uD83D\uDCAC",label:"Mesajlar",color:"from-blue-500 to-cyan-500",badge:null},{id:"demand",icon:"\uD83D\uDCCA",label:"Talep Analizi",color:"from-emerald-500 to-green-500",badge:null},{id:"valor",icon:"\uD83D\uDCB0",label:"Sistem Valor",color:"from-yellow-500 to-amber-500",badge:null},{id:"errors",icon:"\uD83D\uDC1B",label:"Hata İzleme",color:"from-red-500 to-orange-500",badge:ts>0?ts:null},{id:"disputes",icon:"⚖️",label:"Anlaşmazlıklar",color:"from-amber-500 to-yellow-500",badge:tl.filter(e=>"resolved"!==e.status&&"rejected"!==e.status).length>0?tl.filter(e=>"resolved"!==e.status&&"rejected"!==e.status).length:null},{id:"security",icon:"\uD83D\uDD12",label:"G\xfcvenlik",color:"from-indigo-500 to-purple-500",badge:eE&&eE.last24h>10?eE.last24h:null},{id:"inflation",icon:"\uD83D\uDCC8",label:"Enflasyon",color:"from-purple-500 to-pink-500",badge:eg?.metrics?.healthStatus==="critical"?"!":null},{id:"users",icon:"\uD83D\uDC65",label:"Kullanıcı Analitik",color:"from-blue-500 to-indigo-500",badge:null},{id:"test",icon:"\uD83E\uDDEA",label:"Test & Doğrulama",color:"from-lime-500 to-green-500",badge:null},{id:"config",icon:"⚙️",label:"Ayarlar",color:"from-gray-500 to-slate-500",badge:null},{id:"backup",icon:"\uD83D\uDCBE",label:"Yedekleme",color:"from-teal-500 to-emerald-500",badge:null}].map(e=>(0,s.jsxs)("button",{onClick:()=>ee(e.id),className:`relative flex flex-col items-center justify-center p-3 rounded-2xl transition-all ${Q===e.id?`bg-gradient-to-br ${e.color} text-white shadow-lg scale-[1.02]`:"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 shadow-sm border dark:border-gray-700"}`,children:[(0,s.jsx)("span",{className:"text-2xl mb-1",children:e.icon}),(0,s.jsx)("span",{className:"text-[11px] font-bold leading-tight text-center",children:e.label}),null!==e.badge&&(0,s.jsx)("span",{className:`absolute -top-1 -right-1 min-w-[20px] h-5 px-1.5 flex items-center justify-center text-[10px] font-bold rounded-full ${Q===e.id?"bg-white text-red-500":"bg-red-500 text-white"}`,children:e.badge}),Q===e.id&&(0,s.jsx)("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-6 h-1 bg-white/60 rounded-full"})]},e.id))}),"interests"===Q&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)(p.Z,{className:"w-5 h-5 text-gray-500"}),(0,s.jsxs)("select",{value:tN,onChange:e=>tv(e.target.value),className:"px-4 py-2 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-frozen-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"all",children:"T\xfcm\xfc"}),(0,s.jsx)("option",{value:"pending",children:"Bekleyen"}),(0,s.jsx)("option",{value:"accepted",children:"Kabul Edilen"}),(0,s.jsx)("option",{value:"rejected",children:"Reddedilen"})]})]}),(0,s.jsx)("div",{className:"space-y-4",children:0===tW.length?(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-12 text-center",children:[(0,s.jsx)(m.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Hen\xfcz ilgi bildirimi yok"})]}):tW.map(e=>(0,s.jsx)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,s.jsx)("div",{className:"relative w-full md:w-32 h-32 rounded-xl overflow-hidden bg-gray-100 flex-shrink-0",children:e.product.images[0]?(0,s.jsx)(c.default,{src:e.product.images[0],alt:e.product.title,fill:!0,className:"object-cover"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)(b.Z,{className:"w-8 h-8 text-gray-300"})})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.default,{href:`/urun/${e.product.id}`,className:"text-lg font-semibold text-gray-900 hover:text-purple-600 transition-colors",children:e.product.title}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[e.product.valorPrice," Valor • ",e.product.category.name]})]}),(0,s.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${"pending"===e.status?"bg-yellow-100 text-yellow-700":"accepted"===e.status?"bg-green-100 text-green-700":"awaiting_delivery"===e.status?"bg-blue-100 text-blue-700":"delivered"===e.status?"bg-indigo-100 text-indigo-700":"completed"===e.status?"bg-emerald-100 text-emerald-700":"disputed"===e.status?"bg-orange-100 text-orange-700":"refunded"===e.status?"bg-gray-100 text-gray-700":"bg-red-100 text-red-700"}`,children:"pending"===e.status?"Bekliyor":"accepted"===e.status?"Kabul Edildi":"awaiting_delivery"===e.status?"Teslimat Bekliyor":"delivered"===e.status?"Teslim Edildi":"completed"===e.status?"Tamamlandı":"disputed"===e.status?"Sorun Bildirildi":"refunded"===e.status?"İade Edildi":"Reddedildi"})]}),(0,s.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded-xl",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)(y.Z,{className:"w-4 h-4 text-gray-400"}),(0,s.jsx)("span",{className:"font-medium text-gray-700",children:e.requester.name||"Anonim"}),(0,s.jsx)("a",{href:`mailto:${e.requester.email}`,className:"text-purple-600 hover:underline",children:e.requester.email})]}),e.message&&(0,s.jsxs)("p",{className:"mt-2 text-sm text-gray-600 italic",children:['"',e.message,'"']})]}),(0,s.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,s.jsx)(j.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:tq(e.createdAt)})]}),"pending"===e.status&&(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("button",{onClick:()=>tY(e.id,"accepted"),className:"flex items-center gap-1 px-4 py-2 bg-green-100 text-green-700 rounded-xl hover:bg-green-200 transition-colors",children:[(0,s.jsx)(h.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Kabul Et"})]}),(0,s.jsxs)("button",{onClick:()=>tY(e.id,"rejected"),className:"flex items-center gap-1 px-4 py-2 bg-red-100 text-red-700 rounded-xl hover:bg-red-200 transition-colors",children:[(0,s.jsx)(f.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Reddet"})]})]})]})]})]})},e.id))})]}),"messages"===Q&&(0,s.jsxs)("div",{className:"flex gap-4 h-[70vh]",children:[(0,s.jsxs)("div",{className:"w-1/3 border rounded-xl overflow-hidden flex flex-col bg-white",children:[(0,s.jsxs)("div",{className:"p-3 border-b bg-gray-50",children:[(0,s.jsx)("input",{type:"text",placeholder:"Kullanıcı adı veya email ile ara...",value:e2,onChange:e=>{e5(e.target.value);let t=e.target.value.toLowerCase();e4(eF.filter(e=>e.participants?.some(e=>e.name?.toLowerCase().includes(t)||e.email?.toLowerCase().includes(t))))},className:"w-full px-3 py-2 border rounded-lg text-sm"}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Toplam ",e1.length," konuşma"]})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===e1.length?(0,s.jsxs)("div",{className:"p-8 text-center text-gray-400",children:[(0,s.jsx)(g.Z,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,s.jsx)("p",{children:"Konuşma bulunamadı"})]}):e1.map((e,t)=>(0,s.jsx)("div",{onClick:()=>tU(e),className:`p-3 border-b cursor-pointer hover:bg-blue-50 transition-colors ${eq===e?"bg-blue-100":""}`,children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("p",{className:"text-sm font-medium truncate",children:[e.participants?.[0]?.name||"Anonim"," ↔ ",e.participants?.[1]?.name||"Anonim"]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.product?.title||"Genel mesajlaşma"}),(0,s.jsxs)("p",{className:"text-xs text-gray-400",children:[e.messages?.length||0," mesaj • ",new Date(e.lastMessage).toLocaleDateString("tr-TR")]})]}),(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),tF(e)},className:"p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"T\xfcm konuşmayı sil",children:(0,s.jsx)(N.Z,{className:"w-4 h-4"})})]})},t))})]}),(0,s.jsx)("div",{className:"flex-1 border rounded-xl overflow-hidden flex flex-col bg-white",children:eq?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"p-3 border-b bg-gray-50 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-medium text-sm",children:[eq.participants?.[0]?.name||eq.participants?.[0]?.email," ↔ ",eq.participants?.[1]?.name||eq.participants?.[1]?.email]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[eq.product?.title||"Genel"," • ",eW.length," mesaj"]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("button",{onClick:()=>tF(eq),className:"px-3 py-1 bg-red-100 text-red-600 rounded-lg text-xs font-medium hover:bg-red-200 flex items-center gap-1",children:[(0,s.jsx)(N.Z,{className:"w-3 h-3"}),"T\xfcm\xfcn\xfc Sil"]}),(0,s.jsx)("button",{onClick:()=>{eJ(null),eX([])},className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs",children:"✕ Kapat"})]})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50",children:eQ?(0,s.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,s.jsx)(x.Z,{className:"w-6 h-6 animate-spin mx-auto mb-2"}),"Y\xfckleniyor..."]}):0===eW.length?(0,s.jsx)("div",{className:"text-center py-8 text-gray-400",children:"Mesaj bulunamadı"}):eW.map(e=>(0,s.jsx)("div",{className:"group relative",children:(0,s.jsxs)("div",{className:`flex items-start gap-2 ${e.senderId===eq.participants?.[0]?.id?"":"flex-row-reverse"}`,children:[(0,s.jsxs)("div",{className:`max-w-[75%] rounded-xl p-3 ${e.senderId===eq.participants?.[0]?.id?"bg-white border":"bg-blue-500 text-white"}`,children:[(0,s.jsx)("p",{className:"text-xs font-medium mb-1 opacity-70",children:e.sender?.name||e.sender?.email}),(0,s.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-1 gap-2",children:[(0,s.jsx)("p",{className:"text-[10px] opacity-50",children:new Date(e.createdAt).toLocaleString("tr-TR")}),e.isModerated&&(0,s.jsx)("span",{className:"text-[10px] bg-yellow-200 text-yellow-800 px-1 rounded",children:"Moderasyonlu"})]})]}),(0,s.jsx)("button",{onClick:()=>tM(e.id),disabled:eI===e.id,className:"opacity-0 group-hover:opacity-100 transition-opacity p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg mt-2",title:"Bu mesajı sil",children:eI===e.id?(0,s.jsx)(x.Z,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(N.Z,{className:"w-4 h-4"})})]})},e.id))}),(0,s.jsx)("div",{className:"p-2 border-t bg-white text-center",children:(0,s.jsx)("p",{className:"text-xs text-gray-400",children:"⚠️ Admin g\xf6r\xfcn\xfcm\xfc — Mesajlar sadece k\xf6t\xfcye kullanım tespiti i\xe7in incelenir"})})]}):(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(g.Z,{className:"w-16 h-16 mx-auto mb-2 opacity-50"}),(0,s.jsx)("p",{children:"Bir konuşma se\xe7in"})]})})})]}),"demand"===Q&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Kategori Talep Analizi"}),e3&&(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Son g\xfcncelleme: ",new Date(e3.analyzedAt).toLocaleString("tr-TR")]})]}),(0,s.jsxs)("button",{onClick:tI,disabled:tj,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 disabled:opacity-50",children:[(0,s.jsx)(x.Z,{className:`w-4 h-4 ${tj?"animate-spin":""}`}),tj?"G\xfcncelleniyor...":"Yenile"]})]}),e3&&(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-xl",children:[(0,s.jsx)("p",{className:"text-sm text-blue-600 font-medium",children:"Toplam G\xf6r\xfcnt\xfclenme"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-700",children:e3.globalStats.totalViews.toLocaleString()})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-xl",children:[(0,s.jsx)("p",{className:"text-sm text-green-600 font-medium",children:"Haftalık Takas"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-700",children:e3.globalStats.totalSwaps})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-xl",children:[(0,s.jsx)("p",{className:"text-sm text-purple-600 font-medium",children:"Ort. Talep Skoru"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-purple-700",children:[e3.globalStats.avgDemandScore,"/100"]})]})]}),tb?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(x.Z,{className:"w-8 h-8 animate-spin text-emerald-500 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Y\xfckleniyor..."})]}):e3?.categories.length===0?(0,s.jsx)("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:(0,s.jsx)("p",{className:"text-gray-500",children:"Hen\xfcz analiz verisi yok"})}):(0,s.jsx)("div",{className:"space-y-3",children:e3?.categories.map(e=>s.jsxs(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white p-4 rounded-xl border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${"rising"===e.trend?"bg-green-100":"falling"===e.trend?"bg-red-100":"bg-gray-100"}`,children:"rising"===e.trend?s.jsx(v.Z,{className:"w-5 h-5 text-green-600"}):"falling"===e.trend?s.jsx(k.Z,{className:"w-5 h-5 text-red-600"}):s.jsx(w.Z,{className:"w-5 h-5 text-gray-500"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:e.categoryName}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mt-1",children:[s.jsxs("span",{children:[e.totalProducts," \xfcr\xfcn"]}),s.jsxs("span",{children:[e.totalViews.toLocaleString()," g\xf6r\xfcnt\xfclenme"]}),s.jsxs("span",{children:[e.completedSwaps," takas"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${e.demandScore>=70?"text-green-600":e.demandScore>=40?"text-amber-600":"text-red-600"}`,children:e.demandScore}),s.jsx("p",{className:"text-xs text-gray-500",children:"Talep Skoru"})]}),s.jsxs("div",{className:"text-center bg-gradient-to-br from-purple-50 to-purple-100 px-4 py-2 rounded-xl",children:[s.jsxs("div",{className:`text-xl font-bold ${e.priceMultiplier>1?"text-green-600":e.priceMultiplier<1?"text-red-600":"text-gray-600"}`,children:[e.priceMultiplier>1?"+":"",Math.round((e.priceMultiplier-1)*100),"%"]}),s.jsx("p",{className:"text-xs text-purple-600",children:"Fiyat \xc7arpanı"})]})]})]}),s.jsx("div",{className:"mt-3",children:s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-500 ${e.demandScore>=70?"bg-green-500":e.demandScore>=40?"bg-amber-500":"bg-red-500"}`,style:{width:`${e.demandScore}%`}})})})]},e.categoryId))}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[(0,s.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"Fiyat \xc7arpanı Nasıl \xc7alışır?"}),(0,s.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Y\xfcksek talep"})," (+%30'a kadar): \xc7ok g\xf6r\xfcnt\xfclenen, az \xfcr\xfcn olan kategoriler"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Normal talep"})," (\xb1%0): Dengeli arz-talep olan kategoriler"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"D\xfcş\xfck talep"})," (-%20'ye kadar): Az ilgi g\xf6ren kategoriler"]}),(0,s.jsx)("li",{children:"• AI fiyat \xf6nerisi bu \xe7arpanla otomatik ayarlanır"})]})]})]}),"valor"===Q&&(0,s.jsx)("div",{className:"space-y-6",children:tb?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(x.Z,{className:"w-8 h-8 animate-spin text-amber-500 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Y\xfckleniyor..."})]}):e7?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-orange-100 p-6 rounded-2xl border border-amber-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl bg-amber-200 flex items-center justify-center",children:(0,s.jsx)(D.Z,{className:"w-5 h-5 text-amber-700"})}),(0,s.jsx)("span",{className:"text-sm font-medium text-amber-700",children:"Sistem Havuzu"})]}),(0,s.jsx)("p",{className:"text-3xl font-bold text-amber-900",children:e7.communityPoolValor.toLocaleString("tr-TR")}),(0,s.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"Takaslardan kesilen toplam Valor"})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 p-6 rounded-2xl border border-green-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl bg-green-200 flex items-center justify-center",children:(0,s.jsx)(T.Z,{className:"w-5 h-5 text-green-700"})}),(0,s.jsx)("span",{className:"text-sm font-medium text-green-700",children:"Dolaşımdaki"})]}),(0,s.jsx)("p",{className:"text-3xl font-bold text-green-900",children:e7.circulatingValor.toLocaleString("tr-TR")}),(0,s.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"Aktif kullanımdaki Valor"})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-100 p-6 rounded-2xl border border-blue-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl bg-blue-200 flex items-center justify-center",children:(0,s.jsx)(S.Z,{className:"w-5 h-5 text-blue-700"})}),(0,s.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"Dağıtılan"})]}),(0,s.jsx)("p",{className:"text-3xl font-bold text-blue-900",children:e7.distributedValor.toLocaleString("tr-TR")}),(0,s.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Toplam dağıtılmış Valor"})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-violet-100 p-6 rounded-2xl border border-purple-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl bg-purple-200 flex items-center justify-center",children:(0,s.jsx)(b.Z,{className:"w-5 h-5 text-purple-700"})}),(0,s.jsx)("span",{className:"text-sm font-medium text-purple-700",children:"Tamamlanan"})]}),(0,s.jsx)("p",{className:"text-3xl font-bold text-purple-900",children:e7.totalSwapsCompleted}),(0,s.jsx)("p",{className:"text-xs text-purple-600 mt-1",children:"Toplam takas sayısı"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Kullanım Oranı"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["%",e7.utilizationRate]})]}),(0,s.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Ort. Kesinti/Takas"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[e7.averageFeePerSwap," V"]})]}),(0,s.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Toplam İşlem"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e7.totalTransactions})]}),(0,s.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Kullanıcı Bakiyeleri"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[e7.totalUserValor.toLocaleString("tr-TR")," V"]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-6 border border-gray-200",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Valor Arzı Dağılımı"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"h-8 bg-gray-200 rounded-full overflow-hidden flex",children:[(0,s.jsxs)("div",{className:"bg-green-500 flex items-center justify-center text-xs font-medium text-white",style:{width:`${e7.circulatingValor/e7.totalValorSupply*100}%`},children:[(e7.circulatingValor/e7.totalValorSupply*100).toFixed(2),"%"]}),(0,s.jsxs)("div",{className:"bg-amber-500 flex items-center justify-center text-xs font-medium text-white",style:{width:`${e7.communityPoolValor/e7.totalValorSupply*100}%`},children:[(e7.communityPoolValor/e7.totalValorSupply*100).toFixed(2),"%"]}),(0,s.jsx)("div",{className:"bg-blue-500 flex items-center justify-center text-xs font-medium text-white",style:{width:`${e7.reserveValor/e7.totalValorSupply*100}%`},children:"Rezerv"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,s.jsxs)("span",{children:["Dolaşımda: ",e7.circulatingValor.toLocaleString("tr-TR")]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-amber-500"}),(0,s.jsxs)("span",{children:["Sistem Havuzu: ",e7.communityPoolValor.toLocaleString("tr-TR")]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,s.jsxs)("span",{children:["Rezerv: ",e7.reserveValor.toLocaleString("tr-TR")]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-gray-300"}),(0,s.jsxs)("span",{children:["Dağıtılmamış: ",(e7.totalValorSupply-e7.distributedValor-e7.reserveValor).toLocaleString("tr-TR")]})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-6 border border-gray-200",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Son İşlemler"}),0===e7.recentTransactions.length?(0,s.jsx)("p",{className:"text-gray-500 text-center py-8",children:"Hen\xfcz işlem yok"}):(0,s.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e7.recentTransactions.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e.type.includes("bonus")?"bg-green-100":"swap_fee"===e.type?"bg-amber-100":"swap_complete"===e.type?"bg-blue-100":"bg-gray-100"}`,children:e.type.includes("bonus")?(0,s.jsx)(S.Z,{className:"w-5 h-5 text-green-600"}):"swap_fee"===e.type?(0,s.jsx)(C.Z,{className:"w-5 h-5 text-amber-600"}):(0,s.jsx)(A.Z,{className:"w-5 h-5 text-blue-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:"welcome_bonus"===e.type?"Hoşgeldin Bonusu":"survey_bonus"===e.type?"Anket Bonusu":"referral_bonus"===e.type?"Davet Bonusu":"swap_fee"===e.type?"Takas Kesintisi":"swap_complete"===e.type?"Takas Tamamlandı":"swap_bonus"===e.type?"Takas Bonusu":"multi_swap_bonus"===e.type?"\xc7oklu Takas Bonusu":e.type}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[e.toUser?(0,Y.Gf)(e.toUser):"Sistem",e.fromUser?` ← ${(0,Y.Gf)(e.fromUser)}`:""]})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:`font-bold ${"swap_fee"===e.type?"text-amber-600":"text-green-600"}`,children:["swap_fee"===e.type?"-":"+",e.amount," V"]}),(0,s.jsx)("p",{className:"text-xs text-gray-400",children:new Date(e.createdAt).toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})})]})]},e.id))})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:"\uD83D\uDD04 Toplu Valor Yeniden Değerleme (Form\xfcl Tabanlı)"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:'T\xfcm \xfcr\xfcnlerin Valor değerlerini yeni endeks form\xfcl\xfcne g\xf6re yeniden hesaplar. \xdclke bazlı fiyatlandırma (TR/EU) otomatik algılanır. \xd6nce "Dry Run" yaparak sonu\xe7ları inceleyin.'}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 block mb-1",children:"Mod"}),(0,s.jsxs)("select",{value:eD,onChange:e=>eT(e.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,s.jsx)("option",{value:"dry_run",children:"\uD83D\uDD0D Dry Run (\xd6nizleme)"}),(0,s.jsx)("option",{value:"apply",children:"⚡ Uygula (Kalıcı)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 block mb-1",children:"Kategori"}),(0,s.jsxs)("select",{value:eS,onChange:e=>eC(e.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,s.jsx)("option",{value:"all",children:"T\xfcm Kategoriler"}),(0,s.jsx)("option",{value:"elektronik",children:"Elektronik"}),(0,s.jsx)("option",{value:"giyim",children:"Giyim"}),(0,s.jsx)("option",{value:"ev-yasam",children:"Ev & Yaşam"}),(0,s.jsx)("option",{value:"spor-outdoor",children:"Spor & Outdoor"}),(0,s.jsx)("option",{value:"oto-yedek-parca",children:"Oto & Moto"}),(0,s.jsx)("option",{value:"beyaz-esya",children:"Beyaz Eşya"}),(0,s.jsx)("option",{value:"mutfak",children:"Mutfak"}),(0,s.jsx)("option",{value:"taki-aksesuar",children:"Takı & Aksesuar"}),(0,s.jsx)("option",{value:"bebek-cocuk",children:"Bebek & \xc7ocuk"}),(0,s.jsx)("option",{value:"evcil-hayvan",children:"Evcil Hayvan"}),(0,s.jsx)("option",{value:"kitap-hobi",children:"Kitap & Hobi"}),(0,s.jsx)("option",{value:"bahce",children:"Bah\xe7e"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 block mb-1",children:"\xdcr\xfcn Limiti"}),(0,s.jsxs)("select",{value:eA,onChange:e=>ez(Number(e.target.value)),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,s.jsx)("option",{value:10,children:"10 \xfcr\xfcn"}),(0,s.jsx)("option",{value:25,children:"25 \xfcr\xfcn"}),(0,s.jsx)("option",{value:50,children:"50 \xfcr\xfcn"}),(0,s.jsx)("option",{value:100,children:"100 \xfcr\xfcn"}),(0,s.jsx)("option",{value:200,children:"200 \xfcr\xfcn (max)"})]})]})]}),(0,s.jsx)("button",{onClick:async()=>{if("apply"!==eD||confirm("⚠️ DİKKAT: Bu işlem se\xe7ili \xfcr\xfcnlerin Valor değerlerini KALICI olarak değiştirecek. Devam?")&&confirm("\uD83D\uDD34 GER\xc7EKTEN EMİN MİSİNİZ? Bu işlem geri alınamaz!")){ew(!0),ev(null);try{let e=await fetch("/api/admin/revalue",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:eD,categoryFilter:eS,limit:eA})}),t=await e.json();e.ok?ev(t):alert(t.error||"Hata oluştu")}catch{alert("Bağlantı hatası")}ew(!1)}},disabled:ek,className:`w-full py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-colors ${"apply"===eD?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"} disabled:opacity-50`,children:ek?"⏳ Hesaplanıyor... (bu birka\xe7 dakika s\xfcrebilir)":"apply"===eD?"⚡ TOPLU G\xdcNCELLEME BAŞLAT":"\uD83D\uDD0D Dry Run Başlat"}),eN&&(0,s.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,s.jsxs)("div",{className:`p-4 rounded-xl border-2 ${"apply"===eN.mode?"bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-700":"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700"}`,children:[(0,s.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,s.jsx)("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"apply"===eN.mode?"✅ G\xfcncellendi":"\uD83D\uDD0D \xd6nizleme"})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"İşlenen"}),(0,s.jsx)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:eN.processed})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"Eski Toplam"}),(0,s.jsxs)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[eN.totalOldValor?.toLocaleString("tr-TR")," V"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"Yeni Toplam"}),(0,s.jsxs)("p",{className:"text-lg font-bold text-purple-700 dark:text-purple-400",children:[eN.totalNewValor?.toLocaleString("tr-TR")," V"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"Değişim"}),(0,s.jsx)("p",{className:`text-lg font-bold ${eN.totalChange?.startsWith("-")?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:eN.totalChange})]})]}),eN.errors>0&&(0,s.jsxs)("p",{className:"text-xs text-red-500 dark:text-red-400 mt-2",children:["⚠️ ",eN.errors," \xfcr\xfcn hata aldı"]})]}),eN.results?.length>0&&(0,s.jsx)("div",{className:"overflow-x-auto max-h-[400px] border border-gray-200 dark:border-gray-700 rounded-lg",children:(0,s.jsxs)("table",{className:"w-full text-xs",children:[(0,s.jsx)("thead",{className:"sticky top-0 bg-gray-50 dark:bg-gray-900",children:(0,s.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,s.jsx)("th",{className:"text-left p-2 text-gray-600 dark:text-gray-400",children:"\xdcr\xfcn"}),(0,s.jsx)("th",{className:"text-left p-2 text-gray-600 dark:text-gray-400",children:"Kategori"}),(0,s.jsx)("th",{className:"text-center p-2 text-gray-600 dark:text-gray-400",children:"\xdclke"}),(0,s.jsx)("th",{className:"text-right p-2 text-gray-600 dark:text-gray-400",children:"TL Tahmin"}),(0,s.jsx)("th",{className:"text-right p-2 text-gray-600 dark:text-gray-400",children:"Eski V"}),(0,s.jsx)("th",{className:"text-right p-2 text-gray-600 dark:text-gray-400",children:"Yeni V"}),(0,s.jsx)("th",{className:"text-right p-2 text-gray-600 dark:text-gray-400",children:"Değişim"})]})}),(0,s.jsx)("tbody",{children:eN.results.map(e=>(0,s.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[(0,s.jsx)("td",{className:"p-2 max-w-[180px] truncate text-gray-900 dark:text-white",title:e.title,children:e.title}),(0,s.jsx)("td",{className:"p-2 text-gray-500 dark:text-gray-400",children:e.category}),(0,s.jsx)("td",{className:"p-2 text-center",children:(0,s.jsx)("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold ${"TR"===e.country?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400"}`,children:e.country||"TR"})}),(0,s.jsxs)("td",{className:"p-2 text-right text-gray-600 dark:text-gray-300",children:[e.estimatedTL?.toLocaleString("tr-TR"),"₺"]}),(0,s.jsx)("td",{className:"p-2 text-right text-gray-500 dark:text-gray-400",children:e.oldValor?.toLocaleString("tr-TR")}),(0,s.jsx)("td",{className:"p-2 text-right font-bold text-purple-700 dark:text-purple-400",children:e.newValor?.toLocaleString("tr-TR")}),(0,s.jsx)("td",{className:`p-2 text-right font-bold ${e.change?.startsWith("-")?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:e.error?"❌ Hata":e.change})]},e.id))})]})})]})]}),(0,s.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[(0,s.jsx)("h4",{className:"font-medium text-amber-800 mb-2",children:"Sistem Valor Nasıl \xc7alışır?"}),(0,s.jsxs)("ul",{className:"text-sm text-amber-700 space-y-1",children:[(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Sistem Havuzu:"})," Her takasta %0.5-3 arası progresif kesinti alınır"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Dolaşımdaki:"})," Kullanıcılara dağıtılmış ve aktif kullanımda olan Valor"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Rezerv:"})," Gelecekteki etkinlikler ve bonuslar i\xe7in ayrılmış miktar"]}),(0,s.jsx)("li",{children:"• Sistem havuzundaki Valor, platform geliştirme ve topluluk \xf6d\xfclleri i\xe7in kullanılır"})]})]})]}):(0,s.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[(0,s.jsx)(z.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Sistem Valor verileri y\xfcklenemedi"})]})}),"errors"===Q&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,s.jsx)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,s.jsx)(E.Z,{className:"w-5 h-5 text-red-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:ts}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Toplam Hata"})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,s.jsx)(_.Z,{className:"w-5 h-5 text-orange-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:tt.filter(e=>!1===e.resolved).reduce((e,t)=>e+t._count,0)}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"\xc7\xf6z\xfclmemiş"})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,s.jsx)(h.Z,{className:"w-5 h-5 text-green-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:tt.filter(e=>!0===e.resolved).reduce((e,t)=>e+t._count,0)}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"\xc7\xf6z\xfcld\xfc"})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,s.jsx)(T.Z,{className:"w-5 h-5 text-purple-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:tt.filter(e=>"client"===e.type).reduce((e,t)=>e+t._count,0)}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Client Hatası"})]})]})})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(p.Z,{className:"w-5 h-5 text-gray-500"}),(0,s.jsxs)("select",{value:tk,onChange:e=>{tw(e.target.value),setTimeout(tK,100)},className:"px-4 py-2 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-red-500",children:[(0,s.jsx)("option",{value:"all",children:"T\xfcm Durumlar"}),(0,s.jsx)("option",{value:"unresolved",children:"\xc7\xf6z\xfclmemiş"}),(0,s.jsx)("option",{value:"resolved",children:"\xc7\xf6z\xfcld\xfc"})]})]}),(0,s.jsxs)("select",{value:tS,onChange:e=>{tC(e.target.value),setTimeout(tK,100)},className:"px-4 py-2 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-red-500",children:[(0,s.jsx)("option",{value:"all",children:"T\xfcm Tipler"}),(0,s.jsx)("option",{value:"client",children:"Client"}),(0,s.jsx)("option",{value:"server",children:"Server"}),(0,s.jsx)("option",{value:"api",children:"API"})]}),(0,s.jsxs)("button",{onClick:tK,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4"}),"Yenile"]}),(0,s.jsxs)("div",{className:"relative ml-auto",children:[(0,s.jsxs)("button",{onClick:()=>tT(!tD),className:"flex items-center gap-2 px-4 py-2 bg-red-100 text-red-700 rounded-xl hover:bg-red-200 transition-colors",children:[(0,s.jsx)(N.Z,{className:"w-4 h-4"}),"Hataları Temizle",(0,s.jsx)(Z.Z,{className:"w-3 h-3"})]}),tD&&(0,s.jsxs)("div",{className:"absolute right-0 top-full mt-1 w-56 bg-white dark:bg-gray-800 rounded-xl shadow-xl border dark:border-gray-700 z-50 overflow-hidden",children:[(0,s.jsx)("button",{onClick:()=>tP("resolved"),className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200",children:"✅ \xc7\xf6z\xfclm\xfcş hataları sil"}),(0,s.jsx)("button",{onClick:()=>tP("old"),className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200",children:"\uD83D\uDCC5 7 g\xfcnden eskilerini sil"}),(0,s.jsx)("hr",{className:"dark:border-gray-700"}),(0,s.jsx)("button",{onClick:()=>tP("all"),className:"w-full text-left px-4 py-2.5 text-sm hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 dark:text-red-400 font-bold",children:"\uD83D\uDDD1️ T\xfcm hataları sil"})]})]})]}),tb?(0,s.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[(0,s.jsx)(x.Z,{className:"w-8 h-8 text-gray-400 mx-auto mb-2 animate-spin"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Y\xfckleniyor..."})]}):0===e9.length?(0,s.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[(0,s.jsx)(h.Z,{className:"w-16 h-16 text-green-300 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Kayıtlı hata bulunamadı"})]}):(0,s.jsx)("div",{className:"space-y-3",children:e9.map(e=>(0,s.jsx)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`bg-white rounded-xl p-4 border ${e.resolved?"border-green-200 bg-green-50/30":"border-red-200"}`,children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:`px-2 py-0.5 text-xs rounded-full font-medium ${"client"===e.type?"bg-purple-100 text-purple-700":"server"===e.type?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"}`,children:e.type.toUpperCase()}),(0,s.jsx)("span",{className:`px-2 py-0.5 text-xs rounded-full font-medium ${"error"===e.severity?"bg-red-100 text-red-700":"warning"===e.severity?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:e.severity}),e.resolved&&(0,s.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full bg-green-100 text-green-700 font-medium",children:"✓ \xc7\xf6z\xfcld\xfc"})]}),(0,s.jsx)("p",{className:"font-medium text-gray-900 mb-1 break-all line-clamp-2",children:e.message}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-500",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4"}),new Date(e.createdAt).toLocaleString("tr-TR")]}),e.url&&(0,s.jsxs)("span",{className:"flex items-center gap-1 truncate max-w-[200px]",children:[(0,s.jsx)(B.Z,{className:"w-4 h-4"}),e.url]}),e.user&&(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(y.Z,{className:"w-4 h-4"}),e.user.name||e.user.email]})]}),e.stack&&(0,s.jsxs)("details",{className:"mt-2",children:[(0,s.jsx)("summary",{className:"text-sm text-gray-500 cursor-pointer hover:text-gray-700",children:"Stack Trace G\xf6ster"}),(0,s.jsx)("pre",{className:"mt-2 p-3 bg-gray-900 text-green-400 text-xs rounded-lg overflow-x-auto max-h-40",children:e.stack})]})]}),(0,s.jsx)("div",{className:"flex flex-col gap-2",children:e.resolved?(0,s.jsxs)("button",{onClick:()=>tH(e.id,!1),className:"flex items-center gap-1 px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm transition-colors",children:[(0,s.jsx)(f.Z,{className:"w-4 h-4"}),"Geri Al"]}):(0,s.jsxs)("button",{onClick:()=>tH(e.id,!0),className:"flex items-center gap-1 px-3 py-1.5 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 text-sm transition-colors",children:[(0,s.jsx)(h.Z,{className:"w-4 h-4"}),"\xc7\xf6z\xfcld\xfc"]})})]})},e.id))}),(0,s.jsxs)("div",{className:"mt-6 bg-red-50 border border-red-200 rounded-xl p-4",children:[(0,s.jsx)("h4",{className:"font-medium text-red-800 mb-2",children:"Hata İzleme Sistemi"}),(0,s.jsxs)("ul",{className:"text-sm text-red-700 space-y-1",children:[(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Client:"})," Tarayıcıda oluşan JavaScript hataları"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Server:"})," Sunucu tarafında oluşan hatalar"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"API:"})," API endpoint hatalarını"]}),(0,s.jsx)("li",{children:"• \xc7\xf6z\xfclm\xfcş hatalar 30 g\xfcn sonra otomatik silinebilir"})]})]})]}),"disputes"===Q&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)(p.Z,{className:"w-5 h-5 text-gray-500"}),(0,s.jsxs)("select",{value:tA,onChange:e=>tz(e.target.value),className:"px-4 py-2 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-amber-500",children:[(0,s.jsx)("option",{value:"all",children:"T\xfcm Anlaşmazlıklar"}),(0,s.jsx)("option",{value:"evidence_pending",children:"Kanıt Bekleniyor"}),(0,s.jsx)("option",{value:"under_review",children:"İnceleniyor"}),(0,s.jsx)("option",{value:"open",children:"A\xe7ık"}),(0,s.jsx)("option",{value:"resolved",children:"\xc7\xf6z\xfcld\xfc"})]}),(0,s.jsxs)("button",{onClick:tL,className:"flex items-center gap-2 px-4 py-2 bg-amber-100 text-amber-700 rounded-xl hover:bg-amber-200",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4"}),"Yenile"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(V.Z,{className:"w-5 h-5 text-amber-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Toplam"})]}),(0,s.jsx)("p",{className:"text-2xl font-bold mt-1",children:tl.length})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(R.Z,{className:"w-5 h-5 text-blue-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Kanıt Bekleyen"})]}),(0,s.jsx)("p",{className:"text-2xl font-bold mt-1",children:tl.filter(e=>"evidence_pending"===e.status).length})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)($.Z,{className:"w-5 h-5 text-orange-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"İnceleniyor"})]}),(0,s.jsx)("p",{className:"text-2xl font-bold mt-1",children:tl.filter(e=>"under_review"===e.status).length})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(h.Z,{className:"w-5 h-5 text-green-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"\xc7\xf6z\xfcld\xfc"})]}),(0,s.jsx)("p",{className:"text-2xl font-bold mt-1",children:tl.filter(e=>"resolved"===e.status).length})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[tl.filter(e=>"all"===tA||e.status===tA).map(e=>(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`bg-white rounded-2xl p-6 shadow-sm ${"resolved"===e.status?"border-l-4 border-green-500":"under_review"===e.status?"border-l-4 border-amber-500":"border-l-4 border-red-500"}`,children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-amber-100 flex items-center justify-center",children:(0,s.jsx)($.Z,{className:"w-6 h-6 text-amber-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:e.swapRequest.product.title}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:J[e.type]||e.type})]})]}),(0,s.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${"resolved"===e.status?"bg-green-100 text-green-700":"under_review"===e.status?"bg-amber-100 text-amber-700":"evidence_pending"===e.status?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"}`,children:W[e.status]||e.status})]}),(0,s.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 mb-4",children:(0,s.jsx)("p",{className:"text-sm text-gray-700",children:e.description})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"bg-red-50 rounded-xl p-3",children:[(0,s.jsx)("p",{className:"text-xs text-red-500 mb-1",children:"Şikayet\xe7i (Alıcı)"}),(0,s.jsx)("p",{className:"font-medium text-red-800",children:e.swapRequest.requester.name||e.swapRequest.requester.email})]}),(0,s.jsxs)("div",{className:"bg-blue-50 rounded-xl p-3",children:[(0,s.jsx)("p",{className:"text-xs text-blue-500 mb-1",children:"Şikayet Edilen (Satıcı)"}),(0,s.jsx)("p",{className:"font-medium text-blue-800",children:e.swapRequest.owner.name||e.swapRequest.owner.email})]})]}),(0,s.jsxs)("div",{className:"border-t pt-4 mb-4",children:[(0,s.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,s.jsx)(R.Z,{className:"w-5 h-5"}),"Kanıtlar"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"bg-red-50 rounded-xl p-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-red-800 mb-2",children:"Şikayet\xe7i Kanıtları"}),e.reporterEvidence&&e.reporterEvidence.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-2",children:e.reporterEvidence.map((e,t)=>(0,s.jsx)("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-gray-100",children:(0,s.jsx)(c.default,{src:e,alt:`Kanıt ${t+1}`,fill:!0,className:"object-cover"})},t))}),e.reporterEvidenceNote&&(0,s.jsxs)("p",{className:"text-xs text-red-700 italic",children:['"',e.reporterEvidenceNote,'"']})]}):(0,s.jsx)("p",{className:"text-sm text-red-600",children:"Hen\xfcz kanıt y\xfcklenmedi"})]}),(0,s.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-blue-800 mb-2",children:"Satıcı Kanıtları"}),e.reportedEvidence&&e.reportedEvidence.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-2",children:e.reportedEvidence.map((e,t)=>(0,s.jsx)("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-gray-100",children:(0,s.jsx)(c.default,{src:e,alt:`Kanıt ${t+1}`,fill:!0,className:"object-cover"})},t))}),e.reportedEvidenceNote&&(0,s.jsxs)("p",{className:"text-xs text-blue-700 italic",children:['"',e.reportedEvidenceNote,'"']})]}):(0,s.jsx)("p",{className:"text-sm text-blue-600",children:"Hen\xfcz kanıt y\xfcklenmedi"})]})]}),e.evidence&&e.evidence.length>0&&(0,s.jsxs)("div",{className:"mt-4 bg-gray-100 rounded-xl p-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-800 mb-2",children:"İlk Şikayet Kanıtları"}),(0,s.jsx)("div",{className:"grid grid-cols-6 gap-2",children:e.evidence.map((e,t)=>(0,s.jsx)("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-gray-200",children:(0,s.jsx)(c.default,{src:e,alt:`İlk kanıt ${t+1}`,fill:!0,className:"object-cover"})},t))})]})]}),(e.reporterSettlementChoice||e.reportedSettlementChoice)&&(0,s.jsxs)("div",{className:"border-t pt-4 mb-4",children:[(0,s.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,s.jsx)(L.Z,{className:"w-5 h-5"}),"Uzlaşma Tercihleri"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:`rounded-xl p-3 ${e.reporterSettlementChoice?"bg-green-50":"bg-gray-50"}`,children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Şikayet\xe7i Tercihi"}),(0,s.jsx)("p",{className:"font-medium",children:e.reporterSettlementChoice?X.find(t=>t.id===e.reporterSettlementChoice)?.title||e.reporterSettlementChoice:"Hen\xfcz se\xe7im yapılmadı"})]}),(0,s.jsxs)("div",{className:`rounded-xl p-3 ${e.reportedSettlementChoice?"bg-green-50":"bg-gray-50"}`,children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Satıcı Tercihi"}),(0,s.jsx)("p",{className:"font-medium",children:e.reportedSettlementChoice?X.find(t=>t.id===e.reportedSettlementChoice)?.title||e.reportedSettlementChoice:"Hen\xfcz se\xe7im yapılmadı"})]})]})]}),"resolved"!==e.status&&"rejected"!==e.status&&(0,s.jsxs)("div",{className:"border-t pt-4",children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Admin Kararı"}),tn?.id===e.id?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Karar A\xe7ıklaması"}),(0,s.jsx)("textarea",{value:tc,onChange:e=>to(e.target.value),className:"w-full px-3 py-2 border rounded-xl focus:ring-2 focus:ring-amber-500",rows:2,placeholder:"Kararınızı a\xe7ıklayın..."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trust Puanı Cezası"}),(0,s.jsx)("input",{type:"number",value:tx,onChange:e=>tm(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded-xl focus:ring-2 focus:ring-amber-500",min:"0",max:"50"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Notu"}),(0,s.jsx)("input",{type:"text",value:tu,onChange:e=>th(e.target.value),className:"w-full px-3 py-2 border rounded-xl focus:ring-2 focus:ring-amber-500",placeholder:"İ\xe7 not..."})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>tO("Alıcı lehine karar",!0),disabled:tg,className:"flex-1 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 disabled:opacity-50",children:"İade Onayla"}),(0,s.jsx)("button",{onClick:()=>tO("Satıcı lehine karar",!1),disabled:tg,className:"flex-1 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:opacity-50",children:"Talebi Reddet"}),(0,s.jsx)("button",{onClick:()=>td(null),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300",children:"İptal"})]})]}):(0,s.jsx)("button",{onClick:()=>td(e),className:"w-full py-2 bg-amber-500 text-white rounded-xl hover:bg-amber-600",children:"Karar Ver"})]}),e.resolution&&(0,s.jsxs)("div",{className:"border-t pt-4 mt-4 bg-green-50 rounded-xl p-4",children:[(0,s.jsx)("h4",{className:"font-semibold text-green-800 mb-2",children:"Karar"}),(0,s.jsx)("p",{className:"text-sm text-green-700",children:e.resolution}),e.adminNotes&&(0,s.jsxs)("p",{className:"text-xs text-green-600 mt-2 italic",children:["Admin notu: ",e.adminNotes]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-4 text-sm text-gray-500",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4"}),new Date(e.createdAt).toLocaleString("tr-TR"),e.evidenceDeadline&&(0,s.jsxs)("span",{className:"ml-2 text-amber-600",children:["Kanıt s\xfcresi: ",new Date(e.evidenceDeadline).toLocaleString("tr-TR")]})]})]},e.id)),0===tl.filter(e=>"all"===tA||e.status===tA).length&&(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-12 text-center",children:[(0,s.jsx)($.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Anlaşmazlık bulunamadı"})]})]}),(0,s.jsxs)("div",{className:"mt-6 bg-amber-50 border border-amber-200 rounded-xl p-4",children:[(0,s.jsx)("h4",{className:"font-medium text-amber-800 mb-2",children:"Anlaşmazlık Y\xf6netimi"}),(0,s.jsxs)("ul",{className:"text-sm text-amber-700 space-y-1",children:[(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Kanıt Bekleniyor:"})," Her iki taraf 48 saat i\xe7inde kanıt y\xfckleyebilir"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Uzlaşma:"})," Taraflar aynı \xe7\xf6z\xfcm\xfc se\xe7erse otomatik uzlaşma sağlanır"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"İnceleme:"})," Uzlaşma sağlanamazsa admin incelemesi yapılır"]}),(0,s.jsx)("li",{children:"• Trust puanı cezası en fazla 50 puan olabilir"})]})]})]}),"security"===Q&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl p-6 text-white",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(O.Z,{className:"w-6 h-6 text-slate-300"}),(0,s.jsx)("span",{className:"text-slate-300 text-sm",children:"Toplam Log"})]}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:eE?.total||0})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 text-white",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(u.Z,{className:"w-6 h-6 text-blue-200"}),(0,s.jsx)("span",{className:"text-blue-200 text-sm",children:"Son 24 Saat"})]}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:eE?.last24h||0})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-6 text-white",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(j.Z,{className:"w-6 h-6 text-purple-200"}),(0,s.jsx)("span",{className:"text-purple-200 text-sm",children:"Son 7 G\xfcn"})]}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:eE?.last7d||0})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-2xl p-6 text-white",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(_.Z,{className:"w-6 h-6 text-red-200"}),(0,s.jsx)("span",{className:"text-red-200 text-sm",children:"Y\xfcksek \xd6nem"})]}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:eE?.bySeverity?.find(e=>"high"===e.severity)?._count||0})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(p.Z,{className:"w-5 h-5 text-gray-500"}),(0,s.jsxs)("select",{value:e$.eventType,onChange:e=>eL(t=>({...t,eventType:e.target.value})),className:"px-4 py-2 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-slate-500",children:[(0,s.jsx)("option",{value:"",children:"T\xfcm Olaylar"}),(0,s.jsx)("option",{value:"login_failed",children:"Başarısız Giriş"}),(0,s.jsx)("option",{value:"login_success",children:"Başarılı Giriş"}),(0,s.jsx)("option",{value:"brute_force_detected",children:"Brute Force"}),(0,s.jsx)("option",{value:"rate_limit_exceeded",children:"Rate Limit"}),(0,s.jsx)("option",{value:"captcha_failed",children:"CAPTCHA Hatası"}),(0,s.jsx)("option",{value:"suspicious_request",children:"Ş\xfcpheli İstek"})]})]}),(0,s.jsxs)("select",{value:e$.severity,onChange:e=>eL(t=>({...t,severity:e.target.value})),className:"px-4 py-2 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-slate-500",children:[(0,s.jsx)("option",{value:"",children:"T\xfcm \xd6nem Dereceleri"}),(0,s.jsx)("option",{value:"low",children:"D\xfcş\xfck"}),(0,s.jsx)("option",{value:"medium",children:"Orta"}),(0,s.jsx)("option",{value:"high",children:"Y\xfcksek"}),(0,s.jsx)("option",{value:"critical",children:"Kritik"})]}),(0,s.jsxs)("button",{onClick:()=>t$(),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 rounded-xl transition-all",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4"}),"Yenile"]}),(0,s.jsxs)("button",{onClick:async()=>{if(confirm("30 g\xfcnden eski d\xfcş\xfck/orta \xf6nemli logları silmek istediğinize emin misiniz?")){let e=await fetch("/api/admin/security?days=30",{method:"DELETE"});if(e.ok){let t=await e.json();alert(`${t.deleted} log silindi`),t$()}}},className:"flex items-center gap-2 px-4 py-2 bg-red-100 hover:bg-red-200 text-red-600 rounded-xl transition-all",children:[(0,s.jsx)(N.Z,{className:"w-4 h-4"}),"Eski Logları Temizle"]})]}),eE?.byType&&eE.byType.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-6 mb-6",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Olay T\xfcr\xfc Dağılımı (Son 7 G\xfcn)"}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:eE.byType.map(e=>(0,s.jsxs)("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e._count}),(0,s.jsx)("p",{className:"text-xs text-gray-500 truncate",children:"login_failed"===e.eventType?"Başarısız Giriş":"login_success"===e.eventType?"Başarılı Giriş":"brute_force_detected"===e.eventType?"Brute Force":"rate_limit_exceeded"===e.eventType?"Rate Limit":"captcha_failed"===e.eventType?"CAPTCHA Hatası":"suspicious_request"===e.eventType?"Ş\xfcpheli İstek":e.eventType})]},e.eventType))})]}),eE?.topIPs&&eE.topIPs.length>0&&(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6 mb-6",children:[(0,s.jsxs)("h3",{className:"font-semibold text-red-800 mb-4 flex items-center gap-2",children:[(0,s.jsx)(K.Z,{className:"w-5 h-5"}),"Ş\xfcpheli IP Adresleri (Son 24 Saat)"]}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:eE.topIPs.slice(0,10).map((e,t)=>(0,s.jsxs)("div",{className:"bg-white rounded-xl p-3 border border-red-100",children:[(0,s.jsx)("p",{className:"font-mono text-sm text-gray-700 truncate",children:e.ip}),(0,s.jsxs)("p",{className:"text-red-600 font-bold",children:[e.count," deneme"]})]},t))})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[eZ.map(e=>(0,s.jsx)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`bg-white rounded-xl p-4 border-l-4 ${"critical"===e.severity?"border-l-red-600 bg-red-50":"high"===e.severity?"border-l-orange-500 bg-orange-50":"medium"===e.severity?"border-l-yellow-500":"border-l-gray-300"}`,children:(0,s.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:["login_failed"===e.eventType&&(0,s.jsx)(H.Z,{className:"w-4 h-4 text-red-500"}),"login_success"===e.eventType&&(0,s.jsx)(h.Z,{className:"w-4 h-4 text-green-500"}),"brute_force_detected"===e.eventType&&(0,s.jsx)(_.Z,{className:"w-4 h-4 text-red-600"}),"suspicious_request"===e.eventType&&(0,s.jsx)(B.Z,{className:"w-4 h-4 text-orange-500"}),(0,s.jsx)("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${"critical"===e.severity?"bg-red-100 text-red-700":"high"===e.severity?"bg-orange-100 text-orange-700":"medium"===e.severity?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:"critical"===e.severity?"Kritik":"high"===e.severity?"Y\xfcksek":"medium"===e.severity?"Orta":"D\xfcş\xfck"}),(0,s.jsx)("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-700 rounded-full text-xs",children:"login_failed"===e.eventType?"Başarısız Giriş":"login_success"===e.eventType?"Başarılı Giriş":"brute_force_detected"===e.eventType?"Brute Force Tespit":"rate_limit_exceeded"===e.eventType?"Rate Limit Aşımı":"captcha_failed"===e.eventType?"CAPTCHA Hatası":"suspicious_request"===e.eventType?"Ş\xfcpheli İstek":e.eventType})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-600",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(P.Z,{className:"w-3 h-3"}),(0,s.jsx)("span",{className:"font-mono",children:e.ip})]}),e.email&&(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(I.Z,{className:"w-3 h-3"}),e.email]}),e.user&&(0,s.jsxs)("span",{className:"text-blue-600",children:["Kullanıcı: ",e.user.name]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(u.Z,{className:"w-3 h-3"}),new Date(e.createdAt).toLocaleString("tr-TR")]})]}),e.metadata&&(0,s.jsxs)("details",{className:"mt-2",children:[(0,s.jsx)("summary",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-700",children:"Detayları g\xf6ster"}),(0,s.jsx)("pre",{className:"mt-2 p-2 bg-gray-100 rounded text-xs overflow-x-auto",children:JSON.stringify(JSON.parse(e.metadata),null,2)})]}),e.userAgent&&(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-400 truncate max-w-xl",title:e.userAgent,children:e.userAgent})]})})},e.id)),0===eZ.length&&(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-12 text-center",children:[(0,s.jsx)(O.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"G\xfcvenlik logu bulunamadı"})]})]}),(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,s.jsx)(_.Z,{className:"w-5 h-5 text-orange-500"}),"Ş\xfcpheli Aktiviteler (Son 7 G\xfcn)"]}),eV.length>0?(0,s.jsx)("div",{className:"space-y-3",children:eV.map(e=>(0,s.jsx)("div",{className:"bg-white rounded-xl p-4 shadow-sm border-l-4 border-orange-400",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${"critical"===e.severity?"bg-red-100 text-red-700":"high"===e.severity?"bg-orange-100 text-orange-700":"medium"===e.severity?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:e.severity.toUpperCase()}),(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["valor_manipulation"===e.type&&"\uD83D\uDCB0 Valor Manip\xfclasyonu","multiple_accounts"===e.type&&"\uD83D\uDC65 \xc7oklu Hesap","spam_swaps"===e.type&&"\uD83D\uDD04 Spam Takas","spam_messages"===e.type&&"\uD83D\uDCAC Spam Mesaj","rapid_product_creation"===e.type&&"\uD83D\uDCE6 Hızlı \xdcr\xfcn Ekleme"]})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.message}),e.user&&(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Kullanıcı: ",e.user.name||e.user.email]})]}),(0,s.jsx)("span",{className:"text-xs text-gray-400",children:new Date(e.createdAt).toLocaleString("tr-TR")})]})},e.id))}):(0,s.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 text-center",children:[(0,s.jsx)(O.Z,{className:"w-12 h-12 text-green-400 mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-green-700 font-medium",children:"Ş\xfcpheli aktivite tespit edilmedi"}),(0,s.jsx)("p",{className:"text-green-600 text-sm",children:"Sistem g\xfcvenle \xe7alışıyor"})]})]}),(0,s.jsxs)("div",{className:"mt-6 bg-slate-100 border border-slate-200 rounded-xl p-4",children:[(0,s.jsxs)("h4",{className:"font-medium text-slate-800 mb-2 flex items-center gap-2",children:[(0,s.jsx)(O.Z,{className:"w-4 h-4"}),"G\xfcvenlik \xd6zellikleri"]}),(0,s.jsxs)("ul",{className:"text-sm text-slate-700 space-y-1",children:[(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Brute-Force Koruması:"})," 5 başarısız denemeden sonra 30 dakika kilitleme"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Rate Limiting:"})," API isteklerine dakika bazlı sınırlama"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Security Headers:"})," HSTS, CSP, XSS koruması aktif"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"reCAPTCHA:"})," 3+ başarısız denemede otomatik aktif"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Ş\xfcpheli IP Tespiti:"})," Bot/crawler/selenium user agent kontrol\xfc"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Fraud Detection:"})," Spam takas, Valor manip\xfclasyonu, \xe7oklu hesap tespiti"]})]})]})]}),"inflation"===Q&&(0,s.jsx)("div",{className:"space-y-6",children:tb?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(x.Z,{className:"w-8 h-8 animate-spin text-rose-500 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Y\xfckleniyor..."})]}):eg?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:`p-4 rounded-2xl border ${"critical"===eg.metrics.healthStatus?"bg-red-50 border-red-200":"warning"===eg.metrics.healthStatus?"bg-amber-50 border-amber-200":"bg-green-50 border-green-200"}`,children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:`p-2 rounded-full ${"critical"===eg.metrics.healthStatus?"bg-red-200":"warning"===eg.metrics.healthStatus?"bg-amber-200":"bg-green-200"}`,children:(0,s.jsx)(G.Z,{className:`w-6 h-6 ${"critical"===eg.metrics.healthStatus?"text-red-700":"warning"===eg.metrics.healthStatus?"text-amber-700":"text-green-700"}`})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:`font-semibold ${"critical"===eg.metrics.healthStatus?"text-red-800":"warning"===eg.metrics.healthStatus?"text-amber-800":"text-green-800"}`,children:["Sistem Durumu: ","critical"===eg.metrics.healthStatus?"Kritik":"warning"===eg.metrics.healthStatus?"Uyarı":"Sağlıklı"]}),eg.metrics.recommendation&&(0,s.jsx)("p",{className:"text-sm mt-1",children:eg.metrics.recommendation})]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"p-2 bg-rose-100 rounded-xl",children:(0,s.jsx)(v.Z,{className:"w-5 h-5 text-rose-600"})}),(0,s.jsx)("span",{className:"font-medium text-gray-700",children:"Haftalık"})]}),(0,s.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[eg.metrics.weekly.distributed.toLocaleString("tr-TR")," V"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Toplam arzın %",eg.metrics.weekly.percentOfTotal.toFixed(3),"'ı"]}),(0,s.jsx)("div",{className:"mt-3 h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-rose-500 rounded-full",style:{width:`${Math.min(100*eg.metrics.weekly.percentOfTotal,100)}%`}})})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"p-2 bg-amber-100 rounded-xl",children:(0,s.jsx)(j.Z,{className:"w-5 h-5 text-amber-600"})}),(0,s.jsx)("span",{className:"font-medium text-gray-700",children:"Aylık (Tahmini)"})]}),(0,s.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[eg.metrics.monthly.estimated.toLocaleString("tr-TR")," V"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Toplam arzın %",eg.metrics.monthly.percentOfTotal.toFixed(2),"'ı"]}),(0,s.jsx)("div",{className:"mt-3 h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-amber-500 rounded-full",style:{width:`${Math.min(10*eg.metrics.monthly.percentOfTotal,100)}%`}})})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"p-2 bg-purple-100 rounded-xl",children:(0,s.jsx)(U.Z,{className:"w-5 h-5 text-purple-600"})}),(0,s.jsx)("span",{className:"font-medium text-gray-700",children:"Yıllık (Tahmini)"})]}),(0,s.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[eg.metrics.yearly.estimated.toLocaleString("tr-TR")," V"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Toplam arzın %",eg.metrics.yearly.percentOfTotal.toFixed(2),"'ı"]}),(0,s.jsx)("div",{className:"mt-3 h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:`h-full rounded-full ${eg.metrics.yearly.percentOfTotal>15?"bg-red-500":eg.metrics.yearly.percentOfTotal>10?"bg-amber-500":"bg-purple-500"}`,style:{width:`${Math.min(5*eg.metrics.yearly.percentOfTotal,100)}%`}})})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 p-6 rounded-2xl border border-purple-200",children:[(0,s.jsx)("h4",{className:"font-semibold text-purple-800 mb-2",children:"Arz T\xfckenme Tahmini"}),(0,s.jsx)("p",{className:"text-4xl font-bold text-purple-900",children:eg.metrics.yearly.yearsUntilExhaustion===1/0?"∞":`${eg.metrics.yearly.yearsUntilExhaustion} yıl`}),(0,s.jsx)("p",{className:"text-sm text-purple-600 mt-2",children:"Mevcut dağıtım hızıyla kalan Valor'un t\xfckenmesi i\xe7in tahmini s\xfcre"})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-200",children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-800 mb-4",children:"Son 4 Haftada Bonus Dağılımı"}),(0,s.jsx)("div",{className:"space-y-3",children:eg.bonusBreakdown.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:`w-3 h-3 rounded-full ${"welcome_bonus"===e.type?"bg-green-500":"daily_bonus"===e.type?"bg-blue-500":"swap_bonus"===e.type?"bg-purple-500":"referral_bonus"===e.type?"bg-amber-500":"product_bonus"===e.type?"bg-cyan-500":"bg-gray-500"}`}),(0,s.jsx)("span",{className:"font-medium text-gray-700",children:"welcome_bonus"===e.type?"Hoşgeldin Bonusu":"daily_bonus"===e.type?"G\xfcnl\xfck Bonus":"swap_bonus"===e.type?"Takas Bonusu":"referral_bonus"===e.type?"Davet Bonusu":"product_bonus"===e.type?"\xdcr\xfcn Bonusu":"review_bonus"===e.type?"Değerlendirme Bonusu":e.type})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"font-bold text-gray-900",children:[e.totalAmount.toLocaleString("tr-TR")," V"]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[e.count," işlem"]})]})]},e.type))})]}),(0,s.jsxs)("div",{className:"bg-rose-50 border border-rose-200 rounded-xl p-4",children:[(0,s.jsx)("h4",{className:"font-medium text-rose-800 mb-2",children:"Enflasyon Kontrol\xfc"}),(0,s.jsxs)("ul",{className:"text-sm text-rose-700 space-y-1",children:[(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Hedef:"})," Yıllık %5-10 enflasyon oranı sağlıklı kabul edilir"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"%10-15:"})," Dikkatli izlenmeli, bonus miktarları g\xf6zden ge\xe7irilmeli"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"%15+:"})," Kritik seviye, acil m\xfcdahale gerekli"]}),(0,s.jsx)("li",{children:'• Bonus miktarlarını "Ayarlar" sekmesinden değiştirebilirsiniz'})]})]})]}):(0,s.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[(0,s.jsx)(G.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Enflasyon verileri y\xfcklenemedi"})]})}),"config"===Q&&(0,s.jsx)("div",{className:"space-y-6",children:tb?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(x.Z,{className:"w-8 h-8 animate-spin text-cyan-500 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Y\xfckleniyor..."})]}):eb?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-200",children:[(0,s.jsxs)("h3",{className:"font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[(0,s.jsx)(z.Z,{className:"w-5 h-5 text-amber-500"}),"Bonus Miktarları"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hoşgeldin Bonusu (0-500 V)"}),(0,s.jsx)("input",{type:"number",min:"0",max:"500",value:eb.welcomeBonusAmount,onChange:e=>ey({...eb,welcomeBonusAmount:parseInt(e.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Yeni kayıt olan kullanıcılara verilen Valor"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"G\xfcnl\xfck Giriş Bonusu (0-50 V)"}),(0,s.jsx)("input",{type:"number",min:"0",max:"50",value:eb.dailyBonusBase,onChange:e=>ey({...eb,dailyBonusBase:parseInt(e.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Her g\xfcn giriş yapan kullanıcılara verilen baz bonus"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\xdcr\xfcn Ekleme Bonusu (0-100 V)"}),(0,s.jsx)("input",{type:"number",min:"0",max:"100",value:eb.productBonusAmount,onChange:e=>ey({...eb,productBonusAmount:parseInt(e.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\xdcr\xfcn ekleyen kullanıcılara verilen Valor"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Davet Bonusu (0-100 V)"}),(0,s.jsx)("input",{type:"number",min:"0",max:"100",value:eb.referralBonusAmount,onChange:e=>ey({...eb,referralBonusAmount:parseInt(e.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Arkadaş davet eden kullanıcılara verilen Valor"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Değerlendirme Bonusu (0-50 V)"}),(0,s.jsx)("input",{type:"number",min:"0",max:"50",value:eb.reviewBonusAmount,onChange:e=>ey({...eb,reviewBonusAmount:parseInt(e.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Değerlendirme yapan kullanıcılara verilen Valor"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-200",children:[(0,s.jsxs)("h3",{className:"font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[(0,s.jsx)(O.Z,{className:"w-5 h-5 text-slate-600"}),"Sybil Direnci Ayarları"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Hesap Yaşı (0-30 g\xfcn)"}),(0,s.jsx)("input",{type:"number",min:"0",max:"30",value:eb.minAccountAgeDays,onChange:e=>ey({...eb,minAccountAgeDays:parseInt(e.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Bonus almak i\xe7in gereken minimum hesap yaşı"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Doğrulama Zorunluluğu"}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,s.jsx)("button",{onClick:()=>ey({...eb,requireVerification:!0}),className:`px-4 py-2 rounded-xl font-medium transition-all ${eb.requireVerification?"bg-cyan-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Evet"}),(0,s.jsx)("button",{onClick:()=>ey({...eb,requireVerification:!1}),className:`px-4 py-2 rounded-xl font-medium transition-all ${eb.requireVerification?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-cyan-500 text-white"}`,children:"Hayır"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Evet: Hesap yaşı veya doğrulama gerekli | Hayır: Sadece hesap yaşı kontrol edilir"})]})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)("button",{onClick:async()=>{ef(!0);try{let e=await fetch("/api/admin/config",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(eb)}),t=await e.json();e.ok?(alert("Ayarlar başarıyla kaydedildi!"),ey(t.config)):alert(t.error||"Kaydetme hatası")}catch(e){console.error("Save error:",e),alert("Kaydetme hatası")}finally{ef(!1)}},disabled:ej,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-xl font-medium hover:shadow-lg transition-all disabled:opacity-50",children:[ej?(0,s.jsx)(x.Z,{className:"w-5 h-5 animate-spin"}):(0,s.jsx)(M.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:ej?"Kaydediliyor...":"Değişiklikleri Kaydet"})]})}),(0,s.jsxs)("div",{className:"bg-cyan-50 border border-cyan-200 rounded-xl p-4",children:[(0,s.jsx)("h4",{className:"font-medium text-cyan-800 mb-2",children:"A/B Testi ve Enflasyon Kontrol\xfc"}),(0,s.jsxs)("ul",{className:"text-sm text-cyan-700 space-y-1",children:[(0,s.jsx)("li",{children:"• Bonus miktarlarını değiştirmek enflasyon oranını doğrudan etkiler"}),(0,s.jsx)("li",{children:"• Değişiklikler yeni işlemlerden itibaren ge\xe7erli olur"}),(0,s.jsx)("li",{children:'• "Enflasyon" sekmesinden değişikliklerin etkisini izleyebilirsiniz'}),(0,s.jsxs)("li",{children:["• Sybil direnci: Bonus almak i\xe7in min. ",eb.minAccountAgeDays," g\xfcn hesap yaşı veya doğrulama gerekir"]})]})]})]}):(0,s.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[(0,s.jsx)(F.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Ayarlar y\xfcklenemedi"})]})}),"backup"===Q&&(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[(0,s.jsx)(M.Z,{className:"w-6 h-6 text-emerald-500"}),"Veritabanı Yedekleme"]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[{type:"full",label:"Tam Yedek",desc:"T\xfcm veriler (Kullanıcılar, \xdcr\xfcnler, Takaslar, Mesajlar, Valor)",icon:"\uD83D\uDCE6",color:"emerald"},{type:"users",label:"Kullanıcılar",desc:"Sadece kullanıcı verileri",icon:"\uD83D\uDC65",color:"blue"},{type:"products",label:"\xdcr\xfcnler",desc:"Sadece \xfcr\xfcn verileri",icon:"\uD83D\uDCE6",color:"purple"},{type:"swaps",label:"Takaslar",desc:"Takas talepleri ve ge\xe7mişi",icon:"\uD83D\uDD04",color:"orange"}].map(e=>(0,s.jsxs)("button",{onClick:async()=>{try{eo(!0);let t=await fetch(`/api/admin/backup?type=${e.type}`);if(!t.ok)throw Error("Yedekleme başarısız");let a=await t.json(),s=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),r=URL.createObjectURL(s),l=document.createElement("a");l.href=r,l.download=`takas-a-backup-${e.type}-${new Date().toISOString().split("T")[0]}.json`,l.click(),URL.revokeObjectURL(r);let i=new Date().toISOString();localStorage.setItem("takas-a-last-backup",i),em(i)}catch(e){console.error("Backup error:",e),alert("Yedekleme hatası oluştu")}finally{eo(!1)}},disabled:ec,className:`p-4 rounded-xl border-2 border-${e.color}-200 hover:border-${e.color}-400 bg-${e.color}-50 transition-all text-left disabled:opacity-50`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("span",{className:"text-2xl",children:e.icon}),(0,s.jsx)("span",{className:"font-bold text-gray-800",children:e.label})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.desc}),ec&&(0,s.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-500",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4 animate-spin"}),"İndiriliyor..."]})]},e.type))}),(0,s.jsx)("div",{className:"p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:(0,s.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,s.jsx)("strong",{children:"⚠️ \xd6nemli:"})," Yedekler JSON formatında indirilir. D\xfczenli yedekleme alarak verilerinizi koruyun. Yedek dosyalarını g\xfcvenli bir yerde saklayın."]})})]}),"users"===Q&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold dark:text-white",children:"\uD83D\uDC65 Kullanıcı Analitik"}),(0,s.jsx)("div",{className:"flex gap-2",children:["today","week","month","all"].map(e=>(0,s.jsx)("button",{onClick:()=>{ed(e),tJ(e)},className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${en===e?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 border dark:border-gray-700"}`,children:"today"===e?"Bug\xfcn":"week"===e?"Bu Hafta":"month"===e?"Bu Ay":"T\xfcm\xfc"},e))})]}),el?(0,s.jsx)("div",{className:"flex justify-center py-12",children:(0,s.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full"})}):es?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border dark:border-gray-700 text-center",children:[(0,s.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:es.summary?.totalUsers||0}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Toplam \xdcye"})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border dark:border-gray-700 text-center",children:[(0,s.jsx)("p",{className:"text-3xl font-bold text-green-600",children:es.summary?.newUsers||0}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Yeni Kayıt (","today"===en?"bug\xfcn":"week"===en?"bu hafta":"month"===en?"bu ay":"toplam",")"]})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border dark:border-gray-700 text-center",children:[(0,s.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:es.summary?.activeUsers||0}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Aktif (son 24s)"})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 border dark:border-gray-700 text-center",children:[(0,s.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:es.summary?.verifiedUsers||0}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Doğrulanmış"})]})]}),es.cities&&es.cities.length>0&&(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border dark:border-gray-700",children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-4 dark:text-white",children:"\uD83C\uDFD9️ Şehir Dağılımı"}),(0,s.jsx)("div",{className:"space-y-3",children:es.cities.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("span",{className:"text-sm font-bold text-gray-500 w-6",children:[t+1,"."]}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 w-28 truncate",children:e.name}),(0,s.jsx)("div",{className:"flex-1 h-6 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full flex items-center justify-end pr-2",style:{width:`${Math.max(8,e.count/(es.cities[0]?.count||1)*100)}%`},children:(0,s.jsx)("span",{className:"text-[10px] font-bold text-white",children:e.count})})}),(0,s.jsxs)("span",{className:"text-xs text-gray-400 w-10 text-right",children:["%",e.percent]})]},e.name))})]}),es.recentLogins&&es.recentLogins.length>0&&(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border dark:border-gray-700",children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-4 dark:text-white",children:"\uD83D\uDD11 Son Giriş Yapanlar"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b dark:border-gray-700",children:[(0,s.jsx)("th",{className:"text-left py-2 px-3 text-gray-500 font-medium",children:"Kullanıcı"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 text-gray-500 font-medium",children:"Email"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 text-gray-500 font-medium",children:"Şehir"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 text-gray-500 font-medium",children:"Son Giriş"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 text-gray-500 font-medium",children:"G\xfcven"})]})}),(0,s.jsx)("tbody",{children:es.recentLogins.map(e=>(0,s.jsxs)("tr",{className:"border-b dark:border-gray-700/50 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[(0,s.jsx)("td",{className:"py-2 px-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[e.image?(0,s.jsx)("img",{src:e.image,alt:"",className:"w-6 h-6 rounded-full object-cover"}):(0,s.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center text-[10px]",children:"\uD83D\uDC64"}),(0,s.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e.name||"Anonim"})]})}),(0,s.jsx)("td",{className:"py-2 px-3 text-gray-500 dark:text-gray-400 text-xs",children:e.email}),(0,s.jsx)("td",{className:"py-2 px-3 text-gray-600 dark:text-gray-300",children:e.city||"—"}),(0,s.jsx)("td",{className:"py-2 px-3 text-gray-500 dark:text-gray-400 text-xs",children:e.lastLoginAt}),(0,s.jsx)("td",{className:"py-2 px-3",children:(0,s.jsx)("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${e.trustScore>=80?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":e.trustScore>=60?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:e.trustScore})})]},e.id))})]})})]}),es.newRegistrations&&es.newRegistrations.length>0&&(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border dark:border-gray-700",children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-4 dark:text-white",children:"\uD83C\uDD95 Yeni Kayıtlar"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b dark:border-gray-700",children:[(0,s.jsx)("th",{className:"text-left py-2 px-3 text-gray-500 font-medium",children:"Kullanıcı"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 text-gray-500 font-medium",children:"Email"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 text-gray-500 font-medium",children:"Kayıt Tarihi"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 text-gray-500 font-medium",children:"Davet Eden"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 text-gray-500 font-medium",children:"Doğrulama"})]})}),(0,s.jsx)("tbody",{children:es.newRegistrations.map(e=>(0,s.jsxs)("tr",{className:"border-b dark:border-gray-700/50 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[(0,s.jsx)("td",{className:"py-2 px-3 font-medium text-gray-900 dark:text-white",children:e.name||"Anonim"}),(0,s.jsx)("td",{className:"py-2 px-3 text-gray-500 dark:text-gray-400 text-xs",children:e.email}),(0,s.jsx)("td",{className:"py-2 px-3 text-gray-500 dark:text-gray-400 text-xs",children:e.createdAt}),(0,s.jsx)("td",{className:"py-2 px-3 text-gray-600 dark:text-gray-300 text-xs",children:e.referredBy||"—"}),(0,s.jsx)("td",{className:"py-2 px-3",children:(0,s.jsxs)("div",{className:"flex gap-1",children:[e.isPhoneVerified&&(0,s.jsx)("span",{title:"Telefon",className:"text-xs",children:"\uD83D\uDCF1"}),e.isIdentityVerified&&(0,s.jsx)("span",{title:"Kimlik",className:"text-xs",children:"\uD83E\uDEAA"}),!e.isPhoneVerified&&!e.isIdentityVerified&&(0,s.jsx)("span",{className:"text-xs text-gray-400",children:"—"})]})})]},e.id))})]})})]}),es.dailyLogins&&es.dailyLogins.length>0&&(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border dark:border-gray-700",children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-4 dark:text-white",children:"\uD83D\uDCCA G\xfcnl\xfck Giriş Akışı (Son 14 G\xfcn)"}),(0,s.jsx)("div",{className:"flex items-end gap-1 h-32",children:es.dailyLogins.map(e=>(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-1",children:[(0,s.jsx)("span",{className:"text-[9px] font-bold text-gray-500 dark:text-gray-400",children:e.count}),(0,s.jsx)("div",{className:"w-full bg-gradient-to-t from-blue-500 to-indigo-400 rounded-t-md min-h-[4px]",style:{height:`${Math.max(4,e.count/(es.maxDailyLogin||1)*100)}%`}}),(0,s.jsx)("span",{className:"text-[8px] text-gray-400 -rotate-45 origin-top-left mt-1",children:e.label})]},e.date))})]})]}):(0,s.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,s.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDC65"}),"Veri y\xfcklenemedi. Bir periyot se\xe7in."]})]}),"test"===Q&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold dark:text-white",children:"\uD83E\uDDEA Sistem Test & Doğrulama"}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border dark:border-gray-700",children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-4 dark:text-white",children:"\uD83D\uDD04 Takas Algoritması Testi"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Multi-swap algoritmasını test eder. Mevcut aktif \xfcr\xfcnlerle olası takas d\xf6ng\xfclerini hesaplar."}),(0,s.jsx)("button",{onClick:async()=>{ea(e=>({...e,swapAlgo:{loading:!0}}));try{let e=await fetch("/api/admin/test-swap-algorithm",{method:"POST"}),t=await e.json();ea(e=>({...e,swapAlgo:{loading:!1,data:t}}))}catch(e){ea(e=>({...e,swapAlgo:{loading:!1,error:"Test başarısız"}}))}},disabled:et?.swapAlgo?.loading,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-bold hover:shadow-lg transition-all disabled:opacity-50",children:et?.swapAlgo?.loading?"⏳ Test Ediliyor...":"\uD83D\uDD04 Takas Algoritmasını Test Et"}),et?.swapAlgo?.data&&(0,s.jsx)("pre",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-900 rounded-xl text-xs overflow-auto max-h-60",children:JSON.stringify(et.swapAlgo.data,null,2)}),et?.swapAlgo?.error&&(0,s.jsx)("p",{className:"mt-4 text-red-500 text-sm",children:et.swapAlgo.error})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border dark:border-gray-700",children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-4 dark:text-white",children:"\uD83D\uDCB0 Ekonomi Tutarlılık Testi"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Bonus değerleri, seviye sistemi, aylık tavanlar ve rozet \xf6d\xfcllerinin tutarlılığını kontrol eder."}),(0,s.jsx)("button",{onClick:async()=>{ea(e=>({...e,economy:{loading:!0}}));try{let e=await fetch("/api/admin/test-economy",{method:"POST"}),t=await e.json();ea(e=>({...e,economy:{loading:!1,data:t}}))}catch(e){ea(e=>({...e,economy:{loading:!1,error:"Test başarısız"}}))}},disabled:et?.economy?.loading,className:"px-4 py-2 bg-gradient-to-r from-yellow-600 to-amber-600 text-white rounded-xl font-bold hover:shadow-lg transition-all disabled:opacity-50",children:et?.economy?.loading?"⏳ Test Ediliyor...":"\uD83D\uDCB0 Ekonomi Testini \xc7alıştır"}),et?.economy?.data&&(0,s.jsx)("pre",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-900 rounded-xl text-xs overflow-auto max-h-60",children:JSON.stringify(et.economy.data,null,2)}),et?.economy?.error&&(0,s.jsx)("p",{className:"mt-4 text-red-500 text-sm",children:et.economy.error})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border dark:border-gray-700",children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-4 dark:text-white",children:"\uD83D\uDD12 G\xfcven Skoru Kontrol"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"100'\xfc aşan trust score, negatif balance, orphan transaction gibi anomalileri tespit eder ve otomatik d\xfczeltir."}),(0,s.jsx)("button",{onClick:async()=>{ea(e=>({...e,trust:{loading:!0}}));try{let e=await fetch("/api/admin/test-trust",{method:"POST"}),t=await e.json();ea(e=>({...e,trust:{loading:!1,data:t}}))}catch(e){ea(e=>({...e,trust:{loading:!1,error:"Test başarısız"}}))}},disabled:et?.trust?.loading,className:"px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl font-bold hover:shadow-lg transition-all disabled:opacity-50",children:et?.trust?.loading?"⏳ Kontrol Ediliyor...":"\uD83D\uDD12 G\xfcven Kontrol"}),et?.trust?.data&&(0,s.jsx)("pre",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-900 rounded-xl text-xs overflow-auto max-h-60",children:JSON.stringify(et.trust.data,null,2)}),et?.trust?.error&&(0,s.jsx)("p",{className:"mt-4 text-red-500 text-sm",children:et.trust.error})]})]})]})]}):(0,s.jsx)("div",{className:"min-h-screen pt-24 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Admin kontrol\xfc yapılıyor..."})]})})}},39090:function(e,t,a){"use strict";function s(e){if(!e)return"Anonim";if(e.nickname&&e.nickname.trim())return e.nickname.trim();if(e.name&&e.name.trim()){let t=e.name.trim().split(" ").filter(e=>e.length>0);if(1===t.length)return t[0];if(t.length>=2){let e=t[0],a=t[t.length-1].charAt(0).toUpperCase();return`${e} ${a}.`}}if(e.email){let t=e.email.split("@")[0];return t.length>15?t.substring(0,15)+"...":t}return"Anonim"}a.d(t,{Gf:function(){return s}})},10839:function(e,t,a){"use strict";async function s(e){try{await fetch("/api/errors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e.type,message:e.message,severity:e.severity||"error",userId:e.userId,url:window.location.href,userAgent:"undefined"!=typeof navigator?navigator.userAgent:void 0,metadata:e.metadata?JSON.stringify(e.metadata):void 0})})}catch{console.error("Error reporter failed:",e.message)}}function r(){return!navigator.onLine}a.d(t,{s9:function(){return r},wz:function(){return n},DV:function(){return d},Pe:function(){return c}});let l={OFFLINE:"İnternet bağlantınız yok. L\xfctfen bağlantınızı kontrol edin.",TIMEOUT:"Sunucu yanıt vermedi. L\xfctfen tekrar deneyin.",SERVER_ERROR:"Sunucu hatası oluştu. L\xfctfen daha sonra tekrar deneyin.",NETWORK_ERROR:"Bağlantı hatası. L\xfctfen internet bağlantınızı kontrol edin.",UNAUTHORIZED:"Oturum s\xfcreniz doldu. L\xfctfen tekrar giriş yapın.",FORBIDDEN:"Bu işlem i\xe7in yetkiniz yok.",NOT_FOUND:"İstenen kaynak bulunamadı.",RATE_LIMITED:"\xc7ok fazla istek g\xf6nderdiniz. L\xfctfen biraz bekleyin.",UNKNOWN:"Beklenmeyen bir hata oluştu."};async function i(e,t,a){let i=new AbortController,n=setTimeout(()=>i.abort(),a);try{let a=await fetch(e,{...t,signal:i.signal,headers:{"Content-Type":"application/json",...t.headers}});clearTimeout(n);let r=null,d=a.headers.get("content-type");if(d?.includes("application/json"))try{r=await a.json()}catch{r=null}if(!a.ok){let t=r?.error||r?.message||function(e,t){switch(e){case 401:return l.UNAUTHORIZED;case 403:return l.FORBIDDEN;case 404:return l.NOT_FOUND;case 429:return l.RATE_LIMITED;case 500:case 502:case 503:case 504:return l.SERVER_ERROR;default:return l.UNKNOWN}}(a.status);return a.status>=500&&s({type:"api_error",message:`API ${a.status}: ${e}`,severity:"error",metadata:{url:e,status:a.status,errorMsg:t}}),{data:null,error:t,status:a.status,ok:!1,isOffline:!1,isTimeout:!1}}return{data:r,error:null,status:a.status,ok:!0,isOffline:!1,isTimeout:!1}}catch(e){if(clearTimeout(n),"AbortError"===e.name)return{data:null,error:l.TIMEOUT,status:0,ok:!1,isOffline:!1,isTimeout:!0};return{data:null,error:l.NETWORK_ERROR,status:0,ok:!1,isOffline:r(),isTimeout:!1}}}async function n(e,t={}){let{timeout:a=1e4,retries:s=2,retryDelay:n=1e3,...d}=t;if(r())return{data:null,error:l.OFFLINE,status:0,ok:!1,isOffline:!0,isTimeout:!1};let c=null;for(let t=0;t<=s;t++){if(t>0&&(await new Promise(e=>setTimeout(e,n)),r()))return{data:null,error:l.OFFLINE,status:0,ok:!1,isOffline:!0,isTimeout:!1};if((c=await i(e,d,a)).ok||401===c.status||403===c.status||404===c.status||429===c.status)break}return c}async function d(e,t){return n(e,{...t,method:"GET"})}async function c(e,t,a){return n(e,{...a,method:"POST",body:t?JSON.stringify(t):void 0})}}},function(e){e.O(0,[1791,5558,0,8001,3661,2386,7156,1744],function(){return e(e.s=63637)}),_N_E=e.O()}]);