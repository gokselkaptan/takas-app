"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[778],{80778:function(e,s,t){t.r(s),t.d(s,{ReviewList:function(){return g},StarRating:function(){return u},TrustBadge:function(){return p},UserRatingSummary:function(){return h}});var a=t(15444),r=t(89300),l=t(79582),n=t(66124),i=t(90185),c=t(26298),d=t(62492),o=t(65522),m=t(82717);let x={fast_delivery:{tr:"Hızlı Teslimat",en:"Fast Delivery",es:"Entrega R\xe1pida",ca:"Lliurament R\xe0pid"},accurate_description:{tr:"Doğru A\xe7ıklama",en:"Accurate Description",es:"Descripci\xf3n Precisa",ca:"Descripci\xf3 Precisa"},good_communication:{tr:"İyi İletişim",en:"Good Communication",es:"Buena Comunicaci\xf3n",ca:"Bona Comunicaci\xf3"},friendly:{tr:"Samimi",en:"Friendly",es:"Amigable",ca:"Amigable"},professional:{tr:"Profesyonel",en:"Professional",es:"Profesional",ca:"Professional"},punctual:{tr:"Dakik",en:"Punctual",es:"Puntual",ca:"Puntual"}};function u({rating:e,size:s="md",showValue:t=!1}){let r={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};return(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(t=>(0,a.jsx)(l.Z,{className:(0,o.cn)(r[s],t<=e?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200")},t)),t&&(0,a.jsx)("span",{className:"ml-1 text-sm font-medium text-gray-700",children:e.toFixed(1)})]})}function p({trustScore:e,reviewCount:s,size:t="md"}){let{language:r}=(0,m.Z)(),l=e>=90?{label:{tr:"\xc7ok G\xfcvenilir",en:"Very Trusted",es:"Muy Confiable",ca:"Molt Fiable"},color:"bg-green-100 text-green-700 border-green-300"}:e>=75?{label:{tr:"G\xfcvenilir",en:"Trusted",es:"Confiable",ca:"Fiable"},color:"bg-blue-100 text-blue-700 border-blue-300"}:e>=60?{label:{tr:"İyi",en:"Good",es:"Bueno",ca:"Bo"},color:"bg-yellow-100 text-yellow-700 border-yellow-300"}:{label:{tr:"Yeni",en:"New",es:"Nuevo",ca:"Nou"},color:"bg-gray-100 text-gray-600 border-gray-300"};return(0,a.jsxs)("div",{className:(0,o.cn)("inline-flex items-center gap-1.5 rounded-full border font-medium",l.color,{sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-1",lg:"text-base px-3 py-1.5"}[t]),children:[(0,a.jsx)(n.Z,{className:"sm"===t?"w-3 h-3":"w-4 h-4"}),(0,a.jsx)("span",{children:l.label[r]||l.label.tr}),void 0!==s&&s>0&&(0,a.jsxs)("span",{className:"opacity-70",children:["(",s,")"]})]})}function h({userId:e}){let{language:s}=(0,m.Z)(),[t,l]=(0,r.useState)(null),[n,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{o()},[e]);let o=async()=>{try{let s=await fetch(`/api/reviews?userId=${e}`);if(s.ok){let e=await s.json();l(e.stats)}}catch(e){console.error("Stats fetch error:",e)}finally{d(!1)}};if(n)return(0,a.jsx)("div",{className:"animate-pulse h-20 bg-gray-100 rounded-lg"});if(!t||0===t.totalReviews)return(0,a.jsxs)("div",{className:"text-center py-4 text-gray-500",children:[(0,a.jsx)(i.Z,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{className:"text-sm",children:"tr"===s?"Hen\xfcz değerlendirme yok":"No reviews yet"})]});let p={tr:{reviews:"değerlendirme",basedOn:"\xfczerinden"},en:{reviews:"reviews",basedOn:"based on"},es:{reviews:"rese\xf1as",basedOn:"basado en"},ca:{reviews:"ressenyes",basedOn:"basat en"}},h=p[s]||p.tr;return(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-white rounded-xl p-4 border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:t.averageRating.toFixed(1)}),(0,a.jsx)(u,{rating:Math.round(t.averageRating),size:"sm"}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[t.totalReviews," ",h.reviews]})]}),(0,a.jsx)("div",{className:"flex-1 space-y-1",children:[5,4,3,2,1].map(e=>{let s=t.ratingDistribution[e]||0,r=t.totalReviews>0?s/t.totalReviews*100:0;return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500 w-3",children:e}),(0,a.jsx)("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-yellow-400 transition-all duration-500",style:{width:`${r}%`}})}),(0,a.jsx)("span",{className:"text-xs text-gray-400 w-6",children:s})]},e)})})]}),t.topTags.length>0&&(0,a.jsx)("div",{className:"mt-3 pt-3 border-t",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5",children:t.topTags.map(({tag:e,count:t})=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-50 text-green-700 text-xs rounded-full",children:[(0,a.jsx)(c.Z,{className:"w-3 h-3"}),x[e]?.[s]||e,(0,a.jsxs)("span",{className:"opacity-60",children:["(",t,")"]})]},e))})})]})}function g({userId:e}){let{language:s}=(0,m.Z)(),[t,l]=(0,r.useState)([]),[n,c]=(0,r.useState)(!0);(0,r.useEffect)(()=>{o()},[e]);let o=async()=>{try{let s=await fetch(`/api/reviews?userId=${e}`);if(s.ok){let e=await s.json();l(e.reviews)}}catch(e){console.error("Reviews fetch error:",e)}finally{c(!1)}},p=e=>new Date(e).toLocaleDateString("tr"===s?"tr-TR":"en-US",{day:"numeric",month:"short",year:"numeric"});return n?(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"animate-pulse bg-gray-100 h-32 rounded-lg"},e))}):0===t.length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(i.Z,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),(0,a.jsx)("p",{children:"tr"===s?"Hen\xfcz yorum yok":"No reviews yet"})]}):(0,a.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg border p-4",children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:e.author.name?.charAt(0)||"?"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.author.name||"Anonim"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u,{rating:e.rating,size:"sm"}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:p(e.createdAt)})]})]})]})}),e.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mb-2",children:e.tags.map(e=>(0,a.jsx)("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:x[e]?.[s]||e},e))}),e.comment&&(0,a.jsxs)("p",{className:"text-gray-700 text-sm mb-2",children:['"',e.comment,'"']}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,a.jsx)(d.Z,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:["tr"===s?"Takas:":"Swap:"," ",e.swapRequest.product.title]})]}),e.response&&(0,a.jsxs)("div",{className:"mt-3 pl-4 border-l-2 border-blue-200 bg-blue-50/50 py-2 px-3 rounded-r",children:[(0,a.jsx)("div",{className:"text-xs text-blue-600 font-medium mb-1",children:"tr"===s?"Satıcı Yanıtı":"Seller Response"}),(0,a.jsx)("p",{className:"text-sm text-gray-700",children:e.response})]})]},e.id))})}},26298:function(e,s,t){t.d(s,{Z:function(){return a}});let a=(0,t(42154).Z)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]])}}]);