"use strict";(()=>{var e={};e.id=9684,e.ids=[9684],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},27790:e=>{e.exports=require("assert")},78893:e=>{e.exports=require("buffer")},84770:e=>{e.exports=require("crypto")},17702:e=>{e.exports=require("events")},32615:e=>{e.exports=require("http")},35240:e=>{e.exports=require("https")},86624:e=>{e.exports=require("querystring")},17360:e=>{e.exports=require("url")},21764:e=>{e.exports=require("util")},71568:e=>{e.exports=require("zlib")},26010:(e,a,t)=>{t.r(a),t.d(a,{originalPathname:()=>B,patchFetch:()=>C,requestAsyncStorage:()=>x,routeModule:()=>h,serverHooks:()=>v,staticGenerationAsyncStorage:()=>w});var i={};t.r(i),t.d(i,{GET:()=>z,POST:()=>b,dynamic:()=>y});var r=t(79182),n=t(72007),s=t(56719),o=t(93442),l=t(83178),u=t(57978),c=t(11826),d=t(23522),p=t(53184),m=t(81510),g=t(92054),k=t(69767);let y="force-dynamic",f=0;async function z(e){try{let a=Date.now();a-f>3e5&&(f=a,l.default.product.updateMany({where:{isBoosted:!0,boostExpiresAt:{lt:new Date}},data:{isBoosted:!1}}).catch(()=>{}));let{searchParams:t}=new URL(e.url),i=t.get("category"),r=t.get("search"),n=t.get("sort")||"newest",s=parseInt(t.get("limit")||"50"),p="true"===t.get("mine"),m=t.get("lang")||"tr",g=parseInt(t.get("page")||"1"),y=t.get("lat")?parseFloat(t.get("lat")):null,z=t.get("lng")?parseFloat(t.get("lng")):null,b=t.get("radius")?parseFloat(t.get("radius")):null,h=t.get("city"),x=t.get("district"),w=t.get("valorMin"),v=t.get("valorMax"),B=!r&&!y&&!z&&!p&&!h&&!x&&!w&&!v&&1===g;if(B){let e=`products-${i||"all"}-${n}-${s}-${m}`,a=(0,k.lJ)(e);if(a)return o.NextResponse.json(a)}if(p){let e=await (0,u.getServerSession)(c.L);if(!e?.user?.email)return o.NextResponse.json({products:[]});let a=await l.default.user.findUnique({where:{email:e.user.email}});if(!a)return o.NextResponse.json({products:[]});let i="true"===t.get("all"),r=await l.default.product.findMany({where:{userId:a.id,...i?{}:{status:"active"}},orderBy:{createdAt:"desc"},select:{id:!0,title:!0,images:!0,valorPrice:!0,status:!0,views:!0,createdAt:!0,isBoosted:!0,boostExpiresAt:!0}});return o.NextResponse.json({products:r})}let C={status:"active",deletedAt:null};if(i&&"all"!==i){let e=await l.default.category.findFirst({where:{OR:[{slug:i},{id:i}]}});e&&(C.categoryId=e.id)}r&&(C.OR=[{title:{contains:r,mode:"insensitive"}},{description:{contains:r,mode:"insensitive"}}]),h&&(C.city=h),x&&(C.district=x),(w||v)&&(C.valorPrice={},w&&(C.valorPrice.gte=parseInt(w)),v&&(C.valorPrice.lte=parseInt(v)));let E={createdAt:"desc"};"oldest"===n&&(E={createdAt:"asc"}),"priceHigh"===n&&(E={valorPrice:"desc"}),"priceLow"===n&&(E={valorPrice:"asc"});let A=(g-1)*s,M=await l.default.product.count({where:C}),P=await l.default.product.findMany({where:C,orderBy:[{isBoosted:"desc"},{boostedAt:"desc"},E],take:s,skip:A,include:{category:!0,user:{select:{id:!0,name:!0,nickname:!0,trustScore:!0,isPhoneVerified:!0}},_count:{select:{swapRequestsForProduct:!0}}}}),S=P.map(e=>({...e,distance:null}));null!==y&&null!==z&&(S=P.map(e=>{if(e.latitude&&e.longitude){let a=function(e,a,t,i){let r=(t-e)*Math.PI/180,n=(i-a)*Math.PI/180,s=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e*Math.PI/180)*Math.cos(t*Math.PI/180)*Math.sin(n/2)*Math.sin(n/2);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371}(y,z,e.latitude,e.longitude);return{...e,distance:Math.round(10*a)/10}}return{...e,distance:null}}).filter(e=>null===b||!(b>0)||null!==e.distance&&e.distance<=b),"distance"===n&&S.sort((e,a)=>null===e.distance?1:null===a.distance?-1:e.distance-a.distance));let N=(0,d.Mu)(S,m),j=null!==y&&null!==z&&null!==b?S.length:M,T={products:N,total:j,page:g,limit:s,hasMore:A+S.length<j};if(B){let e=`products-${i||"all"}-${n}-${s}-${m}`;(0,k.K7)(e,T,30)}return o.NextResponse.json(T)}catch(e){return console.error("\xdcr\xfcnler getirme hatasÄ±:",e),o.NextResponse.json({error:"\xdcr\xfcnler getirilemedi"},{status:500})}}async function b(e){try{let a=await (0,u.getServerSession)(c.L);if(!a?.user?.email)return o.NextResponse.json({error:"GiriÅŸ yapmanÄ±z gerekiyor"},{status:401});let t=await l.default.user.findUnique({where:{email:a.user.email}});if(!t)return o.NextResponse.json({error:"KullanÄ±cÄ± bulunamadÄ±"},{status:404});let i="admin"===t.role||["join@takas-a.com"].includes(t.email||""),r=new Date;r.setHours(0,0,0,0);let n=t.lastProductDate&&new Date(t.lastProductDate).setHours(0,0,0,0)===r.getTime(),s=n?t.dailyProductCount:0,d=i?999:t.isPremium?999:3;if(s>=d&&!i)return o.NextResponse.json({error:`G\xfcnl\xfck ${d} \xfcr\xfcn ekleme limitinize ulaÅŸtÄ±nÄ±z. Premium \xfcyelik ile sÄ±nÄ±rsÄ±z \xfcr\xfcn ekleyebilirsiniz.`},{status:429});let k=await e.json(),{success:y,error:f}=(0,m.Gu)(m.td,{...k,valorPrice:Number(k.valorPrice)||k.valorPrice});if(!y)return o.NextResponse.json({error:f},{status:400});let{title:z,description:b,categoryId:h,condition:x,valorPrice:w,userValorPrice:v,aiValorPrice:B,aiValorReason:C,checklistData:E,usageInfo:A,images:M,latitude:P,longitude:S,district:N,city:j,isFreeAvailable:T,acceptsNegotiation:D}=k;if(!z||!b||!h)return o.NextResponse.json({error:"Gerekli alanlar eksik"},{status:400});let R=T?0:parseInt(w||"0"),K=(0,g.oO)(z),O=(0,g.oO)(b),I=new Date(Date.now()-864e5),q=new Date(Date.now()-3e5),G=M?.[0],[L]=await Promise.all([l.default.$transaction([l.default.userWarning.count({where:{userId:t.id,type:"duplicate_product",createdAt:{gte:I}}}),l.default.product.findMany({where:{userId:t.id,status:"active"},select:{id:!0,title:!0,images:!0,createdAt:!0}})])]),[H,V]=L;if(H>=3&&!i)return o.NextResponse.json({error:"\uD83D\uDEAB HesabÄ±nÄ±z spam aktivitesi nedeniyle ge\xe7ici olarak \xfcr\xfcn ekleme \xf6zelliÄŸinden kÄ±sÄ±tlanmÄ±ÅŸtÄ±r. 24 saat sonra tekrar deneyin.",blocked:!0},{status:403});if(V.filter(e=>e.createdAt>=q).length>=3&&!i)return o.NextResponse.json({error:"\xc7ok hÄ±zlÄ± \xfcr\xfcn ekliyorsunuz. L\xfctfen 5 dakika bekleyin."},{status:429});let $=K.toLowerCase().replace(/[^a-zA-Z0-9Ã§ÄŸÄ±Ã¶ÅŸÃ¼Ã‡ÄžÄ°Ã–ÅžÃœ\s]/g,"").replace(/\s+/g," "),J=null;for(let e of V){let a=e.title.trim().toLowerCase().replace(/[^a-zA-Z0-9Ã§ÄŸÄ±Ã¶ÅŸÃ¼Ã‡ÄžÄ°Ã–ÅžÃœ\s]/g,"").replace(/\s+/g," ");if(a===$&&e.createdAt>=I){J={id:e.id,title:e.title,type:"exact"};break}if(!J){let t=$.split(" ").filter(e=>e.length>2),i=a.split(" ").filter(e=>e.length>2);t.length>0&&i.length>0&&t.filter(e=>i.includes(e)).length/Math.max(t.length,i.length)>=.8&&(J={id:e.id,title:e.title,type:"similar"})}!J&&G&&e.images?.includes(G)&&(J={id:e.id,title:e.title,type:"image"})}if(J){let e="image"===J.type||H>=1,a="image"===J.type?30:H>=1?30:"exact"===J.type?10:0;(a>0||"similar"!==J.type)&&l.default.$transaction([l.default.userWarning.create({data:{userId:t.id,type:"duplicate_product",severity:e?"high":"exact"===J.type?"medium":"low",description:`${J.type} \xfcr\xfcn denemesi: "${K}" (mevcut: ${J.id})`}}),...a>0?[l.default.user.update({where:{id:t.id},data:{trustScore:{decrement:a}}})]:[]]).catch(()=>{});let i="image"===J.type?`Bu fotoÄŸrafÄ± kullanan aktif bir \xfcr\xfcn\xfcn\xfcz var: "${J.title}".`:`Bu \xfcr\xfcn\xfc zaten eklediniz: "${J.title}".`,r=a>0?`

ðŸ”´ G\xfcven puanÄ±nÄ±z ${a} puan d\xfcÅŸ\xfcr\xfcld\xfc.`:"";return o.NextResponse.json({error:`${i}${r}`,existingProductId:J.id,trustPenalty:a},{status:409})}let[F]=await l.default.$transaction([l.default.product.create({data:{title:K,description:O,categoryId:h,condition:x||"good",valorPrice:R,userValorPrice:T?0:v?parseInt(v):null,aiValorPrice:B?parseInt(B):null,aiValorReason:C,checklistData:E,usageInfo:A,images:M||[],userId:t.id,city:j||"Ä°zmir",latitude:P||38.4237,longitude:S||27.1428,district:N||"Alsancak",isFreeAvailable:T||!1,acceptsNegotiation:!1!==D},include:{category:!0}}),l.default.user.update({where:{id:t.id},data:{dailyProductCount:n?s+1:1,lastProductDate:new Date}})]);await l.default.activityFeed.create({data:{type:"product_added",userId:t.id,userName:t.name||"KullanÄ±cÄ±",productId:F.id,productTitle:F.title,city:j||"Ä°zmir"}});let Y=null;try{Y=await (0,p.Oq)(t.id)}catch(e){console.log("Bonus iÅŸaretlenemedi:",e)}return o.NextResponse.json({...F,bonusPending:Y?.success||!1,bonusMessage:Y?.message||"Ä°lk 3 takas tamamlandÄ±ÄŸÄ±nda bonus kazanacaksÄ±nÄ±z!"})}catch(e){return console.error("\xdcr\xfcn ekleme hatasÄ±:",e),o.NextResponse.json({error:"\xdcr\xfcn eklenemedi"},{status:500})}}let h=new r.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/products/route",pathname:"/api/products",filename:"route",bundlePath:"app/api/products/route"},resolvedPagePath:"/home/ubuntu/takas-a-kodlar/nextjs_space/app/api/products/route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:x,staticGenerationAsyncStorage:w,serverHooks:v}=h,B="/api/products/route";function C(){return(0,s.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:w})}},11826:(e,a,t)=>{t.d(a,{L:()=>u});var i=t(66291),r=t(64617),n=t(3390),s=t.n(n),o=t(83178),l=t(59521);let u={adapter:(0,r.N)(o.default),providers:[(0,i.Z)({name:"credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e,a){if(!e?.email||!e?.password)return null;let t=a?.headers?.["x-real-ip"],i=a?.headers?.["x-forwarded-for"],r=t?Array.isArray(t)?t[0]:t:i&&(Array.isArray(i)?i[0]:i).split(",").pop()?.trim()||"unknown",n=a?.headers?.["user-agent"]||"unknown";if(!(await (0,l.d5)(r,e.email)).allowed)throw await (0,l.Ky)(e.email,r,5,void 0),Error("ACCOUNT_LOCKED");let u=await o.default.user.findUnique({where:{email:e.email}});return u?await s().compare(e.password,u.password)?(await (0,l.LW)(r,u.id,u.email,n),await o.default.user.update({where:{id:u.id},data:{lastLoginAt:new Date}}),{id:u.id,email:u.email,name:u.name,role:u.role}):(await (0,l.Vm)(r,e.email,n,"Invalid password"),null):(await (0,l.Vm)(r,e.email,n,"User not found"),null)}})],session:{strategy:"jwt",maxAge:86400,updateAge:300},jwt:{maxAge:86400},callbacks:{jwt:async({token:e,user:a})=>(a&&(e.id=a.id,e.role=a.role),e),session:async({session:e,token:a})=>(e?.user&&(e.user.id=a?.id,e.user.role=a?.role),e)},pages:{signIn:"/giris"},secret:process.env.NEXTAUTH_SECRET,cookies:{sessionToken:{name:"__Secure-next-auth.session-token",options:{httpOnly:!0,sameSite:"lax",path:"/",secure:!0}}}}},69767:(e,a,t)=>{t.d(a,{K7:()=>n,lJ:()=>r});let i=new Map;function r(e){let a=i.get(e);return a?Date.now()>a.expiry?(i.delete(e),null):a.data:null}function n(e,a,t=60){if(i.set(e,{data:a,expiry:Date.now()+1e3*t}),i.size>500){let e=i.keys().next().value;e&&i.delete(e)}}},23522:(e,a,t)=>{t.d(a,{Jv:()=>l,Mu:()=>o,ij:()=>s,kQ:()=>u});let i={en:{"yillik kullanilmis":"years used","yil kullanilmis":"year used","inc ekran":"inch screen",beden:"size",numara:"size",adet:"pieces",parca:"pieces",renk:"color",siyah:"black",beyaz:"white",mavi:"blue",kirmizi:"red",yesil:"green",kahverengi:"brown",gri:"gray",bej:"beige",lacivert:"navy blue",pembe:"pink",Sifir:"Brand New",SÄ±fÄ±r:"Brand New","Sifir Gibi":"Like New","SÄ±fÄ±r Gibi":"Like New",Ä°yi:"Good",Iyi:"Good",Orta:"Fair",Elektronik:"Electronics",Giyim:"Clothing","Ev & Yasam":"Home & Living","Ev & YaÅŸam":"Home & Living","Spor & Outdoor":"Sports & Outdoor","Kitap & Hobi":"Books & Hobbies","Cocuk & Bebek":"Kids & Baby","\xc7ocuk & Bebek":"Kids & Baby",Oyuncak:"Toys",Mutfak:"Kitchen",Bahce:"Garden",BahÃ§e:"Garden","Taki & Aksesuar":"Jewelry & Accessories","TakÄ± & Aksesuar":"Jewelry & Accessories","Beyaz Esya":"White Goods","Beyaz EÅŸya":"White Goods",Diger:"Other",DiÄŸer:"Other","Bebek Arabasi":"Baby Stroller","Bebek Arabas\xfd":"Baby Stroller",Puset:"Stroller",Karyola:"Crib",Yatak:"Mattress","Mama Sandalyesi":"High Chair","Kiyafet Seti":"Clothing Set","Banyo Seti":"Bath Set","Oyun Hali":"Play Mat",Besik:"Cradle",Yorgan:"Blanket","Tasima Kanguru":"Baby Carrier","Oto Koltugu":"Car Seat","Aktivite Jimnastik":"Activity Gym","Emzirme Minderi":"Nursing Pillow","Bez Cantasi":"Diaper Bag","Biberon Seti":"Bottle Set","Park Yatagi":"Travel Crib",Kulaklik:"Headphones",Telefon:"Phone",Tablet:"Tablet",Bilgisayar:"Computer",Laptop:"Laptop",MonitÃ¶r:"Monitor",Monitor:"Monitor",Televizyon:"Television",TV:"TV",Ceket:"Jacket",Elbise:"Dress",Pantolon:"Pants",Gomlek:"Shirt",GÃ¶mlek:"Shirt",Ayakkabi:"Shoes",AyakkabÃ½:"Shoes",Canta:"Bag",Ã‡anta:"Bag",Saat:"Watch",Kolye:"Necklace",Yuzuk:"Ring",YÃ¼zÃ¼k:"Ring",Kupe:"Earrings",KÃ¼pe:"Earrings",Bileklik:"Bracelet",Kitap:"Book",Roman:"Novel",Oyun:"Game",Bisiklet:"Bicycle","Spor Aleti":"Sports Equipment","Yoga Mati":"Yoga Mat",Dambil:"Dumbbell",Cadir:"Tent",Ã‡adÄ±r:"Tent","Uyku Tulumu":"Sleeping Bag",Koltuk:"Sofa",Masa:"Table",Sandalye:"Chair",Dolap:"Cabinet",Raf:"Shelf",Lamba:"Lamp",Hali:"Carpet",HalÃ½:"Carpet",Perde:"Curtain",Ayna:"Mirror",Buzdolabi:"Refrigerator","Camasir Makinesi":"Washing Machine","Bulasik Makinesi":"Dishwasher",Mikrodalga:"Microwave",Firin:"Oven",FÃ½rÃ½n:"Oven","Tost Makinesi":"Toaster","Kahve Makinesi":"Coffee Maker","Su Isitici":"Electric Kettle",Blender:"Blender",Lego:"Lego","Oyuncak Araba":"Toy Car",Bebek:"Baby Doll",Puzzle:"Puzzle",Kadin:"Women's",KadÃ½n:"Women's",Erkek:"Men's",Cocuk:"Children's",Ã‡ocuk:"Children's",Unisex:"Unisex","Travel sistem":"Travel system",Hafif:"Lightweight",katlanir:"foldable",sallanir:"rocking","yukseklik ayarli":"height adjustable","yikaniir kilif":"washable cover","cok gozlu":"multi-pocket","Aktif gurultu engelleyici":"Active noise cancelling","gercek deri":"genuine leather",pamuklu:"cotton",organik:"organic",muzikli:"with music",ay:"months",yas:"years",yaÅŸ:"years"},es:{"yillik kullanilmis":"a\xf1os de uso","inc ekran":"pulgadas de pantalla",beden:"talla",numara:"n\xfamero",adet:"piezas",parca:"piezas",renk:"color",siyah:"negro",beyaz:"blanco",mavi:"azul",kirmizi:"rojo",Sifir:"Nuevo","Sifir Gibi":"Como Nuevo",Ä°yi:"Bueno",Orta:"Regular",Elektronik:"Electr\xf3nica",Giyim:"Ropa","Ev & Yasam":"Hogar y Vida","Ev & YaÅŸam":"Hogar y Vida","Spor & Outdoor":"Deportes y Exterior","Kitap & Hobi":"Libros y Hobbies","Cocuk & Bebek":"Ni\xf1os y Beb\xe9s","\xc7ocuk & Bebek":"Ni\xf1os y Beb\xe9s",Oyuncak:"Juguetes",Mutfak:"Cocina",Bahce:"Jard\xedn",BahÃ§e:"Jard\xedn","Taki & Aksesuar":"Joyas y Accesorios","TakÄ± & Aksesuar":"Joyas y Accesorios","Beyaz Esya":"Electrodom\xe9sticos","Beyaz EÅŸya":"Electrodom\xe9sticos",Diger:"Otros",DiÄŸer:"Otros","Bebek Arabasi":"Cochecito de Beb\xe9",Puset:"Carrito",Karyola:"Cuna",Yatak:"Colch\xf3n","Mama Sandalyesi":"Trona","Kiyafet Seti":"Conjunto de Ropa",Kulaklik:"Auriculares",Telefon:"Tel\xe9fono",Ceket:"Chaqueta",Elbise:"Vestido",Kadin:"Mujer",Erkek:"Hombre",Cocuk:"Ni\xf1os",ay:"meses",yas:"a\xf1os"},ca:{"yillik kullanilmis":"anys d'\xfas","inc ekran":"polzades de pantalla",beden:"talla",numara:"n\xfamero",adet:"peces",parca:"peces",renk:"color",siyah:"negre",beyaz:"blanc",mavi:"blau",kirmizi:"vermell",Sifir:"Nou","Sifir Gibi":"Com Nou",Ä°yi:"Bo",Orta:"Regular",Elektronik:"Electr\xf2nica",Giyim:"Roba","Ev & Yasam":"Llar i Vida","Ev & YaÅŸam":"Llar i Vida","Spor & Outdoor":"Esports i Exterior","Kitap & Hobi":"Llibres i Hobbies","Cocuk & Bebek":"Nens i Nadons","\xc7ocuk & Bebek":"Nens i Nadons",Oyuncak:"Joguines",Mutfak:"Cuina",Bahce:"Jard\xed",BahÃ§e:"Jard\xed","Taki & Aksesuar":"Joies i Accessoris","TakÄ± & Aksesuar":"Joies i Accessoris","Beyaz Esya":"Electrodom\xe8stics","Beyaz EÅŸya":"Electrodom\xe8stics",Diger:"Altres",DiÄŸer:"Altres","Bebek Arabasi":"Cotxet de Nad\xf3",Puset:"Cotxet",Karyola:"Bressol",Yatak:"Matal\xe0s","Mama Sandalyesi":"Trona","Kiyafet Seti":"Conjunt de Roba",Kulaklik:"Auriculars",Telefon:"Tel\xe8fon",Ceket:"Jaqueta",Elbise:"Vestit",Kadin:"Dona",Erkek:"Home",Cocuk:"Nens",ay:"mesos",yas:"anys"}},r={new:{tr:"SÄ±fÄ±r",en:"Brand New",es:"Nuevo",ca:"Nou"},likeNew:{tr:"SÄ±fÄ±r Gibi",en:"Like New",es:"Como Nuevo",ca:"Com Nou"},good:{tr:"Ä°yi",en:"Good",es:"Bueno",ca:"Bo"},fair:{tr:"Orta",en:"Fair",es:"Regular",ca:"Regular"}};function n(e,a){if(!e||"tr"===a)return e;let t=i[a];if(!t)return e;let r=e;for(let e of Object.keys(t).sort((e,a)=>a.length-e.length)){let a=RegExp(e,"gi");r=r.replace(a,t[e])}return r}function s(e,a){let t=e.title,i=e.description;"en"===a&&e.titleEn?t=e.titleEn:"es"===a&&e.titleEs?t=e.titleEs:"ca"===a&&e.titleCa?t=e.titleCa:"tr"!==a&&(t=n(e.title,a)),"en"===a&&e.descriptionEn?i=e.descriptionEn:"es"===a&&e.descriptionEs?i=e.descriptionEs:"ca"===a&&e.descriptionCa?i=e.descriptionCa:"tr"!==a&&(i=n(e.description,a));let s=e.condition?r[e.condition]?.[a]||e.condition:"",o=e.category?.name;return e.category&&("en"===a&&e.category.nameEn?o=e.category.nameEn:"es"===a&&e.category.nameEs?o=e.category.nameEs:"ca"===a&&e.category.nameCa&&(o=e.category.nameCa)),{...e,translatedTitle:t,translatedDescription:i,translatedCondition:s,translatedCategory:o}}function o(e,a){return e.map(e=>s(e,a))}function l(e,a){if("en"===a&&e.nameEn)return e.nameEn;if("es"===a&&e.nameEs)return e.nameEs;if("ca"===a&&e.nameCa)return e.nameCa;if("tr"!==a&&i[a]){let t=i[a];if(t[e.name])return t[e.name];let r=e.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"");if(t[r])return t[r]}return e.name}function u(e,a){let t=e.name,i=e.address;return"en"===a?(t=e.nameEn||e.name,i=e.addressEn||e.address):"es"===a?(t=e.nameEs||e.name,i=e.addressEs||e.address):"ca"===a&&(t=e.nameCa||e.name,i=e.addressCa||e.address),{translatedName:t,translatedAddress:i}}},92054:(e,a,t)=>{t.d(a,{oO:()=>i});function i(e){return e&&"string"==typeof e?e.trim().replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/on\w+\s*=\s*["'][^"']*["']/gi,"").replace(/javascript\s*:/gi,"").replace(/data\s*:\s*text\/html/gi,"").replace(/<iframe/gi,"&lt;iframe").replace(/<object/gi,"&lt;object").replace(/<embed/gi,"&lt;embed").replace(/<form/gi,"&lt;form"):""}},81510:(e,a,t)=>{t.d(a,{C$:()=>n,Gu:()=>u,QT:()=>l,if:()=>d,lw:()=>o,qi:()=>s,td:()=>r});var i=t(91209);let r=i.z.object({title:i.z.string().min(3,"BaÅŸlÄ±k en az 3 karakter").max(200,"BaÅŸlÄ±k en fazla 200 karakter").trim(),description:i.z.string().min(10,"A\xe7Ä±klama en az 10 karakter").max(5e3).trim(),valorPrice:i.z.number().int().min(1,"DeÄŸer en az 1 Valor").max(1e5,"DeÄŸer en fazla 100000 Valor"),condition:i.z.enum(["new","like_new","good","fair","poor"]).default("good"),categoryId:i.z.string().min(1,"Kategori se\xe7iniz"),city:i.z.string().default("Ä°zmir"),district:i.z.string().optional(),images:i.z.array(i.z.string()).max(10,"En fazla 10 g\xf6rsel").optional(),latitude:i.z.number().optional(),longitude:i.z.number().optional(),usageInfo:i.z.string().optional(),checklistData:i.z.string().optional(),userValorPrice:i.z.number().optional(),acceptsNegotiation:i.z.boolean().optional(),isFreeAvailable:i.z.boolean().optional()}),n=i.z.object({productId:i.z.string().min(1,"\xdcr\xfcn ID gerekli"),message:i.z.string().max(1e3,"Mesaj en fazla 1000 karakter").optional(),offeredProductId:i.z.string().nullable().optional(),offeredValor:i.z.number().int().min(0).max(1e5).optional(),quickOffer:i.z.boolean().optional(),smartMatch:i.z.boolean().optional()}),s=i.z.object({receiverId:i.z.string().min(1,"AlÄ±cÄ± ID gerekli"),content:i.z.string().min(1,"Mesaj boÅŸ olamaz").max(5e3,"Mesaj en fazla 5000 karakter").trim(),productId:i.z.string().optional(),image:i.z.string().optional()});i.z.object({name:i.z.string().min(2,"Ä°sim en az 2 karakter").max(100).trim().optional(),phone:i.z.string().regex(/^(\+90|0)?[0-9]{10}$/,"Ge\xe7ersiz telefon numarasÄ±").optional().nullable(),city:i.z.string().max(100).optional(),district:i.z.string().max(100).optional(),bio:i.z.string().max(500).optional()});let o=i.z.object({title:i.z.string().min(3,"BaÅŸlÄ±k en az 3 karakter").max(200).trim(),description:i.z.string().min(10,"A\xe7Ä±klama en az 10 karakter").max(5e3).trim(),category:i.z.enum(["cleaning","electrical","plumbing","beauty","education","cooking","repair","delivery","design","photography","other"]),duration:i.z.string().max(50),valorPrice:i.z.number().int().min(1,"DeÄŸer en az 1 Valor").max(1e5),city:i.z.string().default("Ä°zmir"),district:i.z.string().optional(),serviceArea:i.z.string().optional(),wantCategory:i.z.string().optional(),wantDescription:i.z.string().max(500).optional(),listingType:i.z.enum(["individual","business"]).default("individual"),businessName:i.z.string().max(200).optional(),businessType:i.z.string().optional(),unitType:i.z.string().optional(),unitCount:i.z.number().int().optional(),images:i.z.array(i.z.string()).optional()}),l=i.z.object({wantTitle:i.z.string().min(3,"BaÅŸlÄ±k en az 3 karakter").max(200).trim(),wantDescription:i.z.string().max(2e3).optional(),wantCategory:i.z.string().min(1,"Kategori gerekli"),wantMinValue:i.z.number().int().min(0).optional(),wantMaxValue:i.z.number().int().max(1e5).optional(),offerType:i.z.enum(["specific_product","category","any"]).default("any"),preferredCity:i.z.string().optional(),isUrgent:i.z.boolean().default(!1),offerProductId:i.z.string().optional(),offerCategory:i.z.string().optional(),offerTitle:i.z.string().optional(),offerDescription:i.z.string().optional(),offerMinValue:i.z.number().optional(),offerMaxValue:i.z.number().optional(),deadline:i.z.string().optional(),urgencyBonus:i.z.number().optional()});function u(e,a){try{let t=e.parse(a);return{success:!0,data:t}}catch(e){if(e instanceof i.z.ZodError)return{success:!1,error:e.errors.map(e=>e.message).join(", ")};return{success:!1,error:"Ge\xe7ersiz veri"}}}let c=i.z.string().min(8,"Åžifre en az 8 karakter olmalÄ±").max(128,"Åžifre en fazla 128 karakter olabilir").refine(e=>/[A-Z]/.test(e),"En az 1 b\xfcy\xfck harf gerekli").refine(e=>/[a-z]/.test(e),"En az 1 k\xfc\xe7\xfck harf gerekli").refine(e=>/[0-9]/.test(e),"En az 1 rakam gerekli"),d=i.z.object({email:i.z.string().email("Ge\xe7erli bir e-posta girin").trim().toLowerCase(),password:c,name:i.z.string().min(2,"Ä°sim en az 2 karakter").max(100).trim(),nickname:i.z.string().min(2).max(50).trim().optional()});i.z.object({currentPassword:i.z.string().min(1,"Mevcut ÅŸifre gerekli"),newPassword:c})}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),i=a.X(0,[8412,7609,3390,1472,1209,9521,3184],()=>t(26010));module.exports=i})();