"use strict";(()=>{var e={};e.id=9961,e.ids=[9961],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},89892:(e,a,i)=>{i.r(a),i.d(a,{originalPathname:()=>b,patchFetch:()=>f,requestAsyncStorage:()=>y,routeModule:()=>m,serverHooks:()=>g,staticGenerationAsyncStorage:()=>p});var r={};i.r(r),i.d(r,{GET:()=>k,dynamic:()=>d});var t=i(79182),n=i(72007),o=i(56719),s=i(93442),l=i(83178),c=i(23522),u=i(69767);let d="force-dynamic";async function k(e){try{let{searchParams:a}=new URL(e.url),i=a.get("lang")||"tr",r=`categories-${i}`,t=(0,u.lJ)(r);if(t)return s.NextResponse.json(t);let n=(await l.default.category.findMany({orderBy:{name:"asc"},include:{_count:{select:{products:!0}}}})).map(e=>({...e,translatedName:(0,c.Jv)(e,i)}));return(0,u.K7)(r,n,300),s.NextResponse.json(n)}catch(e){return console.error("Kategoriler getirme hatası:",e),s.NextResponse.json({error:"Kategoriler getirilemedi"},{status:500})}}let m=new t.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/categories/route",pathname:"/api/categories",filename:"route",bundlePath:"app/api/categories/route"},resolvedPagePath:"/home/ubuntu/takas-a-kodlar/nextjs_space/app/api/categories/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:y,staticGenerationAsyncStorage:p,serverHooks:g}=m,b="/api/categories/route";function f(){return(0,o.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:p})}},69767:(e,a,i)=>{i.d(a,{K7:()=>n,lJ:()=>t});let r=new Map;function t(e){let a=r.get(e);return a?Date.now()>a.expiry?(r.delete(e),null):a.data:null}function n(e,a,i=60){if(r.set(e,{data:a,expiry:Date.now()+1e3*i}),r.size>500){let e=r.keys().next().value;e&&r.delete(e)}}},83178:(e,a,i)=>{i.r(a),i.d(a,{default:()=>l});var r=i(53524);let t=globalThis,n="phase-production-build"===process.env.NEXT_PHASE||!0,o=t.prisma??(()=>{let e=new r.PrismaClient({log:["error"],datasources:{db:{url:function(){let e=process.env.DATABASE_URL||"";if(e.includes("connection_limit")||e.includes("pool_timeout"))return e;let a=e.includes("?")?"&":"?";return`${e}${a}connection_limit=${n?1:5}&pool_timeout=${n?60:10}&connect_timeout=5&socket_timeout=10&pgbouncer=true&statement_cache_size=0`}()}}});return e.$use(async(a,i)=>{let r=0;for(;r<=5;)try{let e=await i(a);return t.lastConnectTime=Date.now(),e}catch(i){let a=i instanceof Error?i.message:String(i);if((a.includes("idle-session timeout")||a.includes("terminating connection")||a.includes("ECONNRESET")||a.includes("Connection refused")||a.includes("connection closed")||a.includes("socket")||a.includes("ETIMEDOUT")||a.includes("connection timed out")||a.includes("prepared statement"))&&r<5){if(r++,console.log(`[Prisma] Connection error, retry ${r}/5: ${a.substring(0,100)}`),r>=2)try{await e.$disconnect(),await e.$connect(),console.log("[Prisma] Reconnected successfully")}catch{}await new Promise(e=>setTimeout(e,100*Math.pow(2,r-1)));continue}throw i}}),e})();t.prisma=o,"undefined"!=typeof process&&process.on("beforeExit",async()=>{await o.$disconnect()});let s=null;"undefined"==typeof process||n||!s&&(n||(s=setInterval(async()=>{try{await o.$queryRaw`SELECT 1`}catch(e){console.warn("[Prisma KeepAlive] Bağlantı hatası, yeniden bağlanılıyor:",e.message?.substring(0,80));try{await o.$connect(),console.log("[Prisma KeepAlive] Yeniden bağlantı başarılı")}catch(e){console.error("[Prisma KeepAlive] Yeniden bağlantı başarısız!")}}},6e4)).unref());let l=o},23522:(e,a,i)=>{i.d(a,{Jv:()=>l,Mu:()=>s,ij:()=>o,kQ:()=>c});let r={en:{"yillik kullanilmis":"years used","yil kullanilmis":"year used","inc ekran":"inch screen",beden:"size",numara:"size",adet:"pieces",parca:"pieces",renk:"color",siyah:"black",beyaz:"white",mavi:"blue",kirmizi:"red",yesil:"green",kahverengi:"brown",gri:"gray",bej:"beige",lacivert:"navy blue",pembe:"pink",Sifir:"Brand New",Sıfır:"Brand New","Sifir Gibi":"Like New","Sıfır Gibi":"Like New",İyi:"Good",Iyi:"Good",Orta:"Fair",Elektronik:"Electronics",Giyim:"Clothing","Ev & Yasam":"Home & Living","Ev & Yaşam":"Home & Living","Spor & Outdoor":"Sports & Outdoor","Kitap & Hobi":"Books & Hobbies","Cocuk & Bebek":"Kids & Baby","\xc7ocuk & Bebek":"Kids & Baby",Oyuncak:"Toys",Mutfak:"Kitchen",Bahce:"Garden",Bahçe:"Garden","Taki & Aksesuar":"Jewelry & Accessories","Takı & Aksesuar":"Jewelry & Accessories","Beyaz Esya":"White Goods","Beyaz Eşya":"White Goods",Diger:"Other",Diğer:"Other","Bebek Arabasi":"Baby Stroller","Bebek Arabas\xfd":"Baby Stroller",Puset:"Stroller",Karyola:"Crib",Yatak:"Mattress","Mama Sandalyesi":"High Chair","Kiyafet Seti":"Clothing Set","Banyo Seti":"Bath Set","Oyun Hali":"Play Mat",Besik:"Cradle",Yorgan:"Blanket","Tasima Kanguru":"Baby Carrier","Oto Koltugu":"Car Seat","Aktivite Jimnastik":"Activity Gym","Emzirme Minderi":"Nursing Pillow","Bez Cantasi":"Diaper Bag","Biberon Seti":"Bottle Set","Park Yatagi":"Travel Crib",Kulaklik:"Headphones",Telefon:"Phone",Tablet:"Tablet",Bilgisayar:"Computer",Laptop:"Laptop",Monitör:"Monitor",Monitor:"Monitor",Televizyon:"Television",TV:"TV",Ceket:"Jacket",Elbise:"Dress",Pantolon:"Pants",Gomlek:"Shirt",Gömlek:"Shirt",Ayakkabi:"Shoes",Ayakkabý:"Shoes",Canta:"Bag",Çanta:"Bag",Saat:"Watch",Kolye:"Necklace",Yuzuk:"Ring",Yüzük:"Ring",Kupe:"Earrings",Küpe:"Earrings",Bileklik:"Bracelet",Kitap:"Book",Roman:"Novel",Oyun:"Game",Bisiklet:"Bicycle","Spor Aleti":"Sports Equipment","Yoga Mati":"Yoga Mat",Dambil:"Dumbbell",Cadir:"Tent",Çadır:"Tent","Uyku Tulumu":"Sleeping Bag",Koltuk:"Sofa",Masa:"Table",Sandalye:"Chair",Dolap:"Cabinet",Raf:"Shelf",Lamba:"Lamp",Hali:"Carpet",Halý:"Carpet",Perde:"Curtain",Ayna:"Mirror",Buzdolabi:"Refrigerator","Camasir Makinesi":"Washing Machine","Bulasik Makinesi":"Dishwasher",Mikrodalga:"Microwave",Firin:"Oven",Fýrýn:"Oven","Tost Makinesi":"Toaster","Kahve Makinesi":"Coffee Maker","Su Isitici":"Electric Kettle",Blender:"Blender",Lego:"Lego","Oyuncak Araba":"Toy Car",Bebek:"Baby Doll",Puzzle:"Puzzle",Kadin:"Women's",Kadýn:"Women's",Erkek:"Men's",Cocuk:"Children's",Çocuk:"Children's",Unisex:"Unisex","Travel sistem":"Travel system",Hafif:"Lightweight",katlanir:"foldable",sallanir:"rocking","yukseklik ayarli":"height adjustable","yikaniir kilif":"washable cover","cok gozlu":"multi-pocket","Aktif gurultu engelleyici":"Active noise cancelling","gercek deri":"genuine leather",pamuklu:"cotton",organik:"organic",muzikli:"with music",ay:"months",yas:"years",yaş:"years"},es:{"yillik kullanilmis":"a\xf1os de uso","inc ekran":"pulgadas de pantalla",beden:"talla",numara:"n\xfamero",adet:"piezas",parca:"piezas",renk:"color",siyah:"negro",beyaz:"blanco",mavi:"azul",kirmizi:"rojo",Sifir:"Nuevo","Sifir Gibi":"Como Nuevo",İyi:"Bueno",Orta:"Regular",Elektronik:"Electr\xf3nica",Giyim:"Ropa","Ev & Yasam":"Hogar y Vida","Ev & Yaşam":"Hogar y Vida","Spor & Outdoor":"Deportes y Exterior","Kitap & Hobi":"Libros y Hobbies","Cocuk & Bebek":"Ni\xf1os y Beb\xe9s","\xc7ocuk & Bebek":"Ni\xf1os y Beb\xe9s",Oyuncak:"Juguetes",Mutfak:"Cocina",Bahce:"Jard\xedn",Bahçe:"Jard\xedn","Taki & Aksesuar":"Joyas y Accesorios","Takı & Aksesuar":"Joyas y Accesorios","Beyaz Esya":"Electrodom\xe9sticos","Beyaz Eşya":"Electrodom\xe9sticos",Diger:"Otros",Diğer:"Otros","Bebek Arabasi":"Cochecito de Beb\xe9",Puset:"Carrito",Karyola:"Cuna",Yatak:"Colch\xf3n","Mama Sandalyesi":"Trona","Kiyafet Seti":"Conjunto de Ropa",Kulaklik:"Auriculares",Telefon:"Tel\xe9fono",Ceket:"Chaqueta",Elbise:"Vestido",Kadin:"Mujer",Erkek:"Hombre",Cocuk:"Ni\xf1os",ay:"meses",yas:"a\xf1os"},ca:{"yillik kullanilmis":"anys d'\xfas","inc ekran":"polzades de pantalla",beden:"talla",numara:"n\xfamero",adet:"peces",parca:"peces",renk:"color",siyah:"negre",beyaz:"blanc",mavi:"blau",kirmizi:"vermell",Sifir:"Nou","Sifir Gibi":"Com Nou",İyi:"Bo",Orta:"Regular",Elektronik:"Electr\xf2nica",Giyim:"Roba","Ev & Yasam":"Llar i Vida","Ev & Yaşam":"Llar i Vida","Spor & Outdoor":"Esports i Exterior","Kitap & Hobi":"Llibres i Hobbies","Cocuk & Bebek":"Nens i Nadons","\xc7ocuk & Bebek":"Nens i Nadons",Oyuncak:"Joguines",Mutfak:"Cuina",Bahce:"Jard\xed",Bahçe:"Jard\xed","Taki & Aksesuar":"Joies i Accessoris","Takı & Aksesuar":"Joies i Accessoris","Beyaz Esya":"Electrodom\xe8stics","Beyaz Eşya":"Electrodom\xe8stics",Diger:"Altres",Diğer:"Altres","Bebek Arabasi":"Cotxet de Nad\xf3",Puset:"Cotxet",Karyola:"Bressol",Yatak:"Matal\xe0s","Mama Sandalyesi":"Trona","Kiyafet Seti":"Conjunt de Roba",Kulaklik:"Auriculars",Telefon:"Tel\xe8fon",Ceket:"Jaqueta",Elbise:"Vestit",Kadin:"Dona",Erkek:"Home",Cocuk:"Nens",ay:"mesos",yas:"anys"}},t={new:{tr:"Sıfır",en:"Brand New",es:"Nuevo",ca:"Nou"},likeNew:{tr:"Sıfır Gibi",en:"Like New",es:"Como Nuevo",ca:"Com Nou"},good:{tr:"İyi",en:"Good",es:"Bueno",ca:"Bo"},fair:{tr:"Orta",en:"Fair",es:"Regular",ca:"Regular"}};function n(e,a){if(!e||"tr"===a)return e;let i=r[a];if(!i)return e;let t=e;for(let e of Object.keys(i).sort((e,a)=>a.length-e.length)){let a=RegExp(e,"gi");t=t.replace(a,i[e])}return t}function o(e,a){let i=e.title,r=e.description;"en"===a&&e.titleEn?i=e.titleEn:"es"===a&&e.titleEs?i=e.titleEs:"ca"===a&&e.titleCa?i=e.titleCa:"tr"!==a&&(i=n(e.title,a)),"en"===a&&e.descriptionEn?r=e.descriptionEn:"es"===a&&e.descriptionEs?r=e.descriptionEs:"ca"===a&&e.descriptionCa?r=e.descriptionCa:"tr"!==a&&(r=n(e.description,a));let o=e.condition?t[e.condition]?.[a]||e.condition:"",s=e.category?.name;return e.category&&("en"===a&&e.category.nameEn?s=e.category.nameEn:"es"===a&&e.category.nameEs?s=e.category.nameEs:"ca"===a&&e.category.nameCa&&(s=e.category.nameCa)),{...e,translatedTitle:i,translatedDescription:r,translatedCondition:o,translatedCategory:s}}function s(e,a){return e.map(e=>o(e,a))}function l(e,a){if("en"===a&&e.nameEn)return e.nameEn;if("es"===a&&e.nameEs)return e.nameEs;if("ca"===a&&e.nameCa)return e.nameCa;if("tr"!==a&&r[a]){let i=r[a];if(i[e.name])return i[e.name];let t=e.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"");if(i[t])return i[t]}return e.name}function c(e,a){let i=e.name,r=e.address;return"en"===a?(i=e.nameEn||e.name,r=e.addressEn||e.address):"es"===a?(i=e.nameEs||e.name,r=e.addressEs||e.address):"ca"===a&&(i=e.nameCa||e.name,r=e.addressCa||e.address),{translatedName:i,translatedAddress:r}}}};var a=require("../../../webpack-runtime.js");a.C(e);var i=e=>a(a.s=e),r=a.X(0,[8412,7609],()=>i(89892));module.exports=r})();