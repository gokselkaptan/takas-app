(()=>{var e={};e.id=529,e.ids=[529],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},69839:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),a(48689),a(32314),a(9126),a(84131),a(24450);var s=a(36576),r=a(72007),i=a(21818),l=a.n(i),o=a(88897),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);a.d(t,n);let d=["",{children:["topluluklar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,48689)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/topluluklar/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,32314)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,9126)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/error.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,84131)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,24450)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/not-found.tsx"]}],c=["/home/ubuntu/takas-a-kodlar/nextjs_space/app/topluluklar/page.tsx"],u="/topluluklar/page",p={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/topluluklar/page",pathname:"/topluluklar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},17449:(e,t,a)=>{Promise.resolve().then(a.bind(a,21528))},21528:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>G});var s=a(62901),r=a(24383),i=a(84700),l=a(84374),o=a(80412),n=a(13943),d=a(75115),c=a(62392),u=a(59458),p=a(1320),m=a(75811),x=a(79046),h=a(91046),g=a(97718),y=a(66843),b=a(99311),f=a(44928),j=a(70818),v=a(30808),k=a(23422),w=a(72307),N=a(54936),C=a(43921);let T={tr:{title:"Topluluklar",subtitle:"Şehrindeki takas\xe7ılarla tanış, yerel topluluklara katıl",search:"Topluluk ara...",myGroups:"Gruplarım",allGroups:"T\xfcm Gruplar",createGroup:"Grup Oluştur",members:"\xfcye",swaps:"takas",posts:"g\xf6nderi",events:"etkinlik",join:"Katıl",joined:"\xdcye",official:"Resmi",private:"\xd6zel",weeklyActive:"haftalık aktif",noResults:"Topluluk bulunamadı",filterCity:"Şehir",filterType:"T\xfcr",allCities:"T\xfcm Şehirler",allTypes:"T\xfcm T\xfcrler",typeNeighborhood:"Mahalle",typeDistrict:"İl\xe7e",typeCity:"Şehir",typeInterest:"İlgi Alanı",loadMore:"Daha Fazla Y\xfckle",loginRequired:"Katılmak i\xe7in giriş yapın",joinSuccess:"Topluluğa katıldınız!",popularTags:"Pop\xfcler Etiketler"},en:{title:"Communities",subtitle:"Meet swappers in your city, join local communities",search:"Search communities...",myGroups:"My Groups",allGroups:"All Groups",createGroup:"Create Group",members:"members",swaps:"swaps",posts:"posts",events:"events",join:"Join",joined:"Joined",official:"Official",private:"Private",weeklyActive:"weekly active",noResults:"No communities found",filterCity:"City",filterType:"Type",allCities:"All Cities",allTypes:"All Types",typeNeighborhood:"Neighborhood",typeDistrict:"District",typeCity:"City",typeInterest:"Interest",loadMore:"Load More",loginRequired:"Login to join",joinSuccess:"You joined the community!",popularTags:"Popular Tags"},es:{title:"Comunidades",subtitle:"Conoce a los intercambiadores de tu ciudad, \xfanete a comunidades locales",search:"Buscar comunidades...",myGroups:"Mis Grupos",allGroups:"Todos los Grupos",createGroup:"Crear Grupo",members:"miembros",swaps:"intercambios",posts:"publicaciones",events:"eventos",join:"Unirse",joined:"Unido",official:"Oficial",private:"Privado",weeklyActive:"activos semanales",noResults:"No se encontraron comunidades",filterCity:"Ciudad",filterType:"Tipo",allCities:"Todas las Ciudades",allTypes:"Todos los Tipos",typeNeighborhood:"Barrio",typeDistrict:"Distrito",typeCity:"Ciudad",typeInterest:"Inter\xe9s",loadMore:"Cargar M\xe1s",loginRequired:"Inicia sesi\xf3n para unirte",joinSuccess:"\xa1Te uniste a la comunidad!",popularTags:"Etiquetas Populares"},ca:{title:"Comunitats",subtitle:"Coneix als intercanviadors de la teva ciutat, uneix-te a comunitats locals",search:"Cercar comunitats...",myGroups:"Els Meus Grups",allGroups:"Tots els Grups",createGroup:"Crear Grup",members:"membres",swaps:"intercanvis",posts:"publicacions",events:"esdeveniments",join:"Unir-se",joined:"Unit",official:"Oficial",private:"Privat",weeklyActive:"actius setmanals",noResults:"No s'han trobat comunitats",filterCity:"Ciutat",filterType:"Tipus",allCities:"Totes les Ciutats",allTypes:"Tots els Tipus",typeNeighborhood:"Barri",typeDistrict:"Districte",typeCity:"Ciutat",typeInterest:"Inter\xe8s",loadMore:"Carregar M\xe9s",loginRequired:"Inicia sessi\xf3 per unir-te",joinSuccess:"T'has unit a la comunitat!",popularTags:"Etiquetes Populars"}},M={neighborhood:u.Z,district:p.Z,city:m.Z,interest:x.Z};function G(){let{data:e}=(0,i.useSession)(),{language:t}=(0,N.Z)(),a=(0,l.useRouter)(),u=T[t]||T.tr,[p,m]=(0,r.useState)([]),[x,G]=(0,r.useState)(!0),[Z,P]=(0,r.useState)(""),[_,S]=(0,r.useState)(""),[A,z]=(0,r.useState)(""),[q,R]=(0,r.useState)(!1),[I,D]=(0,r.useState)(!1),[E,U]=(0,r.useState)(0),[B,O]=(0,r.useState)(null),F=[{value:"neighborhood",label:u.typeNeighborhood},{value:"district",label:u.typeDistrict},{value:"city",label:u.typeCity},{value:"interest",label:u.typeInterest}],L=async(e=!1)=>{try{G(!0);let t=new URLSearchParams;Z&&t.set("search",Z),_&&t.set("city",_),A&&t.set("type",A),q&&t.set("my","true"),t.set("limit","12"),t.set("offset",e?"0":String(E));let a=await fetch(`/api/communities?${t}`);if(!a.ok)throw Error("Fetch failed");let s=await a.json();e?(m(s.communities||[]),U(12)):(m(e=>[...e,...s.communities||[]]),U(e=>e+12)),D(s.hasMore||!1)}catch(e){console.error("Communities fetch error:",e),C.Am.error("Topluluklar y\xfcklenirken hata oluştu")}finally{G(!1)}},$=async t=>{if(!e){C.Am.error(u.loginRequired),a.push("/giris");return}O(t);try{let e=await fetch(`/api/communities/${t}/join`,{method:"POST"}),a=await e.json();e.ok?(C.Am.success(u.joinSuccess),m(e=>e.map(e=>e.id===t?{...e,isMember:!0,memberCount:e.memberCount+1,myRole:"member"}:e))):C.Am.error(a.error||"Hata oluştu")}catch(e){C.Am.error("Bir hata oluştu")}finally{O(null)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-purple-50 via-white to-orange-50 py-8 px-4",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:s.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-orange-500 bg-clip-text text-transparent",children:u.title})}),s.jsx("p",{className:"text-gray-600",children:u.subtitle})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-3 items-center",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-[200px] relative",children:[s.jsx(h.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",value:Z,onChange:e=>P(e.target.value),placeholder:u.search,className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,s.jsxs)("select",{value:_,onChange:e=>S(e.target.value),className:"px-4 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"",children:u.allCities}),["İzmir","İstanbul","Ankara","Barcelona","Madrid"].map(e=>s.jsx("option",{value:e,children:e},e))]}),(0,s.jsxs)("select",{value:A,onChange:e=>z(e.target.value),className:"px-4 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"",children:u.allTypes}),F.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))]}),e&&s.jsx("button",{onClick:()=>R(!q),className:`px-4 py-2.5 rounded-xl font-medium transition-colors ${q?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:u.myGroups}),(0,s.jsxs)("button",{disabled:!0,className:"flex items-center gap-2 px-4 py-2.5 bg-gray-300 text-gray-500 rounded-xl font-medium cursor-not-allowed opacity-50",title:"Yakında",children:[s.jsx(g.Z,{size:20}),s.jsx("span",{className:"hidden sm:inline",children:u.createGroup})]})]})}),x&&0===p.length?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((e,t)=>(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-4 animate-pulse",children:[s.jsx("div",{className:"h-32 bg-gray-200 rounded-xl mb-4"}),s.jsx("div",{className:"h-5 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},t))}):0===p.length?(0,s.jsxs)("div",{className:"text-center py-16",children:[s.jsx(y.Z,{className:"mx-auto text-gray-300 mb-4",size:64}),s.jsx("p",{className:"text-gray-500 text-lg",children:u.noResults})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.jsx(n.M,{children:p.map((e,t)=>{let a=M[e.type]||y.Z;return(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{delay:.05*t},className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[(0,s.jsxs)("div",{className:"relative h-32 bg-gradient-to-r from-purple-400 to-orange-400",children:[e.coverImage&&s.jsx(d.default,{src:e.coverImage,alt:e.name,fill:!0,className:"object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),(0,s.jsxs)("div",{className:"absolute top-3 left-3 flex gap-2",children:[e.isOfficial&&(0,s.jsxs)("span",{className:"flex items-center gap-1 px-2 py-1 bg-blue-500 text-white text-xs rounded-full",children:[s.jsx(b.Z,{size:12}),u.official]}),e.isPrivate&&(0,s.jsxs)("span",{className:"flex items-center gap-1 px-2 py-1 bg-gray-700 text-white text-xs rounded-full",children:[s.jsx(f.Z,{size:12}),u.private]})]}),s.jsx("div",{className:"absolute top-3 right-3 w-10 h-10 bg-white/90 rounded-full flex items-center justify-center",children:s.jsx(a,{size:20,className:"text-purple-600"})}),(0,s.jsxs)("div",{className:"absolute bottom-3 left-3 flex items-center gap-1 text-white text-sm",children:[s.jsx(j.Z,{size:14}),s.jsx("span",{children:e.district||e.city})]})]}),(0,s.jsxs)("div",{className:"p-4",children:[s.jsx(c.default,{href:`/topluluklar/${e.slug}`,children:s.jsx("h3",{className:"font-bold text-lg mb-1 hover:text-purple-600 transition-colors line-clamp-1",children:e.name})}),e.description&&s.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[s.jsx(y.Z,{size:14}),e.memberCount," ",u.members]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[s.jsx(v.Z,{size:14}),e.swapCount," ",u.swaps]})]}),e.tags?.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:e.tags.slice(0,3).map((e,t)=>(0,s.jsxs)("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded-full",children:["#",e]},t))}),e.isMember?(0,s.jsxs)(c.default,{href:`/topluluklar/${e.slug}`,className:"w-full flex items-center justify-center gap-2 py-2.5 bg-green-100 text-green-700 rounded-xl font-medium hover:bg-green-200 transition-colors",children:[s.jsx(k.Z,{size:18}),u.joined," ","admin"===e.myRole&&"(Admin)"]}):(0,s.jsxs)("button",{onClick:()=>$(e.id),disabled:B===e.id,className:"w-full flex items-center justify-center gap-2 py-2.5 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700 transition-colors disabled:opacity-50",children:[B===e.id?s.jsx("span",{className:"animate-spin",children:"⏳"}):s.jsx(g.Z,{size:18}),u.join]})]})]},e.id)})})}),I&&s.jsx("div",{className:"text-center mt-8",children:s.jsx("button",{onClick:()=>L(),disabled:x,className:"px-6 py-3 bg-white text-purple-600 rounded-xl font-medium shadow-lg hover:shadow-xl transition-shadow disabled:opacity-50",children:x?"⏳":u.loadMore})})]}),(0,s.jsxs)("div",{className:"mt-16 p-8 bg-white/10 backdrop-blur-md rounded-2xl text-center",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-white mb-4",children:["\uD83D\uDCF8 ","tr"===t?"Bizi Instagram'da Takip Edin!":"Follow Us on Instagram!"]}),s.jsx("p",{className:"text-white/80 mb-6",children:"tr"===t?"Topluluk etkinlikleri, takas hikayeleri ve daha fazlası i\xe7in!":"For community events, swap stories and more!"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6",children:[s.jsx("a",{href:"https://instagram.com/takasintercambiobarty",target:"_blank",rel:"noopener noreferrer",className:"relative w-36 h-36 rounded-2xl overflow-hidden shadow-xl hover:scale-105 transition-transform bg-white",children:s.jsx(d.default,{src:"/instagram-qr.png",alt:"Instagram QR Code",fill:!0,className:"object-cover"})}),(0,s.jsxs)("a",{href:"https://instagram.com/takasintercambiobarty",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-pink-500 via-purple-500 to-orange-500 text-white font-semibold rounded-xl hover:scale-105 transition-transform shadow-lg",children:[s.jsx(w.Z,{className:"w-5 h-5"}),"@takasintercambiobarty"]})]})]})]})})}},1320:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(71945).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},99311:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(71945).Z)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},79046:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(71945).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},30808:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(71945).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},66843:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(71945).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},48689:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(88895).createProxy)(String.raw`/home/ubuntu/takas-a-kodlar/nextjs_space/app/topluluklar/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[8412,4674,3921,858],()=>a(69839));module.exports=s})();