(()=>{var e={};e.id=6099,e.ids=[6099],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15777:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c}),s(41266),s(32314),s(9126),s(84131),s(24450);var t=s(36576),r=s(72007),l=s(21818),i=s.n(l),n=s(88897),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(a,d);let c=["",{children:["profil",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,41266)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/profil/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,32314)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,9126)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,84131)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,24450)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/not-found.tsx"]}],o=["/home/ubuntu/takas-a-kodlar/nextjs_space/app/profil/page.tsx"],m="/profil/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/profil/page",pathname:"/profil",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},74877:(e,a,s)=>{Promise.resolve().then(s.bind(s,44234))},44234:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>eG});var t=s(62901),r=s(24383),l=s(84700),i=s(84374),n=s(95472),d=s(13943),c=s(80412),o=s(75115),m=s(62392),x=s(10333),u=s(83545),h=s(62451),g=s(31198),p=s(79046),b=s(71893),y=s(71945);let f=(0,y.Z)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);var j=s(23094),v=s(21680),N=s(42594),w=s(77185),k=s(32614),D=s(44928);let z=(0,y.Z)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var C=s(49789),S=s(97762),E=s(91464),Z=s(34400),P=s(94437),A=s(43896),T=s(66843),M=s(97718),B=s(75909);let $=(0,y.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),F=(0,y.Z)("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);var V=s(85453),I=s(26482);let R=(0,y.Z)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),G=(0,y.Z)("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);var K=s(60004),O=s(87552),H=s(82063),L=s(21391);let U=(0,y.Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);var _=s(91046);let q=(0,y.Z)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),Y=(0,y.Z)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);var J=s(91334);let W=(0,y.Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var X=s(34216),Q=s(49356),ee=s(27878),ea=s(250),es=s(52),et=s(1940),er=s(56163),el=s(89291),ei=s(98106),en=s(45666),ed=s(49209),ec=s(74132),eo="Switch",[em,ex]=(0,el.b)(eo),[eu,eh]=em(eo),eg=r.forwardRef((e,a)=>{let{__scopeSwitch:s,name:l,checked:i,defaultChecked:n,required:d,disabled:c,value:o="on",onCheckedChange:m,...x}=e,[u,h]=r.useState(null),g=(0,er.e)(a,e=>h(e)),p=r.useRef(!1),b=!u||!!u.closest("form"),[y=!1,f]=(0,ei.T)({prop:i,defaultProp:n,onChange:m});return(0,t.jsxs)(eu,{scope:s,checked:y,disabled:c,children:[(0,t.jsx)(ec.WV.button,{type:"button",role:"switch","aria-checked":y,"aria-required":d,"data-state":ef(y),"data-disabled":c?"":void 0,disabled:c,value:o,...x,ref:g,onClick:(0,et.M)(e.onClick,e=>{f(e=>!e),b&&(p.current=e.isPropagationStopped(),p.current||e.stopPropagation())})}),b&&(0,t.jsx)(ey,{control:u,bubbles:!p.current,name:l,value:o,checked:y,required:d,disabled:c,style:{transform:"translateX(-100%)"}})]})});eg.displayName=eo;var ep="SwitchThumb",eb=r.forwardRef((e,a)=>{let{__scopeSwitch:s,...r}=e,l=eh(ep,s);return(0,t.jsx)(ec.WV.span,{"data-state":ef(l.checked),"data-disabled":l.disabled?"":void 0,...r,ref:a})});eb.displayName=ep;var ey=e=>{let{control:a,checked:s,bubbles:l=!0,...i}=e,n=r.useRef(null),d=(0,en.D)(s),c=(0,ed.t)(a);return r.useEffect(()=>{let e=n.current,a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==s&&a){let t=new Event("click",{bubbles:l});a.call(e,s),e.dispatchEvent(t)}},[d,s,l]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:n,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ef(e){return e?"checked":"unchecked"}var ej=s(68637);let ev=r.forwardRef(({className:e,...a},s)=>t.jsx(eg,{className:(0,ej.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...a,ref:s,children:t.jsx(eb,{className:(0,ej.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ev.displayName=eg.displayName;var eN=s(76008),ew=s(88168),ek=s(54936),eD=s(40140),ez=s(97107),eC=s(42233);let eS=(0,y.Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),eE=()=>t.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),eZ=()=>t.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),eP=()=>t.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"})}),eA=()=>t.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})});function eT({shareType:e,contentId:a,title:s="TAKAS-A - \xdccretsiz Takas Platformu",description:i="Para \xf6demeden eÅŸyalarÄ±nÄ± takas et!",url:n,compact:o=!1}){let{data:m}=(0,l.useSession)(),[x,u]=(0,r.useState)(!1),[h,p]=(0,r.useState)(null),[y,f]=(0,r.useState)(!1),[v,w]=(0,r.useState)(null),k=n||"https://takas-a.com",D=async()=>{if(m?.user)try{let e=await fetch("/api/social-share");if(e.ok){let a=await e.json();p(a)}}catch(e){console.error("Stats fetch error:",e)}},z=async s=>{if(m?.user){f(!0);try{let t=await fetch("/api/social-share",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({platform:s,shareType:e,contentId:a,shareUrl:k})});if(t.ok){let e=await t.json();e.valorAwarded>0&&(w({valor:e.valorAwarded,message:e.message}),setTimeout(()=>w(null),5e3)),D()}}catch(e){console.error("Share record error:",e)}finally{f(!1)}}},C=e=>{let a=encodeURIComponent(k),t=encodeURIComponent(s);switch(encodeURIComponent(i),e){case"twitter":return`https://twitter.com/intent/tweet?url=${a}&text=${t}`;case"facebook":return`https://www.facebook.com/sharer/sharer.php?u=${a}`;case"instagram":return"https://www.instagram.com/";case"whatsapp":return`https://wa.me/?text=${t}%20${a}`;default:return k}},S=async e=>{let a=C(e);"instagram"!==e?window.open(a,"_blank","width=600,height=400"):(await navigator.clipboard.writeText(k),alert("Link kopyalandÄ±! Instagram'da story veya post olarak paylaÅŸabilirsiniz.")),await z(e)};return o?(0,t.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium hover:shadow-lg transition-all",children:[t.jsx(ez.Z,{className:"w-4 h-4"}),"PaylaÅŸ & Kazan"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 text-white font-semibold hover:shadow-lg transition-all hover:scale-105",children:[t.jsx(ez.Z,{className:"w-5 h-5"}),t.jsx("span",{children:"PaylaÅŸ & Valor Kazan"}),t.jsx(eC.Z,{className:"w-4 h-4"})]}),t.jsx(d.M,{children:x&&t.jsx(c.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/60 flex items-center justify-center p-4",onClick:()=>u(!1),children:(0,t.jsxs)(c.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white rounded-2xl w-full max-w-md overflow-hidden shadow-2xl",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-orange-500 p-6 text-white",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-xl font-bold mb-1",children:"PaylaÅŸ & Kazan! \uD83C\uDF89"}),t.jsx("p",{className:"text-white/80 text-sm",children:h?.userLevel===0?"Ä°lk takasÄ±nÄ± tamamla, paylaÅŸÄ±m bonusu a\xe7Ä±lsÄ±n! \uD83D\uDD13":`Her ${h?.sharesForReward||5} paylaÅŸÄ±mda +${h?.valorReward||1} Valor kazan`})]}),t.jsx("button",{onClick:()=>u(!1),className:"p-1 rounded-full hover:bg-white/20 transition-colors",children:t.jsx(N.Z,{className:"w-5 h-5"})})]}),m?.user&&h&&(0,t.jsxs)("div",{className:"mt-4 grid grid-cols-4 gap-2",children:[(0,t.jsxs)("div",{className:"bg-white/20 rounded-xl p-3 text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:h.totalShares}),t.jsx("div",{className:"text-xs text-white/80",children:"PaylaÅŸÄ±m"})]}),(0,t.jsxs)("div",{className:"bg-white/20 rounded-xl p-3 text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:h.totalValorEarned}),t.jsx("div",{className:"text-xs text-white/80",children:"KazanÄ±lan"})]}),(0,t.jsxs)("div",{className:"bg-white/20 rounded-xl p-3 text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:0===h.userLevel?"\uD83D\uDD12":0===h.sharesUntilReward?"âœ”":h.sharesUntilReward}),t.jsx("div",{className:"text-xs text-white/80",children:"\xd6d\xfcle Kalan"})]}),(0,t.jsxs)("div",{className:"bg-white/20 rounded-xl p-3 text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:["\uD83C\uDF31","â­","\uD83D\uDD25","\uD83C\uDFC6","\uD83D\uDC8E","\uD83D\uDC51"][h.userLevel]||"\uD83C\uDF31"}),(0,t.jsxs)("div",{className:"text-xs text-white/80",children:["Seviye ",h.userLevel]})]})]})]}),t.jsx(d.M,{children:v&&t.jsx(c.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-green-100 border-b border-green-200",children:(0,t.jsxs)("div",{className:"p-4 flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500 flex items-center justify-center",children:t.jsx(j.Z,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-semibold text-green-800",children:["+",v.valor," Valor KazandÄ±n!"]}),t.jsx("p",{className:"text-sm text-green-600",children:v.message})]})]})})}),(0,t.jsxs)("div",{className:"p-6",children:[h?.userLevel===0&&(0,t.jsxs)("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-xl flex items-center gap-3",children:[t.jsx("span",{className:"text-2xl",children:"\uD83D\uDD12"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-bold text-amber-800",children:"PaylaÅŸÄ±m Bonusu Kilitli"}),t.jsx("p",{className:"text-xs text-amber-600",children:"Ä°lk takasÄ±nÄ± tamamla, Seviye 1'e \xe7Ä±k ve paylaÅŸarak kazan!"})]})]}),t.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"AÅŸaÄŸÄ±daki platformlardan birinde paylaÅŸÄ±n:"}),t.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{id:"twitter",name:"X (Twitter)",icon:eE,color:"bg-black hover:bg-gray-800"},{id:"facebook",name:"Facebook",icon:eZ,color:"bg-[#1877F2] hover:bg-[#166FE5]"},{id:"instagram",name:"Instagram",icon:eP,color:"bg-gradient-to-tr from-[#F58529] via-[#DD2A7B] to-[#8134AF] hover:opacity-90"},{id:"whatsapp",name:"WhatsApp",icon:eA,color:"bg-[#25D366] hover:bg-[#20BD5A]"}].map(e=>(0,t.jsxs)("button",{onClick:()=>S(e.id),disabled:y,className:`${e.color} text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all disabled:opacity-50`,children:[t.jsx(e.icon,{}),t.jsx("span",{className:"font-medium",children:e.name}),t.jsx(eS,{className:"w-3 h-3 opacity-60"})]},e.id))}),m?.user&&h&&h.userLevel>0&&(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[t.jsx("span",{children:"Bir sonraki \xf6d\xfcle ilerleme"}),(0,t.jsxs)("span",{children:[(h.sharesForReward||5)-(h.sharesUntilReward||0),"/",h.sharesForReward||5," paylaÅŸÄ±m"]})]}),t.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:t.jsx(c.E.div,{initial:{width:0},animate:{width:`${((h.sharesForReward||5)-(h.sharesUntilReward||0))/(h.sharesForReward||5)*100}%`},className:"h-full bg-gradient-to-r from-purple-500 to-pink-500"})})]}),!m?.user&&t.jsx("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(b.Z,{className:"w-8 h-8 text-amber-500"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-semibold text-amber-800",children:"GiriÅŸ yapÄ±n!"}),t.jsx("p",{className:"text-sm text-amber-700",children:"PaylaÅŸÄ±mlarÄ±nÄ±zdan Valor kazanmak i\xe7in giriÅŸ yapÄ±n."})]})]})}),t.jsx("div",{className:"mt-6 p-4 bg-purple-50 rounded-xl",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx(g.Z,{className:"w-6 h-6 text-purple-500 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm text-purple-700",children:[t.jsx("p",{className:"font-semibold mb-1",children:"NasÄ±l \xc7alÄ±ÅŸÄ±r?"}),t.jsx("ul",{className:"space-y-1 text-purple-600",children:h?.userLevel===0?(0,t.jsxs)(t.Fragment,{children:[t.jsx("li",{children:"â€¢ Ä°lk takasÄ±nÄ± tamamla â†’ paylaÅŸÄ±m bonusu a\xe7Ä±lÄ±r!"}),t.jsx("li",{children:"â€¢ Seviyen arttÄ±k\xe7a bonus da artar"}),t.jsx("li",{children:"â€¢ PaylaÅŸÄ±mlarÄ±n sayÄ±lÄ±r, bonus geldiÄŸinde ge\xe7erli olur"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("li",{children:["â€¢ Seviye ",h?.userLevel,": Her ",h?.sharesForReward," paylaÅŸÄ±mda +",h?.valorReward," Valor"]}),(0,t.jsxs)("li",{children:["â€¢ G\xfcnde maksimum ",h?.maxDailyValor," Valor kazanabilirsin"]}),t.jsx("li",{children:"â€¢ Seviyen arttÄ±k\xe7a bonus artar! Takas yap, seviye atla!"}),t.jsx("li",{children:"â€¢ T\xfcm platformlar ge\xe7erli"})]})})]})]})})]})]})})})]})}var eM=s(20694);s(89404),(0,n.default)(async()=>{},{loadableGenerated:{modules:["app/profil/page.tsx -> @/components/swap-management"]},loading:()=>t.jsx("div",{className:"flex items-center justify-center p-8",children:t.jsx(x.Z,{className:"w-6 h-6 animate-spin text-emerald-500"})}),ssr:!1});let eB=(0,n.default)(async()=>{},{loadableGenerated:{modules:["app/profil/page.tsx -> @/components/badge-display"]},loading:()=>t.jsx("div",{className:"animate-pulse bg-gray-200 rounded-lg h-32"}),ssr:!1}),e$=(0,n.default)(async()=>{},{loadableGenerated:{modules:["app/profil/page.tsx -> @/components/user-rating"]},ssr:!1}),eF=(0,n.default)(async()=>{},{loadableGenerated:{modules:["app/profil/page.tsx -> @/components/user-rating"]},ssr:!1}),eV=(0,n.default)(async()=>{},{loadableGenerated:{modules:["app/profil/page.tsx -> @/components/user-rating"]},ssr:!1}),eI=(0,n.default)(async()=>{},{loadableGenerated:{modules:["app/profil/page.tsx -> @/components/review-modal"]},ssr:!1}),eR=[{id:"interests",question:"Hangi kategorilerle ilgileniyorsunuz?",type:"multiple",options:["Elektronik","Giyim","Kitap","Spor","Ev & YaÅŸam","Oyuncak","Bebek \xdcr\xfcnleri","Koleksiyon","M\xfczik Aletleri","Bah\xe7e"]},{id:"frequency",question:"Ne sÄ±klÄ±kla takas yapmayÄ± planlÄ±yorsunuz?",type:"single",options:["Haftada birka\xe7 kez","Haftada bir","Ayda birka\xe7 kez","Ayda bir","Nadiren"]},{id:"preference",question:"Takas i\xe7in en \xe7ok hangi t\xfcr \xfcr\xfcnleri tercih edersiniz?",type:"single",options:["Yeni veya az kullanÄ±lmÄ±ÅŸ \xfcr\xfcnler","Ä°yi durumda ikinci el","FiyatÄ± uygun olan herhangi biri","Nadir/koleksiyon \xfcr\xfcnleri"]},{id:"distance",question:"Takas i\xe7in ne kadar mesafe gitmeyi kabul edersiniz?",type:"single",options:["Sadece mahallemde","Ä°l\xe7em i\xe7inde","Åžehir genelinde","FarklÄ± ÅŸehirlere bile giderim"]},{id:"motivation",question:"TAKAS-A'yÄ± kullanma motivasyonunuz nedir?",type:"multiple",options:["Tasarruf etmek","S\xfcrd\xfcr\xfclebilir yaÅŸam","KullanmadÄ±ÄŸÄ±m eÅŸyalarÄ± deÄŸerlendirmek","Yeni insanlarla tanÄ±ÅŸmak","Nadir \xfcr\xfcnler bulmak"]},{id:"communication",question:"NasÄ±l iletiÅŸim kurmayÄ± tercih edersiniz?",type:"single",options:["Uygulama i\xe7i mesajlaÅŸma","Telefon","Video g\xf6r\xfcÅŸme","Y\xfcz y\xfcze g\xf6r\xfcÅŸme"]},{id:"improvement",question:"TAKAS-A'da en \xe7ok g\xf6rmek istediÄŸiniz \xf6zellik?",type:"single",options:["Daha fazla \xfcr\xfcn \xe7eÅŸitliliÄŸi","Daha fazla teslim noktasÄ±","Mobil uygulama","Topluluk etkinlikleri","Puan/\xf6d\xfcl sistemi"]}];function eG(){let{data:e,status:a}=(0,l.useSession)(),s=(0,i.useRouter)(),n=(0,i.useSearchParams)(),{language:y}=(0,ek.Z)(),et=n?.get("tab")||"products",[er,el]=(0,r.useState)(et),[ei,en]=(0,r.useState)(null),[ed,ec]=(0,r.useState)([]),[eo,em]=(0,r.useState)(!0),[ex,eu]=(0,r.useState)(null),[eh,eg]=(0,r.useState)(!1),[ep,eb]=(0,r.useState)({name:"",nickname:"",bio:"",phone:"",location:""}),[ey,ef]=(0,r.useState)(!1),[ej,eN]=(0,r.useState)(!1),[ez,eC]=(0,r.useState)(null),[eS,eE]=(0,r.useState)(null),[eZ,eP]=(0,r.useState)(null),[eA,eI]=(0,r.useState)("idle"),[eG,eH]=(0,r.useState)(""),[eL,eU]=(0,r.useState)(""),[e_,eq]=(0,r.useState)(""),[eY,eJ]=(0,r.useState)(""),[eW,eX]=(0,r.useState)(""),[eQ,e0]=(0,r.useState)("idle"),{supported:e1,subscribed:e2,loading:e4,subscribe:e5,unsubscribe:e3}=(0,ew.O)(),[e8,e6]=(0,r.useState)(!1),[e7,e9]=(0,r.useState)(null),[ae,aa]=(0,r.useState)("idle"),[as,at]=(0,r.useState)(!1),[ar,al]=(0,r.useState)(!0),[ai,an]=(0,r.useState)(null),[ad,ac]=(0,r.useState)(!1),[ao,am]=(0,r.useState)(""),[ax,au]=(0,r.useState)("");(0,r.useRef)(null),(0,r.useRef)(null);let ah=(0,r.useRef)(null),[ag,ap]=(0,r.useState)(null),[ab,ay]=(0,r.useState)("all"),[af,aj]=(0,r.useState)("newest"),[av,aN]=(0,r.useState)(""),[aw,ak]=(0,r.useState)(!1),[aD,az]=(0,r.useState)(0),[aC,aS]=(0,r.useState)({}),[aE,aZ]=(0,r.useState)(!1),[aP,aA]=(0,r.useState)([]),[aT,aM]=(0,r.useState)(null),[aB,a$]=(0,r.useState)([]),[aF,aV]=(0,r.useState)(""),[aI,aR]=(0,r.useState)(!1),[aG,aK]=(0,r.useState)(null),[aO,aH]=(0,r.useState)(!1),[aL,aU]=(0,r.useState)({totalMessages:0,readMessages:0,unreadMessages:0}),a_=(0,r.useRef)(null);(0,r.useRef)(0);let[aq,aY]=(0,r.useState)("direct"),[aJ,aW]=(0,r.useState)([]),[aX,aQ]=(0,r.useState)(null),[a0,a1]=(0,r.useState)([]),[a2,a4]=(0,r.useState)(!1),[a5,a3]=(0,r.useState)(""),[a8,a6]=(0,r.useState)(""),[a7,a9]=(0,r.useState)([]),[se,sa]=(0,r.useState)([]),[ss,st]=(0,r.useState)(!1),[sr,sl]=(0,r.useState)(!1),[si,sn]=(0,r.useState)(""),[sd,sc]=(0,r.useState)(!1),[so,sm]=(0,r.useState)(!1),sx=(0,r.useRef)(null),[su,sh]=(0,r.useState)(!1),[sg,sp]=(0,r.useState)(!1),[sb,sy]=(0,r.useState)(null),[sf,sj]=(0,r.useState)(null),[sv,sN]=(0,r.useState)(!1),[sw,sk]=(0,r.useState)(!1),sD=(0,r.useRef)(null),sz=(0,r.useRef)(null),sC=(0,r.useRef)(null),sS=(0,r.useRef)(null),[sE,sZ]=(0,r.useState)(null),[sP,sA]=(0,r.useState)(null),sT={yÃ¼zler:["\uD83D\uDE00","\uD83D\uDE0A","\uD83D\uDE04","\uD83D\uDE01","\uD83D\uDE06","\uD83E\uDD70","\uD83D\uDE0D","\uD83E\uDD29","\uD83D\uDE18","\uD83D\uDE17","\uD83D\uDE1A","\uD83D\uDE0B","\uD83D\uDE1C","\uD83E\uDD2A","\uD83D\uDE1D","\uD83E\uDD17","\uD83E\uDD2D","\uD83E\uDD2B","\uD83E\uDD14","\uD83D\uDE0F"],eller:["\uD83D\uDC4D","\uD83D\uDC4E","\uD83D\uDC4F","\uD83D\uDE4C","\uD83E\uDD1D","\uD83E\uDD32","âœŒï¸","\uD83E\uDD1E","\uD83E\uDD1F","\uD83E\uDD18","\uD83D\uDC4C","\uD83E\uDD0C","\uD83D\uDC4B","\uD83D\uDD90ï¸","âœ‹","\uD83D\uDC4A"],kalpler:["â¤ï¸","\uD83E\uDDE1","\uD83D\uDC9B","\uD83D\uDC9A","\uD83D\uDC99","\uD83D\uDC9C","\uD83D\uDDA4","\uD83E\uDD0D","\uD83D\uDC95","\uD83D\uDC9E","\uD83D\uDC93","\uD83D\uDC97","\uD83D\uDC96","\uD83D\uDC98","\uD83D\uDC9D","\uD83D\uDC9F"],nesneler:["\uD83D\uDCE6","\uD83C\uDF81","\uD83C\uDFF7ï¸","\uD83D\uDCB0","\uD83D\uDCB5","\uD83D\uDED2","\uD83D\uDECDï¸","\uD83D\uDCF1","\uD83D\uDCBB","âŒš","\uD83D\uDCF7","\uD83C\uDFAE","\uD83D\uDE97","\uD83C\uDFE0","\uD83D\uDD11","âœ¨"],semboller:["âœ…","âŒ","âš ï¸","â“","â—","\uD83D\uDCAF","\uD83C\uDD97","\uD83C\uDD95","\uD83C\uDD93","\uD83D\uDCCD","\uD83D\uDD14","\uD83D\uDCAC","\uD83D\uDCDD","\uD83D\uDCCC","\uD83D\uDD17","â°"]},[sM,sB]=(0,r.useState)(null),[s$,sF]=(0,r.useState)(null),[sV,sI]=(0,r.useState)(null),[sR,sG]=(0,r.useState)(null),[sK,sO]=(0,r.useState)(null),[sH,sL]=(0,r.useState)([]),[sU,s_]=(0,r.useState)(!1),[sq,sY]=(0,r.useState)(null),sJ=(0,r.useRef)(null),[sW,sX]=(0,r.useState)(!1),[sQ,s0]=(0,r.useState)(!1),[s1,s2]=(0,r.useState)(null),s4=(0,r.useRef)(null),s5=(0,r.useRef)(null),[s3,s8]=(0,r.useState)(!1),[s6,s7]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[s9,te]=(0,r.useState)(!1),[ta,ts]=(0,r.useState)(!1),[tt,tr]=(0,r.useState)(!1),[tl,ti]=(0,r.useState)(""),[tn,td]=(0,r.useState)(""),[tc,to]=(0,r.useState)(!1),[tm,tx]=(0,r.useState)(null),[tu,th]=(0,r.useState)(!1),tg=async()=>{th(!0);try{let e=await fetch("/api/profile/valor-history");e.ok&&tx(await e.json())}catch{}th(!1)};(0,r.useRef)(!1);let tp=e=>{aV(a=>a+e)},tb=e=>{sn(a=>a+e)},ty=async e=>{let a=e.target.files?.[0];if(!a)return;if(a.size>5242880){eC({message:"Dosya boyutu 5MB'dan k\xfc\xe7\xfck olmalÄ±dÄ±r",type:"error"});return}if(!a.type.startsWith("image/")){eC({message:"Sadece resim dosyalarÄ± y\xfcklenebilir",type:"error"});return}sN(!0);let s=new FileReader;s.onload=()=>{sy(s.result),sN(!1)},s.readAsDataURL(a)},tf=async e=>{let a=e.target.files?.[0];if(!a)return;if(a.size>5242880){eC({message:"Dosya boyutu 5MB'dan k\xfc\xe7\xfck olmalÄ±dÄ±r",type:"error"});return}if(!a.type.startsWith("image/")){eC({message:"Sadece resim dosyalarÄ± y\xfcklenebilir",type:"error"});return}sk(!0);let s=new FileReader;s.onload=()=>{sj(s.result),sk(!1)},s.readAsDataURL(a)},tj=async()=>{console.log("[ProfileCamera] Kamera a\xe7Ä±lÄ±yor..."),sX(!1),s0(!0);try{let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:640},height:{ideal:640}},audio:!1});console.log("[ProfileCamera] Kamera stream alÄ±ndÄ±"),s2(e),setTimeout(()=>{s4.current&&(s4.current.srcObject=e,s4.current.play().catch(console.error),console.log("[ProfileCamera] Video baÅŸlatÄ±ldÄ±"))},100)}catch(e){console.error("[ProfileCamera] Kamera hatasÄ±:",e),eC({message:"Kamera a\xe7Ä±lamadÄ±. Ä°zin verildiÄŸinden emin olun.",type:"error"}),s0(!1)}},tv=()=>{console.log("[ProfileCamera] Kamera kapatÄ±lÄ±yor..."),s1&&(s1.getTracks().forEach(e=>e.stop()),s2(null)),s0(!1),sY(null)},tN=async()=>{if(sq){s_(!0);try{let e=await fetch("/api/profile/photo",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({base64Image:sq,fileName:`profile-camera-${Date.now()}.jpg`,contentType:"image/jpeg"})});if(!e.ok){let a=await e.json().catch(()=>({}));throw Error(a.error||"FotoÄŸraf y\xfcklenemedi")}let{imageUrl:a}=await e.json();en(e=>e?{...e,image:a}:null),eC({message:"Profil fotoÄŸrafÄ± g\xfcncellendi!",type:"success"}),tv()}catch(e){eC({message:e.message||"FotoÄŸraf y\xfcklenemedi",type:"error"})}finally{s_(!1)}}},tw=async e=>{let a=e.target.files?.[0];if(a){if(a.size>5242880){eC({message:"FotoÄŸraf 5MB'dan k\xfc\xe7\xfck olmalÄ±",type:"error"});return}if(!a.type.startsWith("image/")){eC({message:"Sadece resim dosyalarÄ± y\xfcklenebilir",type:"error"});return}s_(!0),sX(!1);try{let e=new FileReader,s=await new Promise((s,t)=>{e.onload=()=>s(e.result),e.onerror=()=>t(Error("Dosya okunamadÄ±")),e.readAsDataURL(a)}),t=await fetch("/api/profile/photo",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({base64Image:s,fileName:a.name,contentType:a.type})});if(!t.ok){let e=await t.json().catch(()=>({}));throw Error(e.error||"FotoÄŸraf y\xfcklenemedi")}let{imageUrl:r}=await t.json();en(e=>e?{...e,image:r}:null),sY(null),eC({message:"Profil fotoÄŸrafÄ± g\xfcncellendi!",type:"success"})}catch(e){eC({message:e.message||"FotoÄŸraf y\xfcklenemedi",type:"error"})}finally{s_(!1),sJ.current&&(sJ.current.value="")}}},tk=async e=>{if(e.preventDefault(),ti(""),td(""),!s6.currentPassword||!s6.newPassword||!s6.confirmPassword){ti("T\xfcm alanlarÄ± doldurun");return}if(s6.newPassword!==s6.confirmPassword){ti("Yeni ÅŸifreler eÅŸleÅŸmiyor");return}if(s6.newPassword.length<8){ti("Åžifre en az 8 karakter olmalÄ±dÄ±r");return}try{tr(!0);let e=await fetch("/api/profile/password",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s6)}),a=await e.json();if(!e.ok){ti(a.error||"Åžifre deÄŸiÅŸtirilemedi");return}td("Åžifreniz baÅŸarÄ±yla g\xfcncellendi"),s7({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{s8(!1),td("")},2e3)}catch(e){ti("Bir hata oluÅŸtu")}finally{tr(!1)}},tD=async()=>{if((0,eD.s9)()){eC({message:"Ä°nternet baÄŸlantÄ±nÄ±z yok",type:"error"}),em(!1);return}try{let{data:e,ok:a,error:s}=await (0,eD.DV)("/api/profile",{timeout:15e3});a&&e?(en(e),eb({name:e.name||"",nickname:e.nickname||"",bio:e.bio||"",phone:e.phone||"",location:e.location||""}),e.surveyData&&aS(e.surveyData),e.nickname||sessionStorage.getItem("nicknamePromptDismissed")||ef(!0)):s&&console.error("Profil y\xfcklenemedi:",s);let t=await (0,eD.DV)("/api/valor/status",{timeout:1e4});t.ok&&t.data&&(an(t.data),t.data.productValueStatus?.hasQualifiedProduct||sessionStorage.getItem("productValueWarningDismissed")||ac(!0))}catch(e){console.error("Profil y\xfcklenemedi:",e)}finally{em(!1)}},tz=async()=>{try{let e=await fetch("/api/products?mine=true&all=true");if(e.ok){let a=await e.json();ec(a.products||[])}}catch(e){console.error("\xdcr\xfcnler y\xfcklenemedi:",e)}},tC=async()=>{try{let e=await fetch("/api/products/boost");if(e.ok){let a=await e.json();sA(a)}}catch(e){console.error("Boost info y\xfcklenemedi:",e)}},tS=async e=>{if(sP){sZ(e);try{let a=await fetch("/api/products/boost",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e})}),s=await a.json();a.ok?(eC({message:s.message,type:"success"}),tz(),tD(),tC()):eC({message:s.error,type:"error"})}catch(e){eC({message:"Bir hata oluÅŸtu",type:"error"})}sZ(null)}},tE=async(e,a)=>{eE(e),eP(null);try{let s="active"===a?"unpublish":"publish",t=await fetch(`/api/products/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:s})}),r=await t.json();t.ok?(ec(a=>a.map(a=>a.id===e?{...a,status:"publish"===s?"active":"inactive"}:a)),eC({message:r.message,type:"success"})):eC({message:r.error||"Bir hata oluÅŸtu",type:"error"})}catch(e){console.error("Product status update error:",e),eC({message:"Bir hata oluÅŸtu",type:"error"})}finally{eE(null),setTimeout(()=>eC(null),3e3)}},tZ=async()=>{try{let e=await fetch("/api/valor?action=bonus_status");if(e.ok){let a=await e.json();sB(a)}let a=await fetch("/api/valor?action=user_level");if(a.ok){let e=await a.json();sO(e)}}catch(e){console.error("Bonus durumu y\xfcklenemedi:",e)}},tP=async()=>{try{let e=await fetch("/api/valor?action=achievements");if(e.ok){let a=await e.json();sF(a)}}catch(e){console.error("BaÅŸarÄ±lar y\xfcklenemedi:",e)}},tA=async()=>{sI("daily"),sG(null);try{let e=await fetch("/api/valor",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"claim_daily_bonus"})}),a=await e.json();e.ok?(sG({type:"success",text:`ðŸŽ‰ +${a.bonus} Valor! ${a.nextLevelInfo||""}`}),tZ(),tD()):sG({type:"error",text:a.error})}catch(e){sG({type:"error",text:"Bir hata oluÅŸtu"})}finally{sI(null)}},tT=async e=>{sI(e),sG(null);try{let a=await fetch("/api/valor",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"claim_achievement",achievementId:e})}),s=await a.json();a.ok?(sG({type:"success",text:`ðŸ† ${s.message} +${s.bonus} Valor!`}),tP(),tD()):sG({type:"error",text:s.error})}catch(e){sG({type:"error",text:"Bir hata oluÅŸtu"})}finally{sI(null)}},tM=async e=>{sc(!0);try{let a=await fetch(`/api/messages/groups/${e}`);if(a.ok){let e=await a.json();a1(e.messages||[]),aQ(a=>({...a,members:e.group?.members||a?.members})),setTimeout(()=>{sx.current?.scrollIntoView({behavior:"smooth"})},100)}}catch(e){console.error("Grup mesajlarÄ± y\xfcklenemedi:",e)}finally{sc(!1)}},tB=async()=>{if((si.trim()||sf)&&aX&&!so){sm(!0);try{let e=si.trim();sf&&(e=`[IMAGE]${sf}[/IMAGE]${e?"\n"+e:""}`);let a=await fetch(`/api/messages/groups/${aX.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e})});if(a.ok){let e=await a.json();a1(a=>[...a,e]),sn(""),sj(null),sS.current&&(sS.current.value=""),setTimeout(()=>{sx.current?.scrollIntoView({behavior:"smooth"})},100)}}catch(e){console.error("Grup mesajÄ± g\xf6nderilemedi:",e)}finally{sm(!1)}}},t$=e=>{aQ(e),tM(e.id)},tF=async(e,a)=>{aH(!0);try{let s=a?`/api/messages?userId=${e}&productId=${a}`:`/api/messages?userId=${e}&productId=general`,t=await fetch(s);if(t.ok){let e=await t.json();a$(e),setTimeout(()=>{a_.current?.scrollIntoView({behavior:"smooth"})},100)}}catch(e){console.error("Mesajlar y\xfcklenemedi:",e)}finally{aH(!1)}},tV=async()=>{if((aF.trim()||sb)&&aT&&!aI){aR(!0),aK(null);try{let e=aF.trim();sb&&(e=`[IMAGE]${sb}[/IMAGE]${e?"\n"+e:""}`);let a=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({receiverId:aT.otherUser.id,content:e,productId:aT.product?.id})}),s=await a.json();if(!a.ok){if(s.blocked||s.suspended){aK(s.error);return}throw Error(s.error)}s.warning&&aK(s.warning),a$(e=>[...e,s]),aV(""),sy(null),sC.current&&(sC.current.value=""),setTimeout(()=>{a_.current?.scrollIntoView({behavior:"smooth"})},100)}catch(e){console.error("Mesaj g\xf6nderilemedi:",e),aK("Mesaj g\xf6nderilirken bir hata oluÅŸtu.")}finally{aR(!1)}}},tI=e=>{aM(e),aK(null),tF(e.otherUser.id,e.product?.id||null)},tR=async()=>{eN(!0);try{let e=await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ep)});if(e.ok){let a=await e.json();en(e=>e?{...e,...a}:e),eg(!1)}}catch(e){console.error("Profil g\xfcncellenemedi:",e)}finally{eN(!1)}},tG=(e,a,s)=>{aS(t=>{if(!s)return{...t,[e]:a};{let s=t[e]||[];return s.includes(a)?{...t,[e]:s.filter(e=>e!==a)}:{...t,[e]:[...s,a]}}})},tK=async()=>{aZ(!0);try{let e=await fetch("/api/profile/survey",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({surveyData:aC})});if(e.ok){let a=await e.json();en(e=>e?{...e,surveyCompleted:!0,surveyData:aC,valorBalance:e.valorBalance+(a.bonus||0)}:e),a.bonus>0&&alert(a.message||`ðŸŽ‰ ${a.bonus} Valor anket bonusu kazandÄ±nÄ±z!`),el("products")}}catch(e){console.error("Anket g\xf6nderilemedi:",e)}finally{aZ(!1)}},tO=ed.filter(e=>"active"===ab?"active"===e.status:"inactive"===ab?"inactive"===e.status:"pending"!==ab||"pending"===e.status).filter(e=>!av||e.title.toLowerCase().includes(av.toLowerCase())).sort((e,a)=>{switch(af){case"oldest":return new Date(e.createdAt).getTime()-new Date(a.createdAt).getTime();case"valor-high":return a.valorPrice-e.valorPrice;case"valor-low":return e.valorPrice-a.valorPrice;case"views":return a.views-e.views;default:return new Date(a.createdAt).getTime()-new Date(e.createdAt).getTime()}});if(sH.filter(e=>!e.read).length,"loading"===a||eo)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-frozen-500"})});if(!ei)return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center gap-4",children:[t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Profil y\xfcklenemedi"}),t.jsx(ee.z,{onClick:()=>{em(!0),e?.user?.email?tD():s.push("/giris")},className:"bg-purple-600 hover:bg-purple-700",children:"Tekrar Dene"})]});aL.unreadMessages;let tH=[{id:"products",label:"\xdcr\xfcnlerim",icon:u.Z},{id:"favorites",label:"Favorilerim",icon:h.Z},{id:"badges",label:"Rozetlerim",icon:g.Z},{id:"reviews",label:"DeÄŸerlendirmeler",icon:p.Z},{id:"valor",label:"Valor",icon:b.Z},{id:"survey",label:"Anket",icon:f,showBadge:!ei.surveyCompleted}];return(0,t.jsxs)("main",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white pt-24 pb-12",children:[t.jsx(d.M,{children:ez&&(0,t.jsxs)(c.E.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:`fixed top-20 left-1/2 -translate-x-1/2 z-50 px-6 py-3 rounded-xl shadow-lg flex items-center gap-3 ${"success"===ez.type?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:["success"===ez.type?t.jsx(j.Z,{className:"w-5 h-5"}):t.jsx(v.Z,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:ez.message}),t.jsx("button",{onClick:()=>eC(null),className:"ml-2 p-1 hover:bg-white/20 rounded-full transition-colors",children:t.jsx(N.Z,{className:"w-4 h-4"})})]})}),(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6",children:[ey&&t.jsx(c.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-4 p-4 bg-gradient-to-r from-frozen-50 to-blue-50 rounded-2xl border border-frozen-200 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-frozen-100 flex items-center justify-center flex-shrink-0",children:t.jsx(w.Z,{className:"w-5 h-5 text-frozen-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"\uD83C\uDFAD Takma Ad Kullanmak Ä°ster misiniz?"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:['GizliliÄŸinizi korumak i\xe7in platformda ger\xe7ek adÄ±nÄ±z yerine bir takma ad g\xf6sterebilirsiniz. Åžu anda adÄ±nÄ±z "',ei?.name,'" olarak g\xf6r\xfcn\xfcyor.']}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[t.jsx(ee.z,{size:"sm",onClick:()=>{eg(!0),ef(!1),sessionStorage.setItem("nicknamePromptDismissed","true")},className:"bg-frozen-500 hover:bg-frozen-600",children:"Takma Ad Ekle"}),t.jsx(ee.z,{variant:"outline",size:"sm",onClick:()=>{ef(!1),sessionStorage.setItem("nicknamePromptDismissed","true")},children:"Daha Sonra"})]})]}),t.jsx("button",{onClick:()=>{ef(!1),sessionStorage.setItem("nicknamePromptDismissed","true")},className:"text-gray-400 hover:text-gray-600",children:t.jsx(N.Z,{className:"w-5 h-5"})})]})}),(0,t.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-4",children:[t.jsx("div",{className:"h-20 gradient-frozen"}),(0,t.jsxs)("div",{className:"px-4 pb-4 -mt-10",children:[(0,t.jsxs)("div",{className:"flex items-end gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-shrink-0",children:[t.jsx("button",{type:"button",onClick:()=>!sU&&sX(!0),disabled:sU,className:"w-20 h-20 rounded-full border-4 border-white shadow-lg overflow-hidden bg-gray-200 cursor-pointer hover:opacity-90 transition-opacity",children:sU?t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-frozen-100",children:t.jsx(x.Z,{className:"w-8 h-8 text-frozen-600 animate-spin"})}):sq?t.jsx("img",{src:sq,alt:"\xd6nizleme",className:"w-full h-full object-cover"}):ei.image?t.jsx(o.default,{src:ei.image,alt:ei.name||"",width:80,height:80,className:"object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-frozen-100",children:t.jsx(w.Z,{className:"w-10 h-10 text-frozen-400"})})}),t.jsx("input",{type:"file",ref:sJ,onChange:tw,accept:"image/jpeg,image/png,image/webp",className:"hidden"})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0 pb-1",children:[t.jsx("h1",{className:"text-lg font-bold text-gray-800 truncate",children:ei.nickname||ei.name}),ei.nickname&&t.jsx("p",{className:"text-xs text-gray-400 truncate",children:ei.name}),t.jsx("p",{className:"text-sm text-gray-500 truncate",children:ei.email})]}),(0,t.jsxs)("div",{className:"flex gap-2 pb-1",children:[(0,t.jsxs)("button",{onClick:()=>{to(!0),tg()},className:"text-center px-3 py-1.5 bg-frozen-50 rounded-xl hover:bg-frozen-100 transition-colors cursor-pointer",children:[t.jsx("div",{className:"text-lg font-bold text-frozen-600",children:ei.valorBalance-(ei.lockedValor||0)}),t.jsx("div",{className:"text-[10px] text-gray-500",children:"Valor"}),ei.lockedValor>0&&(0,t.jsxs)("div",{className:"text-[9px] text-amber-600",children:["(",ei.lockedValor," kilitli)"]})]}),(0,t.jsxs)("div",{className:`text-center px-3 py-1.5 rounded-xl ${ei.trustScore<30?"bg-red-50 dark:bg-red-900/20":ei.trustScore<60?"bg-orange-50 dark:bg-orange-900/20":ei.trustScore<80?"bg-yellow-50 dark:bg-yellow-900/20":"bg-green-50 dark:bg-green-900/20"}`,children:[t.jsx("div",{className:`text-lg font-bold ${ei.trustScore<30?"text-red-600":ei.trustScore<60?"text-orange-600":ei.trustScore<80?"text-yellow-600":"text-green-600"}`,children:ei.trustScore}),t.jsx("div",{className:"text-[10px] text-gray-500",children:"G\xfcven"})]})]})]}),ei.trustScore<80&&t.jsx("div",{className:`p-3 rounded-xl border mt-3 ${ei.trustScore<30?"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-700":ei.trustScore<60?"bg-orange-50 dark:bg-orange-900/20 border-orange-300 dark:border-orange-700":"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-300 dark:border-yellow-700"}`,children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-lg",children:ei.trustScore<30?"\uD83D\uDEAB":ei.trustScore<60?"\uD83D\uDD34":"âš ï¸"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:["G\xfcven PuanÄ±: ",ei.trustScore,"/100"]}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 mt-0.5",children:ei.trustScore<30?"HesabÄ±nÄ±z askÄ±da. Destek ile iletiÅŸime ge\xe7in.":ei.trustScore<60?"G\xfcven puanÄ±nÄ±z kritik. G\xfcnl\xfck takas limitiniz kÄ±sÄ±tlandÄ±.":"G\xfcven puanÄ±nÄ±z d\xfcÅŸ\xfck. BaÅŸarÄ±lÄ± takaslarla geri kazanabilirsiniz."}),t.jsx("div",{className:"mt-2 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full transition-all ${ei.trustScore<30?"bg-red-500":ei.trustScore<60?"bg-orange-500":"bg-yellow-500"}`,style:{width:`${ei.trustScore}%`}})})]})]})}),(0,t.jsxs)("div",{className:"flex gap-2 mt-3 pt-3 border-t",children:[(0,t.jsxs)("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium ${ei.isPhoneVerified?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500"}`,children:[t.jsx(k.Z,{className:"w-3.5 h-3.5"}),ei.isPhoneVerified?"Telefon âœ“":"Telefon"]}),(0,t.jsxs)("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium ${ei.isIdentityVerified?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:[t.jsx(D.Z,{className:"w-3.5 h-3.5"}),ei.isIdentityVerified?"Kimlik âœ“":"Kimlik"]}),(0,t.jsxs)("button",{onClick:()=>eg(!eh),className:"ml-auto flex items-center gap-1 text-xs text-frozen-600 hover:text-frozen-700 font-medium",children:[t.jsx(z,{className:"w-3.5 h-3.5"}),eh?"Kapat":"D\xfczenle"]})]}),t.jsx("div",{className:"mt-3 pt-3 border-t",children:t.jsx(eT,{shareType:"profile",title:`${ei.nickname||ei.name} TAKAS-A'da!`,description:"Benimle takas yapmak ister misin? TAKAS-A'da binlerce \xfcr\xfcn seni bekliyor!",url:`https://takas-a.com/profil?user=${ei.id}`})}),t.jsx(d.M,{children:eh&&t.jsx(c.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t overflow-hidden",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Ad Soyad"}),t.jsx(ea.I,{value:ep.name,onChange:e=>eb(a=>({...a,name:e.target.value})),placeholder:"AdÄ±nÄ±z SoyadÄ±nÄ±z",className:"h-9 text-sm"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Takma Ad"}),t.jsx(ea.I,{value:ep.nickname,onChange:e=>eb(a=>({...a,nickname:e.target.value})),placeholder:"\xd6rn: SwapMaster",maxLength:20,className:"h-9 text-sm"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"HakkÄ±mda"}),t.jsx(es.g,{value:ep.bio,onChange:e=>eb(a=>({...a,bio:e.target.value})),placeholder:"Kendinizi kÄ±saca tanÄ±tÄ±n...",rows:2,className:"text-sm"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Telefon"}),t.jsx(ea.I,{value:ep.phone,onChange:e=>eb(a=>({...a,phone:e.target.value})),placeholder:"05XX XXX XX XX",className:"h-9 text-sm"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Konum"}),t.jsx(ea.I,{value:ep.location,onChange:e=>eb(a=>({...a,location:e.target.value})),placeholder:"Åžehir, Ä°l\xe7e",className:"h-9 text-sm"})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2",children:[(0,t.jsxs)(ee.z,{onClick:tR,size:"sm",disabled:ej,className:"bg-frozen-500 hover:bg-frozen-600",children:[t.jsx(C.Z,{className:"w-4 h-4 mr-1"}),ej?"Kaydediliyor...":"Kaydet"]}),(0,t.jsxs)(ee.z,{onClick:()=>eg(!1),variant:"outline",size:"sm",className:"border-gray-300 text-gray-700 hover:bg-gray-100",children:[t.jsx(N.Z,{className:"w-4 h-4 mr-1"}),"Ä°ptal"]}),(0,t.jsxs)(ee.z,{onClick:()=>s8(!0),variant:"outline",size:"sm",className:"border-amber-300 text-amber-700 hover:bg-amber-50",children:[t.jsx(D.Z,{className:"w-4 h-4 mr-1"}),"Åžifre DeÄŸiÅŸtir"]})]}),!ei.isIdentityVerified&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,t.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[t.jsx(D.Z,{className:"w-4 h-4 text-blue-600"}),"Kimlik DoÄŸrulama"]}),(0,t.jsxs)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:[t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 mb-2",children:"tr"===y?"Kimlik belgenizin \xf6n y\xfcz\xfcn\xfcn net bir fotoÄŸrafÄ±nÄ± y\xfckleyin. AI ile otomatik doÄŸrulama yapÄ±lacaktÄ±r.":"Upload a clear photo of the front of your ID document. AI will automatically verify it."}),(0,t.jsxs)("p",{className:"text-xs text-blue-600 dark:text-blue-400 mb-3",children:["âœ“ ","tr"===y?"Kabul edilen belgeler":"Accepted documents",":","tr"===y?" Kimlik kartÄ±, Pasaport, Ehliyet, Oturma izni":" ID Card, Passport, Driver's License, Residence Permit"]}),ao&&t.jsx("div",{className:"mb-3 p-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg text-xs",children:ao}),ax&&t.jsx("div",{className:"mb-3 p-2 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-lg text-xs",children:ax}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(ee.z,{onClick:()=>alert("Kamera doÄŸrulama \xf6zelliÄŸi yakÄ±nda aktif olacak!"),size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:[t.jsx(S.Z,{className:"w-4 h-4 mr-1"}),"Kamera A\xe7"]}),(0,t.jsxs)(ee.z,{size:"sm",variant:"outline",className:"border-gray-400 text-gray-800 bg-white hover:bg-gray-100 dark:border-gray-500 dark:text-gray-100 dark:bg-gray-700 dark:hover:bg-gray-600",onClick:()=>ah.current?.click(),disabled:eo,children:[t.jsx(E.Z,{className:"w-4 h-4 mr-1"}),eo?"Y\xfckleniyor...":"Dosya Y\xfckle"]}),t.jsx("input",{ref:ah,type:"file",accept:"image/*",className:"hidden",onChange:async e=>{let a=e.target.files?.[0];if(a){am(""),au(""),em(!0);try{let e=new FormData;e.append("image",a);let s=await fetch("/api/verify-identity",{method:"POST",body:e}),t=await s.json();s.ok&&t.success?(au(t.message||"KimliÄŸiniz baÅŸarÄ±yla doÄŸrulandÄ±!"),en(e=>e?{...e,isIdentityVerified:!0,trustScore:Math.min(100,e.trustScore+15)}:e)):am(t.error||"DoÄŸrulama baÅŸarÄ±sÄ±z")}catch(e){console.error("Identity verification error:",e),am("Bir hata oluÅŸtu. L\xfctfen tekrar deneyin.")}finally{em(!1),e.target.value=""}}}})]}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"\uD83D\uDCCB Kimlik bilgileriniz g\xfcvenli sunucularda ÅŸifreli olarak saklanÄ±r ve sadece doÄŸrulama amacÄ±yla kullanÄ±lÄ±r."})]})]}),t.jsx("div",{className:"mt-4 pt-4 border-t dark:border-gray-700",children:t.jsx(eM.l,{})}),(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t dark:border-gray-700",children:[(0,t.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100 mb-3 flex items-center gap-2",children:[t.jsx(Z.Z,{className:"w-4 h-4 text-blue-600"}),"Bildirim AyarlarÄ±"]}),(0,t.jsxs)("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/40 dark:to-indigo-900/40 rounded-xl border border-blue-200 dark:border-blue-700 space-y-4",children:[(0,t.jsxs)("div",{className:"p-3 bg-white/80 dark:bg-gray-800/80 rounded-xl border border-blue-100 dark:border-blue-800",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${e2?"bg-green-500 animate-pulse":"bg-gray-400"}`}),t.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"Push Bildirim Durumu"})]}),t.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full ${e2?"bg-green-500 text-white":e1?"bg-yellow-500 text-white":"bg-gray-400 text-white"}`,children:e2?"âœ“ Aktif":e1?"Devre DÄ±ÅŸÄ±":"Desteklenmiyor"})]}),!e1&&t.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mb-2",children:"âš ï¸ Push bildirimleri i\xe7in uygulamayÄ± ana ekrana ekleyin (iOS 16.4+ veya Android)"}),e1&&!e2&&t.jsx(ee.z,{onClick:async()=>{try{await e5(),eC({message:"Push bildirimleri aktifleÅŸtirildi!",type:"success"})}catch(e){console.error("Push subscription hatasÄ±:",e),eC({message:"Bildirim izni verilemedi",type:"error"})}},disabled:e4,size:"sm",className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold",children:e4?(0,t.jsxs)(t.Fragment,{children:[t.jsx(x.Z,{className:"w-4 h-4 mr-2 animate-spin"})," AktifleÅŸtiriliyor..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(Z.Z,{className:"w-4 h-4 mr-2"})," Push Bildirimlerini A\xe7"]})}),e2&&(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(ee.z,{onClick:async()=>{aa("testing");try{if((await fetch("/api/push/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"SYSTEM",data:{title:"\uD83D\uDD14 TAKAS-A Test",body:"Tebrikler! Push bildirimleri baÅŸarÄ±yla \xe7alÄ±ÅŸÄ±yor.",url:"/profil"}})})).ok)aa("success"),eC({message:"Test bildirimi g\xf6nderildi!",type:"success"});else throw Error("Sunucu hatasÄ±")}catch(e){console.error("Push test hatasÄ±:",e),aa("error"),eC({message:"Bildirim g\xf6nderilemedi",type:"error"})}setTimeout(()=>aa("idle"),3e3)},disabled:"testing"===ae,size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold",children:"testing"===ae?(0,t.jsxs)(t.Fragment,{children:[t.jsx(x.Z,{className:"w-4 h-4 mr-2 animate-spin"})," Test..."]}):"success"===ae?(0,t.jsxs)(t.Fragment,{children:[t.jsx(j.Z,{className:"w-4 h-4 mr-2"})," G\xf6nderildi!"]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(Z.Z,{className:"w-4 h-4 mr-2"})," Test Et"]})}),t.jsx(ee.z,{onClick:async()=>{try{await e3(),eC({message:"Push bildirimleri kapatÄ±ldÄ±",type:"success"})}catch(e){console.error("Unsubscribe hatasÄ±:",e)}},disabled:e4,size:"sm",variant:"outline",className:"text-red-600 border-red-300 hover:bg-red-50",children:"Kapat"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white/60 dark:bg-gray-800/60 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(P.Z,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Mesaj Bildirimleri"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full ${!1!==ei.notificationsEnabled?"bg-green-500 text-white":"bg-gray-400 text-white"}`,children:!1!==ei.notificationsEnabled?"A\xe7Ä±k":"KapalÄ±"}),t.jsx(ev,{checked:!1!==ei.notificationsEnabled,onCheckedChange:async e=>{try{await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({notificationsEnabled:e})}),en(a=>a?{...a,notificationsEnabled:e}:a)}catch(e){console.error("Bildirim ayarÄ± g\xfcncellenemedi:",e)}}})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white/60 dark:bg-gray-800/60 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(A.Z,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Takas Bildirimleri"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full ${!1!==ei.swapNotificationsEnabled?"bg-green-500 text-white":"bg-gray-400 text-white"}`,children:!1!==ei.swapNotificationsEnabled?"A\xe7Ä±k":"KapalÄ±"}),t.jsx(ev,{checked:!1!==ei.swapNotificationsEnabled,onCheckedChange:async e=>{try{await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({swapNotificationsEnabled:e})}),en(a=>a?{...a,swapNotificationsEnabled:e}:a)}catch(e){console.error("Bildirim ayarÄ± g\xfcncellenemedi:",e)}}})]})]}),as&&(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white/60 dark:bg-gray-800/60 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-red-500 to-pink-500 flex items-center justify-center",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"3"})}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Uygulama Ä°konu Rozeti"})]}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-9",children:"Ana ekrandaki uygulama ikonunun \xfczerinde okunmamÄ±ÅŸ bildirim sayÄ±sÄ±nÄ± g\xf6sterir"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full ${ar?"bg-green-500 text-white":"bg-gray-400 text-white"}`,children:ar?"A\xe7Ä±k":"KapalÄ±"}),t.jsx(ev,{checked:ar,onCheckedChange:e=>{al(e)}})]})]}),t.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 text-center",children:"\uD83D\uDCA1 Push bildirimlerini aktifleÅŸtirerek mesaj ve takas g\xfcncellemelerinden anÄ±nda haberdar olun"})]})]})]})})})]})]}),t.jsx("div",{className:"bg-white rounded-2xl shadow-sm mb-4 overflow-hidden",children:t.jsx("div",{className:"flex overflow-x-auto scrollbar-hide gap-0.5",children:[].map(e=>{let a=e.icon,s=er===e.id,r=e.highlight;return(0,t.jsxs)("button",{"data-tab":e.id,onClick:()=>el(e.id),className:`min-w-[72px] w-[72px] sm:min-w-[85px] sm:w-auto sm:flex-1 flex flex-col items-center gap-1 py-3 px-1 border-b-2 transition-all relative ${s?"border-frozen-500 text-frozen-600 bg-frozen-50/50":r?"border-transparent text-purple-600 hover:text-purple-700 hover:bg-purple-50 bg-purple-50/30":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[t.jsx("div",{className:`relative ${r&&!s?"animate-pulse":""}`,children:t.jsx(a,{className:`w-5 h-5 ${r&&!s?"text-purple-500":""}`})}),t.jsx("span",{className:`text-[9px] sm:text-xs font-medium text-center leading-tight ${r&&!s?"font-bold":""}`,children:e.label}),e.badge&&e.badge>0&&t.jsx("span",{className:"absolute top-1 right-1/4 w-4 h-4 bg-red-500 text-white text-[10px] rounded-full flex items-center justify-center",children:e.badge})]},e.id)})})}),t.jsx("div",{className:"flex gap-2 mb-4 bg-white rounded-xl p-1.5 shadow-sm overflow-x-auto scrollbar-hide",children:tH.map(e=>{let a=e.icon,s=er===e.id;return(0,t.jsxs)("button",{"data-tab":e.id,onClick:()=>el(e.id),className:`flex items-center justify-center gap-1.5 py-2.5 px-3 rounded-lg font-medium transition-all relative text-xs sm:text-sm whitespace-nowrap min-w-fit ${s?"gradient-frozen text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:[t.jsx(a,{className:"w-4 h-4 flex-shrink-0"}),t.jsx("span",{children:e.label}),e.showBadge&&t.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 bg-red-500 rounded-full animate-pulse"})]},e.id)})}),(0,t.jsxs)(d.M,{mode:"wait",children:["messages"===er&&ei&&(0,t.jsxs)(c.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm mb-4 p-1 flex gap-1",children:[(0,t.jsxs)("button",{onClick:()=>aY("direct"),className:`flex-1 py-2.5 px-4 rounded-lg font-medium text-sm transition-all flex items-center justify-center gap-2 ${"direct"===aq?"gradient-frozen text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:[t.jsx(P.Z,{className:"w-4 h-4"}),"Mesajlar",aL.unreadMessages>0&&t.jsx("span",{className:"ml-1 w-5 h-5 bg-red-500 text-white text-[10px] rounded-full flex items-center justify-center",children:aL.unreadMessages})]}),(0,t.jsxs)("button",{onClick:()=>aY("group"),className:`flex-1 py-2.5 px-4 rounded-lg font-medium text-sm transition-all flex items-center justify-center gap-2 relative ${"group"===aq?"gradient-frozen text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:[t.jsx(T.Z,{className:"w-4 h-4"}),"\xc7oklu Mesaj"]}),t.jsx("button",{onClick:()=>a4(!0),className:"w-10 h-10 rounded-lg bg-gradient-to-r from-orange-500 to-amber-500 text-white flex items-center justify-center hover:from-orange-600 hover:to-amber-600 transition-all shadow-md",title:"\xc7oklu Mesaj Grubu OluÅŸtur",children:t.jsx(M.Z,{className:"w-5 h-5"})})]}),(0,t.jsxs)(d.M,{mode:"wait",children:["direct"===aq&&t.jsx(c.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:aT?(0,t.jsxs)("div",{className:"flex flex-col h-[500px]",children:[(0,t.jsxs)("div",{className:"p-4 border-b flex items-center gap-3",children:[t.jsx("button",{onClick:()=>{aM(null),a$([]),aK(null)},className:"p-2 hover:bg-gray-100 rounded-lg",children:t.jsx(B.Z,{className:"w-5 h-5"})}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 overflow-hidden",children:aT.otherUser.image?t.jsx(o.default,{src:aT.otherUser.image,alt:"",width:40,height:40,className:"object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-frozen-100",children:t.jsx(w.Z,{className:"w-5 h-5 text-frozen-400"})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"font-semibold text-gray-800",children:aT.otherUser.name}),aT.product&&t.jsx(m.default,{href:`/urun/${aT.product.id}`,className:"text-xs text-frozen-600 hover:underline",children:aT.product.title})]})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[aO?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-frozen-500"})}):0===aB.length?t.jsx("div",{className:"text-center py-8 text-gray-500",children:t.jsx("p",{children:"Hen\xfcz mesaj yok. Ä°lk mesajÄ± siz g\xf6nderin!"})}):aB.map(e=>{let a=e.sender.id===ei?.id,s=e.content.match(/\[IMAGE\](.*?)\[\/IMAGE\]/s),r=s?s[1]:null,l=e.content.replace(/\[IMAGE\].*?\[\/IMAGE\]/s,"").trim();return t.jsx("div",{className:`flex ${a?"justify-end":"justify-start"}`,children:(0,t.jsxs)("div",{className:`max-w-[75%] ${a?"order-1":""}`,children:[(0,t.jsxs)("div",{className:`px-4 py-2 rounded-2xl ${a?"bg-frozen-500 text-white rounded-br-md":"bg-gray-100 text-gray-800 rounded-bl-md"}`,children:[r&&t.jsx("div",{className:"mb-2",children:t.jsx("img",{src:r,alt:"PaylaÅŸÄ±lan fotoÄŸraf",className:"max-w-full rounded-lg cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(r,"_blank")})}),l&&t.jsx("p",{className:"text-sm",children:l}),r&&!l&&(0,t.jsxs)("p",{className:"text-xs opacity-70 flex items-center gap-1",children:[t.jsx($,{className:"w-3 h-3"})," FotoÄŸraf"]})]}),(0,t.jsxs)("p",{className:`text-[10px] text-gray-400 mt-1 flex items-center gap-1 ${a?"justify-end":""}`,children:[new Date(e.createdAt).toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"}),a&&(e.isRead?t.jsx(F,{className:"w-3.5 h-3.5 text-blue-500"}):t.jsx(V.Z,{className:"w-3.5 h-3.5 text-gray-400"}))]})]})},e.id)}),t.jsx("div",{ref:a_})]}),aG&&t.jsx("div",{className:"px-4 py-2 bg-amber-50 border-t border-amber-200",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[t.jsx(v.Z,{className:"w-4 h-4 text-amber-600 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-xs text-amber-800 whitespace-pre-line",children:aG}),t.jsx("button",{onClick:()=>aK(null),className:"ml-auto",children:t.jsx(N.Z,{className:"w-4 h-4 text-amber-600"})})]})}),(0,t.jsxs)("div",{className:"p-3 md:p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[sb&&(0,t.jsxs)("div",{className:"mb-3 relative inline-block",children:[t.jsx("div",{className:"relative w-16 h-16 md:w-20 md:h-20 rounded-lg overflow-hidden border-2 border-frozen-500",children:t.jsx("img",{src:sb,alt:"Se\xe7ili fotoÄŸraf",className:"w-full h-full object-cover"})}),t.jsx("button",{type:"button",onClick:()=>{sy(null),sC.current&&(sC.current.value="")},className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:t.jsx(N.Z,{className:"w-3 h-3"})})]}),t.jsx("input",{type:"file",ref:sC,onChange:ty,accept:"image/*",className:"hidden"}),(0,t.jsxs)("div",{className:"flex gap-2 items-center mb-2",children:[t.jsx("input",{type:"text",value:aF,onChange:e=>aV(e.target.value),onKeyPress:e=>"Enter"===e.key&&!e.shiftKey&&tV(),placeholder:"MesajÄ±nÄ±zÄ± yazÄ±n...",className:"flex-1 px-3 md:px-4 py-2.5 rounded-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-frozen-500 focus:border-frozen-500 text-sm md:text-base"}),t.jsx(ee.z,{onClick:tV,disabled:aI||!aF.trim()&&!sb,className:"rounded-full w-10 h-10 md:w-11 md:h-11 p-0 bg-gradient-to-r from-frozen-500 to-frozen-600 hover:from-frozen-600 hover:to-frozen-700 flex-shrink-0 shadow-md",children:aI?t.jsx(x.Z,{className:"w-4 h-4 md:w-5 md:h-5 text-white animate-spin"}):t.jsx(I.Z,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>sC.current?.click(),disabled:aI||sv,className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition-all disabled:opacity-50 text-xs md:text-sm",title:"FotoÄŸraf ekle",children:[sv?t.jsx(x.Z,{className:"w-4 h-4 animate-spin"}):t.jsx(R,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden xs:inline",children:"FotoÄŸraf"})]}),(0,t.jsxs)("div",{className:"relative",ref:sD,children:[(0,t.jsxs)("button",{type:"button",onClick:()=>sh(!su),disabled:aI,className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition-all disabled:opacity-50 text-xs md:text-sm",title:"Emoji ekle",children:[t.jsx(G,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden xs:inline",children:"Emoji"})]}),t.jsx(d.M,{children:su&&t.jsx(c.E.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.15},className:"absolute bottom-full left-0 mb-2 w-56 md:w-64 max-h-48 md:max-h-56 overflow-y-auto bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 p-2 md:p-3 z-50",children:Object.entries(sT).map(([e,a])=>(0,t.jsxs)("div",{className:"mb-2",children:[t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize font-medium",children:e}),t.jsx("div",{className:"flex flex-wrap gap-0.5 md:gap-1",children:a.map((e,a)=>t.jsx("button",{type:"button",onClick:()=>tp(e),className:"w-6 h-6 md:w-7 md:h-7 flex items-center justify-center text-base md:text-lg hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e},a))})]},e))})})]})]})]})]}):(0,t.jsxs)("div",{children:[t.jsx("div",{className:"p-4 border-b",children:(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-frozen-50 to-frozen-100 rounded-lg p-3 text-center",children:[t.jsx("div",{className:"text-xl font-bold text-frozen-600",children:aL.totalMessages}),t.jsx("div",{className:"text-xs text-gray-600",children:"Toplam"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-3 text-center",children:[t.jsx("div",{className:"text-xl font-bold text-green-600",children:aL.readMessages}),t.jsx("div",{className:"text-xs text-gray-600",children:"OkunmuÅŸ"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg p-3 text-center",children:[t.jsx("div",{className:"text-xl font-bold text-amber-600",children:aL.unreadMessages}),t.jsx("div",{className:"text-xs text-gray-600",children:"OkunmamÄ±ÅŸ"})]})]})}),aO?(0,t.jsxs)("div",{className:"p-8 text-center",children:[t.jsx(x.Z,{className:"w-8 h-8 text-frozen-500 mx-auto mb-3 animate-spin"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Mesajlar y\xfckleniyor..."})]}):0===aP.length?(0,t.jsxs)("div",{className:"p-8 text-center",children:[t.jsx(P.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),t.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Hen\xfcz MesajÄ±nÄ±z Yok"}),t.jsx("p",{className:"text-sm text-gray-500",children:"\xdcr\xfcnlerle ilgilendiÄŸinizde burada g\xf6r\xfcÅŸmeler baÅŸlayacak."})]}):t.jsx("div",{className:"divide-y max-h-[400px] overflow-y-auto",children:aP.map((e,a)=>(0,t.jsxs)("button",{onClick:()=>tI(e),className:"w-full p-4 flex items-center gap-3 hover:bg-gray-50 transition-colors text-left",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 overflow-hidden flex-shrink-0",children:e.otherUser.image?t.jsx(o.default,{src:e.otherUser.image,alt:"",width:48,height:48,className:"object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-frozen-100",children:t.jsx(w.Z,{className:"w-6 h-6 text-frozen-400"})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("h4",{className:"font-semibold text-gray-800 truncate",children:e.otherUser.name}),t.jsx("span",{className:"text-xs text-gray-400",children:new Date(e.lastMessage.createdAt).toLocaleDateString("tr-TR")})]}),e.product&&t.jsx("p",{className:"text-xs text-frozen-600 truncate",children:e.product.title}),t.jsx("p",{className:"text-sm text-gray-500 truncate",children:e.lastMessage.content})]}),e.unreadCount>0&&t.jsx("span",{className:"w-5 h-5 bg-frozen-500 text-white text-xs rounded-full flex items-center justify-center",children:e.unreadCount})]},a))})]})},"direct-messages"),"group"===aq&&t.jsx(c.E.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:aX?(0,t.jsxs)("div",{className:"flex flex-col h-[500px]",children:[(0,t.jsxs)("div",{className:"p-4 border-b bg-gradient-to-r from-orange-50 to-amber-50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>{aQ(null),a1([])},className:"p-2 hover:bg-white/50 rounded-lg transition-colors",children:t.jsx(B.Z,{className:"w-5 h-5 text-gray-600"})}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-orange-400 to-amber-400 flex items-center justify-center flex-shrink-0",children:t.jsx(T.Z,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"font-semibold text-gray-800 truncate",children:aX.name||"\xc7oklu Takas Grubu"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[aX.members?.length||0," \xfcye"]})]}),t.jsx("div",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded-lg",children:"Multi-Swap"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 mt-2 overflow-x-auto",children:[aX.members?.slice(0,5).map((e,a)=>t.jsxs("div",{className:"flex items-center gap-1 bg-white/70 px-2 py-1 rounded-full text-xs",children:[e.image?t.jsx(o.default,{src:e.image,alt:e.name||"",width:16,height:16,className:"rounded-full"}):t.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-300 flex items-center justify-center text-[10px]",children:(e.nickname||e.name)?.charAt(0)}),t.jsx("span",{className:"text-gray-700",children:e.nickname||e.name?.split(" ")[0]})]},e.id||a)),(aX.members?.length||0)>5&&(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["+",(aX.members?.length||0)-5]})]})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50",children:[sd?t.jsx("div",{className:"flex justify-center items-center h-full",children:t.jsx(x.Z,{className:"w-6 h-6 animate-spin text-orange-500"})}):0===a0.length?(0,t.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[t.jsx(P.Z,{className:"w-10 h-10 mx-auto mb-2 text-gray-300"}),t.jsx("p",{children:"Hen\xfcz mesaj yok"}),t.jsx("p",{className:"text-xs",children:"Ä°lk mesajÄ± siz g\xf6nderin!"})]}):a0.map(e=>{let a=e.senderId===ei?.id,s=e.content.match(/\[IMAGE\](.*?)\[\/IMAGE\]/s),r=s?s[1]:null,l=e.content.replace(/\[IMAGE\].*?\[\/IMAGE\]/s,"").trim();return t.jsx("div",{className:`flex ${a?"justify-end":"justify-start"}`,children:(0,t.jsxs)("div",{className:`max-w-[75%] ${a?"order-2":"order-1"}`,children:[!a&&(0,t.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[e.sender?.image?t.jsx(o.default,{src:e.sender.image,alt:"",width:16,height:16,className:"rounded-full"}):t.jsx("div",{className:"w-4 h-4 rounded-full bg-orange-200 flex items-center justify-center text-[10px]",children:(e.sender?.nickname||e.sender?.name)?.charAt(0)}),t.jsx("span",{className:"text-xs text-gray-500",children:e.sender?.nickname||e.sender?.name?.split(" ")[0]})]}),(0,t.jsxs)("div",{className:`p-3 rounded-2xl ${e.isSystem?"bg-orange-100 text-orange-800 text-center mx-auto text-sm":a?"bg-gradient-to-r from-orange-500 to-amber-500 text-white rounded-br-md":"bg-white text-gray-800 rounded-bl-md shadow-sm"}`,children:[r&&t.jsx("div",{className:"mb-2",children:t.jsx("img",{src:r,alt:"PaylaÅŸÄ±lan fotoÄŸraf",className:"max-w-full rounded-lg cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(r,"_blank")})}),l&&t.jsx("span",{className:"text-sm",children:l}),r&&!l&&(0,t.jsxs)("p",{className:"text-xs opacity-70 flex items-center gap-1",children:[t.jsx($,{className:"w-3 h-3"})," FotoÄŸraf"]})]}),(0,t.jsxs)("p",{className:`text-[10px] text-gray-400 mt-1 flex items-center gap-1 ${a?"justify-end":"justify-start"}`,children:[new Date(e.createdAt).toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"}),a&&(e.isRead?t.jsx(F,{className:"w-3.5 h-3.5 text-blue-400"}):t.jsx(V.Z,{className:"w-3.5 h-3.5 text-white/70"}))]})]})},e.id)}),t.jsx("div",{ref:sx})]}),(0,t.jsxs)("div",{className:"p-3 md:p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[sf&&(0,t.jsxs)("div",{className:"mb-3 relative inline-block",children:[t.jsx("div",{className:"relative w-16 h-16 md:w-20 md:h-20 rounded-lg overflow-hidden border-2 border-orange-500",children:t.jsx("img",{src:sf,alt:"Se\xe7ili fotoÄŸraf",className:"w-full h-full object-cover"})}),t.jsx("button",{type:"button",onClick:()=>{sj(null),sS.current&&(sS.current.value="")},className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:t.jsx(N.Z,{className:"w-3 h-3"})})]}),t.jsx("input",{type:"file",ref:sS,onChange:tf,accept:"image/*",className:"hidden"}),(0,t.jsxs)("div",{className:"flex gap-2 items-center mb-2",children:[t.jsx(ea.I,{value:si,onChange:e=>sn(e.target.value),placeholder:"Gruba mesaj yaz...",className:"flex-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 border-gray-300 dark:border-gray-600 text-sm md:text-base",onKeyPress:e=>"Enter"===e.key&&tB()}),t.jsx(ee.z,{onClick:tB,disabled:!si.trim()&&!sf||so,className:"bg-gradient-to-r from-orange-500 to-amber-500 text-white rounded-full w-10 h-10 md:w-11 md:h-11 p-0 flex-shrink-0 shadow-md",children:so?t.jsx(x.Z,{className:"w-4 h-4 md:w-5 md:h-5 animate-spin"}):t.jsx(I.Z,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>sS.current?.click(),disabled:so||sw,className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition-all disabled:opacity-50 text-xs md:text-sm",title:"FotoÄŸraf ekle",children:[sw?t.jsx(x.Z,{className:"w-4 h-4 animate-spin"}):t.jsx(R,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden xs:inline",children:"FotoÄŸraf"})]}),(0,t.jsxs)("div",{className:"relative",ref:sz,children:[(0,t.jsxs)("button",{type:"button",onClick:()=>sp(!sg),disabled:so,className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition-all disabled:opacity-50 text-xs md:text-sm",title:"Emoji ekle",children:[t.jsx(G,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden xs:inline",children:"Emoji"})]}),t.jsx(d.M,{children:sg&&t.jsx(c.E.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.15},className:"absolute bottom-full left-0 mb-2 w-56 md:w-64 max-h-48 md:max-h-56 overflow-y-auto bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 p-2 md:p-3 z-50",children:Object.entries(sT).map(([e,a])=>(0,t.jsxs)("div",{className:"mb-2",children:[t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize font-medium",children:e}),t.jsx("div",{className:"flex flex-wrap gap-0.5 md:gap-1",children:a.map((e,a)=>t.jsx("button",{type:"button",onClick:()=>tb(e),className:"w-6 h-6 md:w-7 md:h-7 flex items-center justify-center text-base md:text-lg hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e},a))})]},e))})})]})]})]})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"p-4 border-b",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800",children:"\xc7oklu Takas MesajlarÄ±"}),t.jsx("p",{className:"text-xs text-gray-500",children:"\xc7oklu takasa uygun kullanÄ±cÄ±larla grup sohbeti"})]}),(0,t.jsxs)(ee.z,{onClick:()=>a4(!0),size:"sm",className:"bg-gradient-to-r from-orange-500 to-amber-500",children:[t.jsx(M.Z,{className:"w-4 h-4 mr-1"}),"Yeni"]})]})}),0===aJ.length?(0,t.jsxs)("div",{className:"p-8 text-center",children:[t.jsx(T.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),t.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Hen\xfcz Grup MesajÄ±nÄ±z Yok"}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"\xc7oklu takas i\xe7in grup oluÅŸturabilir veya davet alabilirsiniz"}),(0,t.jsxs)(ee.z,{onClick:()=>a4(!0),className:"bg-gradient-to-r from-orange-500 to-amber-500",children:[t.jsx(M.Z,{className:"w-4 h-4 mr-2"}),"Grup OluÅŸtur"]})]}):t.jsx("div",{className:"divide-y max-h-[400px] overflow-y-auto",children:aJ.map(e=>(0,t.jsxs)("button",{onClick:()=>t$(e),className:"w-full p-4 flex items-center gap-3 hover:bg-gray-50 transition-colors text-left",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-orange-100 to-amber-100 flex items-center justify-center flex-shrink-0",children:t.jsx(T.Z,{className:"w-6 h-6 text-orange-500"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("h4",{className:"font-semibold text-gray-800 truncate",children:e.name||"\xc7oklu Takas Grubu"}),(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:[e.members?.length||0," \xfcye"]})]}),t.jsx("p",{className:"text-sm text-gray-500 truncate",children:e.lastMessage?.content||"Hen\xfcz mesaj yok"})]}),t.jsx(K.Z,{className:"w-4 h-4 text-gray-400"})]},e.id))})]})},"group-messages")]})]},"messages"),"valor"===er&&(0,t.jsxs)(c.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-4",children:[sR&&t.jsx("div",{className:`p-4 rounded-xl ${"success"===sR.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:sR.text}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-yellow-500 to-amber-500 rounded-2xl p-6 text-white",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-white/80",children:"Mevcut Bakiye"}),(0,t.jsxs)("p",{className:"text-3xl font-bold",children:[ei?.valorBalance||0," Valor"]})]}),t.jsx(b.Z,{className:"w-12 h-12 text-white/80"})]}),sM?.totalEarned>0&&(0,t.jsxs)("p",{className:"text-sm text-white/80",children:["Toplam kazanÄ±lan: ",sM.totalEarned," Valor"]}),ai&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-white/20 space-y-2",children:[ai.lockedBonus>0&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm bg-white/10 rounded-lg p-2",children:[t.jsx(v.Z,{className:"w-4 h-4 flex-shrink-0"}),(0,t.jsxs)("span",{children:[(0,t.jsxs)("strong",{children:[ai.lockedBonus,"V"]})," bonus kilitli (ilk takas sonrasÄ± a\xe7Ä±lÄ±r)"]})]}),ai.isInFirstSwapsPeriod&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm bg-white/10 rounded-lg p-2",children:[t.jsx(O.Z,{className:"w-4 h-4 flex-shrink-0"}),(0,t.jsxs)("span",{children:["Ä°lk 3 takasta max kazan\xe7: ",(0,t.jsxs)("strong",{children:[ai.remainingGainAllowance,"V"]})," kaldÄ±"]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-white",children:"KullanÄ±labilir:"}),(0,t.jsxs)("span",{className:"font-semibold text-white",children:[ai.usableBalance," Valor"]})]})]})]}),ai&&!ai.productValueStatus.hasQualifiedProduct&&t.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-2xl p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center flex-shrink-0",children:t.jsx(v.Z,{className:"w-5 h-5 text-amber-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-amber-800 mb-1",children:"\xdcr\xfcn DeÄŸeri Yetersiz"}),t.jsx("p",{className:"text-sm text-amber-700 mb-3",children:ai.productValueStatus.recommendation}),t.jsx(m.default,{href:"/urun-ekle",children:(0,t.jsxs)(ee.z,{size:"sm",className:"bg-amber-500 hover:bg-amber-600 text-white",children:[t.jsx(M.Z,{className:"w-4 h-4 mr-1"}),"\xdcr\xfcn Ekle"]})})]})]})}),sK&&(0,t.jsxs)("div",{className:"mb-4 p-4 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-xl border border-purple-200 dark:border-purple-800",children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:"Mevcut Seviyen"}),(0,t.jsxs)("p",{className:"text-lg font-bold text-purple-800 dark:text-purple-200",children:[sK.emoji," Seviye ",sK.level,": ",sK.name]})]})}),sK.nextLevel&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-1",children:[(0,t.jsxs)("span",{children:["Sonraki: ",sK.nextLevel.emoji," ",sK.nextLevel.name]}),(0,t.jsxs)("span",{children:[sK.swapsToNext," takas kaldÄ±"]})]}),t.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-blue-500 rounded-full transition-all duration-500",style:{width:`${sK.progress}%`}})})]}),(0,t.jsxs)("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-2 text-center",children:[(0,t.jsxs)("div",{className:"p-2 bg-white dark:bg-gray-700 rounded-lg",children:[t.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"G\xfcnl\xfck"}),(0,t.jsxs)("p",{className:"text-sm font-bold text-green-600",children:["+",sK.dailyBonus,"V"]})]}),(0,t.jsxs)("div",{className:"p-2 bg-white dark:bg-gray-700 rounded-lg",children:[t.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"Takas"}),t.jsx("p",{className:"text-sm font-bold text-blue-600",children:sK.swapBonusMax>0?`+${sK.swapBonusMin}-${sK.swapBonusMax}V`:"\uD83D\uDD12"})]}),(0,t.jsxs)("div",{className:"p-2 bg-white dark:bg-gray-700 rounded-lg col-span-2 sm:col-span-1",children:[t.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"AylÄ±k Kalan"}),(0,t.jsxs)("p",{className:"text-sm font-bold text-purple-600",children:[sK.monthlyRemaining,"V"]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border dark:border-gray-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center",children:t.jsx(H.Z,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold dark:text-white",children:"G\xfcnl\xfck GiriÅŸ Bonusu"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:sK?`Her g\xfcn +${sK.dailyBonus} Valor kazan!`:"Her g\xfcn bonus kazan!"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"font-bold text-lg text-frozen-600 dark:text-frozen-400",children:["+",sK?.dailyBonus||1]}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Valor"})]})]}),sM?.dailyBonus?.canClaim?t.jsx(ee.z,{onClick:tA,disabled:"daily"===sV,className:"w-full gradient-frozen",children:"daily"===sV?"AlÄ±nÄ±yor...":"\uD83C\uDF81 G\xfcnl\xfck Bonusu Al"}):(0,t.jsxs)("div",{className:"text-center py-2 text-gray-500 dark:text-gray-400 text-sm",children:[t.jsx(L.Z,{className:"w-4 h-4 inline mr-1"}),sM?.dailyBonus?.hoursUntilNext||24," saat sonra tekrar alabilirsiniz"]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border dark:border-gray-700",children:[(0,t.jsxs)("h3",{className:"font-semibold mb-4 flex items-center gap-2 dark:text-white",children:[t.jsx(O.Z,{className:"w-5 h-5 text-frozen-500"}),"Bonus FÄ±rsatlarÄ±"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(u.Z,{className:"w-8 h-8 text-blue-500"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium dark:text-white",children:"\xdcr\xfcn Ekle"}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:sK?.productBonus&&sK.productBonus>0?`Her \xfcr\xfcn i\xe7in +${sK.productBonus} Valor (max 5 \xfcr\xfcn)`:"\uD83D\uDD12 Ä°lk takasÄ±nÄ± tamamla, \xfcr\xfcn bonusu a\xe7Ä±lsÄ±n!"})]})]}),sK?.productBonus&&sK.productBonus>0?t.jsx(m.default,{href:"/urun-ekle",children:t.jsx(ee.z,{size:"sm",variant:"outline",children:"Ekle"})}):t.jsx("span",{className:"text-xl",children:"\uD83D\uDD12"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(p.Z,{className:"w-8 h-8 text-yellow-500"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium dark:text-white",children:"DeÄŸerlendirme Yap"}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:sK?.reviewBonus&&sK.reviewBonus>0?`Her deÄŸerlendirme +${sK.reviewBonus} Valor (ayda max 10)`:"\uD83D\uDD12 Ä°lk takasÄ±nÄ± tamamla, review bonusu a\xe7Ä±lsÄ±n!"})]})]}),(0,t.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[sM?.reviewBonus?.claimed||0,"/10"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(f,{className:"w-8 h-8 text-purple-500"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium dark:text-white",children:"Anket Tamamla"}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"+5 Valor (bir kez)"})]})]}),sM?.surveyBonus?.claimed?t.jsx(j.Z,{className:"w-6 h-6 text-green-500"}):t.jsx(ee.z,{size:"sm",variant:"outline",onClick:()=>el("survey"),children:"BaÅŸla"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(w.Z,{className:"w-8 h-8 text-green-500"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium dark:text-white",children:"ArkadaÅŸ Davet Et"}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:sK?.referralBonus&&sK.referralBonus>0?`Her davet +${sK.referralBonus} Valor`:"\uD83D\uDD12 Ä°lk takasÄ±nÄ± tamamla, davet bonusu a\xe7Ä±lsÄ±n!"})]})]}),t.jsx(m.default,{href:"/davet",children:t.jsx(ee.z,{size:"sm",variant:"outline",children:"Davet Et"})})]})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border dark:border-gray-700",children:[(0,t.jsxs)("h3",{className:"font-semibold mb-4 flex items-center gap-2 text-gray-900 dark:text-white",children:[t.jsx(L.Z,{className:"w-5 h-5 text-frozen-500"}),"Valor Ä°ÅŸlem Ge\xe7miÅŸi"]}),tu?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx(x.Z,{className:"w-6 h-6 animate-spin text-frozen-500"})}):tm?.history&&0!==tm.history.length?t.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:tm.history.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${"in"===e.direction?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:t.jsx("span",{className:"text-sm",children:"in"===e.direction?"â†“":"â†‘"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:e.description}),e.productTitle&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["\uD83D\uDCE6 ",e.productTitle]}),t.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:new Date(e.date).toLocaleDateString("tr-TR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),(0,t.jsxs)("span",{className:`font-bold text-sm ${"in"===e.direction?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["in"===e.direction?"+":"-",e.amount,"V"]})]},e.id))}):t.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"Hen\xfcz iÅŸlem ge\xe7miÅŸi yok"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-5 shadow-sm border",children:[(0,t.jsxs)("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[t.jsx(U,{className:"w-5 h-5 text-amber-500"}),"BaÅŸarÄ±lar & G\xf6revler"]}),s$?.claimable&&s$.claimable.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[t.jsx("p",{className:"text-sm font-medium text-green-600 mb-2",children:"\uD83C\uDF89 \xd6d\xfcl Bekliyor!"}),t.jsx("div",{className:"space-y-2",children:s$.claimable.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-2xl",children:e.icon}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium",children:e.title}),t.jsx("p",{className:"text-xs text-gray-600",children:e.description})]})]}),t.jsx(ee.z,{size:"sm",className:"gradient-frozen",onClick:()=>tT(e.id),disabled:sV===e.id,children:sV===e.id?"...":`+${e.reward}`})]},e.id))})]}),s$?.available&&s$.available.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Devam Eden"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:s$.available.slice(0,6).map(e=>(0,t.jsxs)("div",{className:"p-3 bg-gray-50 rounded-xl text-center",children:[t.jsx("span",{className:"text-xl",children:e.icon}),t.jsx("p",{className:"text-xs font-medium mt-1",children:e.title}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["+",e.reward," V"]})]},e.id))})]}),s$?.completed&&s$.completed.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-gray-600 mb-2",children:["Tamamlanan (",s$.completed.length,")"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:s$.completed.map(e=>(0,t.jsxs)("div",{className:"px-3 py-1.5 bg-frozen-50 text-frozen-700 rounded-full text-xs flex items-center gap-1",children:[t.jsx("span",{children:e.icon}),t.jsx("span",{children:e.title}),t.jsx(j.Z,{className:"w-3 h-3"})]},e.id))})]})]})]},"valor"),"products"===er&&(0,t.jsxs)(c.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-white rounded-2xl shadow-sm p-4 sm:p-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4",children:[(0,t.jsxs)("h2",{className:"text-lg font-bold text-gray-800 dark:text-white",children:["\xdcr\xfcnlerim (",ed.length,")"]}),t.jsx(m.default,{href:"/urun-ekle",children:(0,t.jsxs)(ee.z,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white font-semibold",children:[t.jsx(u.Z,{className:"w-4 h-4 mr-2"}),"Yeni \xdcr\xfcn"]})})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mb-4 p-3 bg-gray-50 dark:bg-slate-800 rounded-xl",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[t.jsx(_.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 dark:text-gray-400"}),t.jsx(ea.I,{placeholder:"\xdcr\xfcn ara...",value:av,onChange:e=>aN(e.target.value),className:"pl-9 h-9 text-sm bg-white dark:bg-slate-700 text-gray-900 dark:text-white border-gray-300 dark:border-slate-600"})]}),(0,t.jsxs)(ee.z,{variant:"outline",size:"sm",onClick:()=>ak(!aw),className:`h-9 border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-200 font-medium ${aw?"bg-purple-100 dark:bg-purple-900/30 border-purple-400 dark:border-purple-500 text-purple-700 dark:text-purple-300":"hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[t.jsx(q,{className:"w-4 h-4 mr-2"}),"Filtreler"]})]}),t.jsx(d.M,{children:aw&&t.jsx(c.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-3 mb-4 p-3 bg-gray-50 rounded-xl",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Durum"}),t.jsx("div",{className:"flex gap-1",children:[{value:"all",label:"T\xfcm\xfc"},{value:"active",label:"Aktif"},{value:"inactive",label:"Pasif"},{value:"pending",label:"Beklemede"}].map(e=>t.jsx("button",{onClick:()=>ay(e.value),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${ab===e.value?"bg-frozen-500 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"SÄ±ralama"}),t.jsx("div",{className:"flex gap-1 flex-wrap",children:[{value:"newest",label:"En Yeni",icon:L.Z},{value:"oldest",label:"En Eski",icon:L.Z},{value:"valor-high",label:"Valor â†“",icon:Y},{value:"valor-low",label:"Valor â†‘",icon:Y},{value:"views",label:"G\xf6r\xfcnt\xfclenme",icon:J.Z}].map(e=>t.jsx("button",{onClick:()=>aj(e.value),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${af===e.value?"bg-frozen-500 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:e.label},e.value))})]})]})})}),("all"!==ab||av)&&(0,t.jsxs)("p",{className:"text-sm text-gray-500 mb-3",children:[tO.length," \xfcr\xfcn bulundu"]}),0===tO.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx(u.Z,{className:"w-14 h-14 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),t.jsx("h3",{className:"text-base font-semibold text-gray-700 dark:text-gray-200 mb-2",children:0===ed.length?"Hen\xfcz \xfcr\xfcn\xfcn\xfcz yok":"Filtrelerle eÅŸleÅŸen \xfcr\xfcn yok"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:0===ed.length?"Takas yapmak i\xe7in ilk \xfcr\xfcn\xfcn\xfcz\xfc ekleyin":"FarklÄ± filtreler deneyin"}),0===ed.length&&t.jsx(m.default,{href:"/urun-ekle",children:t.jsx(ee.z,{className:"bg-purple-600 hover:bg-purple-700 text-white font-semibold",children:"\xdcr\xfcn Ekle"})})]}):t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:tO.map(e=>(0,t.jsxs)("div",{className:"group border rounded-xl overflow-hidden hover:shadow-lg transition-all relative",children:[(0,t.jsxs)(m.default,{href:`/urun/${e.id}`,children:[(0,t.jsxs)("div",{className:"aspect-square relative bg-gray-100",children:[e.images?.[0]&&t.jsx(o.default,{src:e.images[0],alt:e.title,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300"}),(0,t.jsxs)("div",{className:"absolute top-2 right-2 flex flex-col gap-1 items-end",children:[e.isBoosted&&e.boostExpiresAt&&new Date(e.boostExpiresAt)>new Date&&t.jsx("div",{className:"px-2 py-0.5 rounded-full text-[10px] font-medium bg-gradient-to-r from-amber-400 to-orange-500 text-white shadow-sm",children:"\uD83D\uDE80 \xd6ne \xc7Ä±kmÄ±ÅŸ"}),t.jsx("div",{className:`px-2 py-0.5 rounded-full text-[10px] font-medium ${"active"===e.status?"bg-green-100 text-green-700":"pending"===e.status?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600"}`,children:"active"===e.status?"Aktif":"pending"===e.status?"Beklemede":"Pasif"})]})]}),(0,t.jsxs)("div",{className:"p-2.5",children:[t.jsx("h3",{className:"font-medium text-gray-800 text-sm truncate",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,t.jsxs)("span",{className:"text-frozen-600 font-bold text-sm",children:[e.valorPrice," V"]}),(0,t.jsxs)("span",{className:"text-[10px] text-gray-500 flex items-center gap-0.5",children:[t.jsx(J.Z,{className:"w-3 h-3"}),e.views]})]})]})]}),(0,t.jsxs)("div",{className:"absolute top-2 left-2",children:[t.jsx("button",{onClick:a=>{a.preventDefault(),a.stopPropagation(),eP(eZ===e.id?null:e.id)},className:"p-1.5 bg-white/90 hover:bg-white rounded-full shadow-sm transition-all",children:t.jsx(W,{className:"w-4 h-4 text-gray-600"})}),eZ===e.id&&(0,t.jsxs)("div",{className:"absolute top-8 left-0 bg-white rounded-lg shadow-lg border border-gray-200 py-1 min-w-[180px] z-10",children:["active"===e.status&&sP?.available&&(0,t.jsxs)("button",{onClick:a=>{if(a.preventDefault(),a.stopPropagation(),e.isBoosted&&e.boostExpiresAt&&new Date(e.boostExpiresAt)>new Date)return;let s=sP.freeBoostsRemaining>0?"Bedava":`${sP.cost}V`;confirm(`${s} harcayarak \xfcr\xfcn\xfc ${sP.durationHours} saat \xf6ne \xe7Ä±karmak ister misiniz?`)&&(tS(e.id),eP(null))},disabled:sE===e.id||!!(e.isBoosted&&e.boostExpiresAt&&new Date(e.boostExpiresAt)>new Date),className:"w-full px-3 py-2.5 text-left text-sm hover:bg-amber-50 flex items-center gap-2 disabled:opacity-50 text-gray-800 font-medium border-b border-gray-100",children:[sE===e.id?t.jsx(x.Z,{className:"w-4 h-4 animate-spin text-amber-600"}):t.jsx("span",{className:"text-base",children:"\uD83D\uDE80"}),t.jsx("span",{className:"text-gray-800",children:e.isBoosted&&e.boostExpiresAt&&new Date(e.boostExpiresAt)>new Date?"â­ \xd6ne \xc7Ä±kmÄ±ÅŸ":`\xd6ne \xc7Ä±kar ${sP.freeBoostsRemaining>0?"(Bedava)":`(${sP.cost}V)`}`})]}),(0,t.jsxs)("button",{onClick:a=>{a.preventDefault(),a.stopPropagation(),tE(e.id,e.status)},disabled:eS===e.id,className:"w-full px-3 py-2.5 text-left text-sm hover:bg-gray-100 flex items-center gap-2 disabled:opacity-50 text-gray-800 font-medium",children:[eS===e.id?t.jsx(x.Z,{className:"w-4 h-4 animate-spin text-gray-600"}):"active"===e.status?t.jsx(X.Z,{className:"w-4 h-4 text-orange-600"}):t.jsx(J.Z,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"text-gray-800",children:"active"===e.status?"YayÄ±ndan KaldÄ±r":"YayÄ±na Al"})]})]})]})]},e.id))})]},"products"),"favorites"===er&&(0,t.jsxs)(c.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-white rounded-2xl shadow-sm p-4 sm:p-6",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Favorilerim"}),t.jsx("p",{className:"text-sm text-gray-500",children:"BeÄŸendiÄŸiniz \xfcr\xfcnler"})]})}),t.jsx(eK,{})]},"favorites"),"reviews"===er&&ei&&(0,t.jsxs)(c.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-4 sm:p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"DeÄŸerlendirmelerim"}),t.jsx("p",{className:"text-sm text-gray-500",children:"DiÄŸer kullanÄ±cÄ±larÄ±n sizin hakkÄ±nÄ±zdaki yorumlarÄ±"})]}),t.jsx(eV,{trustScore:ei.trustScore,size:"lg"})]}),t.jsx(e$,{userId:ei.id})]}),t.jsx(eO,{}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-4 sm:p-6",children:[t.jsx("h3",{className:"text-base font-semibold text-gray-800 mb-4",children:"T\xfcm Yorumlar"}),t.jsx(eF,{userId:ei.id})]})]},"reviews"),"badges"===er&&ei&&t.jsx(c.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-white rounded-2xl shadow-sm p-4 sm:p-6",children:t.jsx(eB,{userId:ei.id,showAll:!0,onBadgeToggle:(e,a)=>{console.log("Badge toggled:",e,a)}})},"badges"),"survey"===er&&t.jsx(c.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-white rounded-2xl shadow-sm p-6",children:ei.surveyCompleted?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(j.Z,{className:"w-14 h-14 text-green-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Anket TamamlandÄ±!"}),t.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"KatÄ±lÄ±mÄ±nÄ±z i\xe7in teÅŸekk\xfcr ederiz."}),(0,t.jsxs)("div",{className:"max-w-lg mx-auto text-left",children:[t.jsx("h3",{className:"font-semibold text-gray-700 mb-3 text-sm",children:"CevaplarÄ±nÄ±z:"}),t.jsx("div",{className:"space-y-2",children:eR.map(e=>{let a=aC[e.id];return a?(0,t.jsxs)("div",{className:"bg-gray-50 rounded-xl p-3",children:[t.jsx("p",{className:"text-xs text-gray-500",children:e.question}),t.jsx("p",{className:"text-gray-800 font-medium text-sm",children:Array.isArray(a)?a.join(", "):a})]},e.id):null})})]})]}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Anketimize KatÄ±lÄ±n"}),t.jsx("p",{className:"text-gray-700 text-sm mt-1",children:"Tercihlerinizi \xf6ÄŸrenmemize yardÄ±mcÄ± olun"}),t.jsx("div",{className:"mt-4 bg-gray-300 rounded-full h-2",children:t.jsx("div",{className:"gradient-frozen h-2 rounded-full transition-all duration-300",style:{width:`${(aD+1)/eR.length*100}%`}})}),(0,t.jsxs)("p",{className:"text-sm text-gray-700 mt-2 font-medium",children:[aD+1," / ",eR.length," soru"]})]}),t.jsx("div",{className:"min-h-[280px]",children:t.jsx(d.M,{mode:"wait",children:(0,t.jsxs)(c.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[t.jsx("h3",{className:"text-base font-semibold text-gray-800 mb-4",children:eR[aD].question}),t.jsx("div",{className:"space-y-2",children:eR[aD].options.map(e=>{let a="multiple"===eR[aD].type,s=eR[aD].id,r=a?(aC[s]||[]).includes(e):aC[s]===e;return t.jsx("button",{type:"button",onClick:()=>tG(s,e,a),className:`w-full text-left px-4 py-3 rounded-xl border-2 transition-all text-sm ${r?"border-frozen-500 bg-frozen-50 text-frozen-700 font-medium":"border-gray-400 hover:border-gray-500 hover:bg-gray-50 text-gray-800"}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-5 h-5 rounded-${a?"md":"full"} border-2 flex items-center justify-center ${r?"border-frozen-500 bg-frozen-500":"border-gray-500"}`,children:r&&t.jsx(j.Z,{className:"w-3 h-3 text-white"})}),t.jsx("span",{className:"font-medium",children:e})]})},e)})}),"multiple"===eR[aD].type&&t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"* Birden fazla se\xe7ebilirsiniz"})]},aD)})}),(0,t.jsxs)("div",{className:"flex justify-between mt-6",children:[t.jsx(ee.z,{variant:"outline",onClick:()=>az(e=>e-1),disabled:0===aD,size:"sm",children:"\xd6nceki"}),aD<eR.length-1?t.jsx(ee.z,{onClick:()=>az(e=>e+1),disabled:!aC[eR[aD].id],size:"sm",children:"Sonraki"}):t.jsx(ee.z,{onClick:tK,disabled:aE||!aC[eR[aD].id],className:"gradient-frozen",size:"sm",children:aE?"G\xf6nderiliyor...":"Anketi Tamamla"})]})]})},"survey")]})]}),t.jsx(d.M,{children:a2&&t.jsx(c.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>a4(!1),children:(0,t.jsxs)(c.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl w-full max-w-md overflow-hidden shadow-xl",onClick:e=>e.stopPropagation(),children:[t.jsx("div",{className:"p-4 border-b bg-gradient-to-r from-orange-500 to-amber-500",children:(0,t.jsxs)("div",{className:"flex items-center justify-between text-white",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(T.Z,{className:"w-5 h-5"}),t.jsx("h3",{className:"font-semibold",children:"\xc7oklu Mesaj Grubu OluÅŸtur"})]}),t.jsx("button",{onClick:()=>a4(!1),className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:t.jsx(N.Z,{className:"w-5 h-5"})})]})}),(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grup AdÄ± (Ä°steÄŸe BaÄŸlÄ±)"}),t.jsx(ea.I,{value:a5,onChange:e=>a3(e.target.value),placeholder:"\xd6rn: Elektronik TakasÄ±"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"KullanÄ±cÄ± Davet Et"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(ea.I,{value:a8,onChange:e=>a6(e.target.value),placeholder:"KullanÄ±cÄ± adÄ± veya takma ad...",onKeyDown:async e=>{if("Enter"===e.key&&a8.trim()){st(!0);try{let e=await fetch(`/api/messages/search-users?q=${encodeURIComponent(a8)}`);if(e.ok){let a=await e.json();a9(a)}}catch(e){console.error(e)}st(!1)}}}),t.jsx(ee.z,{onClick:async()=>{if(a8.trim()){st(!0);try{let e=await fetch(`/api/messages/search-users?q=${encodeURIComponent(a8)}`);if(e.ok){let a=await e.json();a9(a)}}catch(e){console.error(e)}st(!1)}},disabled:ss||!a8.trim(),size:"icon",children:ss?t.jsx(x.Z,{className:"w-4 h-4 animate-spin"}):t.jsx(_.Z,{className:"w-4 h-4"})})]})]}),a7.length>0&&(0,t.jsxs)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Arama Sonu\xe7larÄ±:"}),a7.map(e=>(0,t.jsxs)("div",{className:`flex items-center justify-between p-2 rounded-lg border ${se.find(a=>a.id===e.id)?"border-orange-300 bg-orange-50":"border-gray-200 hover:bg-gray-50"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:e.image?t.jsx(o.default,{src:e.image,alt:"",width:32,height:32,className:"object-cover"}):t.jsx(w.Z,{className:"w-4 h-4 text-gray-400"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:e.nickname||e.name}),t.jsx("p",{className:"text-xs text-gray-500",children:e.name})]})]}),t.jsx(ee.z,{size:"sm",variant:se.find(a=>a.id===e.id)?"default":"outline",onClick:()=>{se.find(a=>a.id===e.id)?sa(a=>a.filter(a=>a.id!==e.id)):sa(a=>[...a,e])},children:se.find(a=>a.id===e.id)?t.jsx(j.Z,{className:"w-4 h-4"}):t.jsx(Q.Z,{className:"w-4 h-4"})})]},e.id))]}),se.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-xs text-gray-500 mb-2",children:["Se\xe7ili \xdcyeler (",se.length,"):"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:se.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-1 bg-orange-100 text-orange-700 px-2 py-1 rounded-full text-xs",children:[t.jsx("span",{children:e.nickname||e.name}),t.jsx("button",{onClick:()=>sa(a=>a.filter(a=>a.id!==e.id)),className:"hover:bg-orange-200 rounded-full p-0.5",children:t.jsx(N.Z,{className:"w-3 h-3"})})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 text-xs text-amber-800",children:[t.jsx("p",{className:"font-medium mb-1",children:"\uD83D\uDCA1 \xc7oklu Takas Grubu HakkÄ±nda"}),t.jsx("p",{children:"Bu grup, \xe7oklu takas yapmak isteyen kullanÄ±cÄ±larÄ± bir araya getirir. Grup \xfcyeleri birlikte takas fÄ±rsatlarÄ±nÄ± g\xf6r\xfcÅŸebilir."})]})]}),(0,t.jsxs)("div",{className:"p-4 border-t flex gap-2",children:[t.jsx(ee.z,{variant:"outline",className:"flex-1",onClick:()=>{a4(!1),a3(""),a6(""),a9([]),sa([])},children:"Ä°ptal"}),(0,t.jsxs)(ee.z,{className:"flex-1 bg-gradient-to-r from-orange-500 to-amber-500",disabled:0===se.length||sr,onClick:async()=>{if(0!==se.length){sl(!0);try{let e=await fetch("/api/messages/groups",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a5||void 0,memberIds:se.map(e=>e.id)})});if(e.ok){let a=await e.json();aW(e=>[a,...e]),a4(!1),a3(""),a6(""),a9([]),sa([]),aY("group"),eC({message:"Grup baÅŸarÄ±yla oluÅŸturuldu!",type:"success"})}else{let a=await e.json();eC({message:a.error||"Grup oluÅŸturulamadÄ±",type:"error"})}}catch(e){eC({message:"Bir hata oluÅŸtu",type:"error"})}sl(!1)}},children:[sr?t.jsx(x.Z,{className:"w-4 h-4 animate-spin mr-2"}):t.jsx(T.Z,{className:"w-4 h-4 mr-2"}),"Grup OluÅŸtur"]})]})]})})}),t.jsx(d.M,{children:s3&&t.jsx(c.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>s8(!1),children:(0,t.jsxs)(c.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[t.jsx(D.Z,{className:"w-5 h-5"}),"Åžifre DeÄŸiÅŸtir"]}),t.jsx("button",{onClick:()=>s8(!1),className:"text-white/80 hover:text-white",children:t.jsx(N.Z,{className:"w-5 h-5"})})]})}),(0,t.jsxs)("form",{onSubmit:tk,className:"p-6 space-y-4",children:[tl&&(0,t.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm flex items-center gap-2",children:[t.jsx(v.Z,{className:"w-4 h-4 flex-shrink-0"}),tl]}),tn&&(0,t.jsxs)("div",{className:"p-3 bg-green-50 border border-green-200 text-green-700 rounded-lg text-sm flex items-center gap-2",children:[t.jsx(j.Z,{className:"w-4 h-4 flex-shrink-0"}),tn]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mevcut Åžifre"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(ea.I,{type:s9?"text":"password",value:s6.currentPassword,onChange:e=>s7(a=>({...a,currentPassword:e.target.value})),placeholder:"Mevcut ÅŸifrenizi girin",className:"pr-10"}),t.jsx("button",{type:"button",onClick:()=>te(!s9),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s9?t.jsx(X.Z,{className:"w-4 h-4"}):t.jsx(J.Z,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Yeni Åžifre"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(ea.I,{type:ta?"text":"password",value:s6.newPassword,onChange:e=>s7(a=>({...a,newPassword:e.target.value})),placeholder:"En az 8 karakter",className:"pr-10"}),t.jsx("button",{type:"button",onClick:()=>ts(!ta),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:ta?t.jsx(X.Z,{className:"w-4 h-4"}):t.jsx(J.Z,{className:"w-4 h-4"})})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"En az 8 karakter, 1 b\xfcy\xfck harf, 1 k\xfc\xe7\xfck harf ve 1 rakam i\xe7ermeli"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Yeni Åžifre (Tekrar)"}),t.jsx(ea.I,{type:"password",value:s6.confirmPassword,onChange:e=>s7(a=>({...a,confirmPassword:e.target.value})),placeholder:"Yeni ÅŸifrenizi tekrar girin"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-2",children:[t.jsx(ee.z,{type:"submit",disabled:tt,className:"flex-1 bg-amber-500 hover:bg-amber-600",children:tt?(0,t.jsxs)(t.Fragment,{children:[t.jsx(x.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"DeÄŸiÅŸtiriliyor..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(C.Z,{className:"w-4 h-4 mr-2"}),"Åžifreyi DeÄŸiÅŸtir"]})}),t.jsx(ee.z,{type:"button",variant:"outline",onClick:()=>{s8(!1),s7({currentPassword:"",newPassword:"",confirmPassword:""}),ti(""),td("")},className:"border-gray-300",children:"Ä°ptal"})]})]})]})})}),tc&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end md:items-center justify-center z-50",onClick:()=>to(!1),children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-t-2xl md:rounded-2xl w-full max-w-lg max-h-[80vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"p-4 border-b dark:border-gray-700",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"\uD83D\uDCB0 Valor Ge\xe7miÅŸi"}),t.jsx("button",{onClick:()=>to(!1),className:"text-gray-400 hover:text-gray-600 text-xl",children:"âœ•"})]}),tm&&(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[(0,t.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-2 rounded-lg text-center",children:[t.jsx("p",{className:"text-lg font-bold text-purple-700 dark:text-purple-300",children:tm.balance}),t.jsx("p",{className:"text-[10px] text-purple-500",children:"Toplam"})]}),(0,t.jsxs)("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-2 rounded-lg text-center",children:[t.jsx("p",{className:"text-lg font-bold text-amber-700 dark:text-amber-300",children:tm.locked}),t.jsx("p",{className:"text-[10px] text-amber-500",children:"Kilitli"})]}),(0,t.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 p-2 rounded-lg text-center",children:[t.jsx("p",{className:"text-lg font-bold text-green-700 dark:text-green-300",children:tm.available}),t.jsx("p",{className:"text-[10px] text-green-500",children:"KullanÄ±labilir"})]})]})]}),t.jsx("div",{className:"overflow-y-auto max-h-[50vh] p-4",children:tu?t.jsx("p",{className:"text-center text-gray-500 py-8",children:"Y\xfckleniyor..."}):tm?.history?.length>0?t.jsx("div",{className:"space-y-2",children:tm.history.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[t.jsx("span",{className:`text-lg ${"in"===e.direction?"text-green-500":"text-red-500"}`,children:"in"===e.direction?"\uD83D\uDCE5":"\uD83D\uDCE4"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.productTitle||e.description}),t.jsx("p",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleDateString("tr-TR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]}),(0,t.jsxs)("span",{className:`text-sm font-bold ${"in"===e.direction?"text-green-600":"text-red-600"}`,children:["in"===e.direction?"+":"-",e.amount]})]},e.id))}):t.jsx("p",{className:"text-center text-gray-500 py-8",children:"Hen\xfcz hareket yok"})})]})}),sW&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center",onClick:()=>sX(!1),children:(0,t.jsxs)(c.E.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"bg-white rounded-t-2xl sm:rounded-2xl w-full sm:max-w-sm p-6 pb-8 sm:pb-6",onClick:e=>e.stopPropagation(),children:[t.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 text-center",children:"Profil FotoÄŸrafÄ±"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("button",{onClick:tj,className:"w-full flex items-center gap-4 p-4 bg-frozen-50 hover:bg-frozen-100 rounded-xl transition-colors",children:[t.jsx("div",{className:"w-12 h-12 bg-frozen-500 rounded-full flex items-center justify-center",children:t.jsx(S.Z,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{className:"text-left",children:[t.jsx("p",{className:"font-semibold text-gray-800",children:"FotoÄŸraf \xc7ek"}),t.jsx("p",{className:"text-sm text-gray-500",children:"\xd6n kamera ile selfie \xe7ek"})]})]}),(0,t.jsxs)("button",{onClick:()=>{sX(!1),sJ.current?.click()},className:"w-full flex items-center gap-4 p-4 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-500 rounded-full flex items-center justify-center",children:t.jsx($,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{className:"text-left",children:[t.jsx("p",{className:"font-semibold text-gray-800",children:"Galeriden Se\xe7"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Mevcut fotoÄŸraflardan se\xe7"})]})]})]}),t.jsx("button",{onClick:()=>sX(!1),className:"w-full mt-4 py-3 text-gray-600 font-medium hover:bg-gray-100 rounded-xl transition-colors",children:"Ä°ptal"})]})}),sQ&&(0,t.jsxs)("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-black/50",children:[t.jsx("button",{onClick:tv,className:"p-2 text-white hover:bg-white/10 rounded-full",children:t.jsx(N.Z,{className:"w-6 h-6"})}),t.jsx("span",{className:"text-white font-medium",children:"Profil FotoÄŸrafÄ±"}),t.jsx("div",{className:"w-10"})]}),(0,t.jsxs)("div",{className:"flex-1 flex items-center justify-center bg-black relative",children:[sq?t.jsx("div",{className:"relative",children:t.jsx("img",{src:sq,alt:"\xd6nizleme",className:"max-w-[300px] max-h-[300px] rounded-full object-cover"})}):(0,t.jsxs)(t.Fragment,{children:[t.jsx("video",{ref:s4,autoPlay:!0,playsInline:!0,muted:!0,className:"max-w-full max-h-full object-contain",style:{transform:"scaleX(-1)"}}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:t.jsx("div",{className:"w-64 h-64 sm:w-80 sm:h-80 border-4 border-white/50 rounded-full"})}),!s1&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx(x.Z,{className:"w-12 h-12 text-white animate-spin"})})]}),t.jsx("canvas",{ref:s5,className:"hidden"})]}),t.jsx("div",{className:"p-6 bg-black/50",children:sq?(0,t.jsxs)("div",{className:"flex justify-center gap-4",children:[t.jsx("button",{onClick:()=>{sY(null),tj()},className:"px-6 py-3 bg-gray-600 text-white rounded-full font-medium hover:bg-gray-700 transition-colors",children:"Tekrar \xc7ek"}),t.jsx("button",{onClick:tN,disabled:sU,className:"px-6 py-3 bg-frozen-500 text-white rounded-full font-medium hover:bg-frozen-600 transition-colors disabled:opacity-50 flex items-center gap-2",children:sU?(0,t.jsxs)(t.Fragment,{children:[t.jsx(x.Z,{className:"w-5 h-5 animate-spin"}),"Y\xfckleniyor..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(V.Z,{className:"w-5 h-5"}),"Kullan"]})})]}):t.jsx("div",{className:"flex justify-center",children:t.jsx("button",{onClick:()=>{if(console.log("[ProfileCamera] FotoÄŸraf \xe7ekiliyor..."),!s4.current||!s5.current)return;let e=s4.current,a=s5.current,s=a.getContext("2d");if(!s)return;let t=Math.min(e.videoWidth,e.videoHeight);a.width=t,a.height=t,s.translate(t,0),s.scale(-1,1);let r=(e.videoWidth-t)/2,l=(e.videoHeight-t)/2;s.drawImage(e,r,l,t,t,0,0,t,t);let i=a.toDataURL("image/jpeg",.9);console.log("[ProfileCamera] FotoÄŸraf \xe7ekildi"),sY(i),s1&&(s1.getTracks().forEach(e=>e.stop()),s2(null))},disabled:!s1,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg active:scale-95 transition-transform disabled:opacity-50",children:t.jsx("div",{className:"w-16 h-16 bg-frozen-500 rounded-full"})})})})]})]})}function eK(){let[e,a]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0);return s?t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>t.jsx("div",{className:"animate-pulse bg-gray-100 h-48 rounded-xl"},e))}):0===e.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx(h.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Hen\xfcz Favoriniz Yok"}),t.jsx("p",{className:"text-gray-500 mb-4",children:"BeÄŸendiÄŸiniz \xfcr\xfcnleri favorilere ekleyin"}),t.jsx(m.default,{href:"/urunler",children:t.jsx(ee.z,{children:"\xdcr\xfcnleri KeÅŸfet"})})]}):t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(e=>t.jsx(m.default,{href:`/urun/${e.id}`,children:(0,t.jsxs)("div",{className:"group bg-white border rounded-xl overflow-hidden hover:shadow-lg transition-all",children:[(0,t.jsxs)("div",{className:"relative aspect-square bg-gray-100",children:[e.images?.[0]&&t.jsx(o.default,{src:e.images[0],alt:e.title,fill:!0,className:"object-cover group-hover:scale-105 transition-transform"}),t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx(eN._,{productId:e.id,initialCount:e.favoriteCount,size:"sm"})})]}),(0,t.jsxs)("div",{className:"p-3",children:[t.jsx("h3",{className:"font-medium text-gray-800 text-sm truncate",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,t.jsxs)("span",{className:"text-frozen-600 font-bold text-sm",children:[e.valorPrice," V"]}),(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:[e.favoriteCount," â¤ï¸"]})]})]})]})},e.id))})}function eO(){let[e,a]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0),[i,n]=(0,r.useState)(null),d=async()=>{try{let e=await fetch("/api/reviews?checkPending=true");if(e.ok){let s=await e.json();a(s.pendingReviews||[])}}catch(e){console.error("Pending reviews fetch error:",e)}finally{l(!1)}};return s||0===e.length?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl shadow-sm p-4 sm:p-6 border border-amber-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center",children:t.jsx(p.Z,{className:"w-5 h-5 text-amber-600"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800",children:"DeÄŸerlendirme Bekliyor"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[e.length," takas deÄŸerlendirmenizi bekliyor"]})]})]}),t.jsx("div",{className:"space-y-3",children:e.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between bg-white rounded-xl p-3 border",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-100 overflow-hidden",children:e.product?.images?.[0]&&t.jsx(o.default,{src:e.product.images[0],alt:"",width:48,height:48,className:"object-cover"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-gray-800 text-sm",children:e.product?.title}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[e.otherUser?.name," ile takas"]})]})]}),t.jsx(ee.z,{size:"sm",onClick:()=>n(e),className:"bg-amber-500 hover:bg-amber-600",children:"DeÄŸerlendir"})]},e.swapId))})]}),i&&t.jsx(eI,{isOpen:!!i,onClose:()=>n(null),swapId:i.swapId,otherUser:i.otherUser,productTitle:i.product?.title||"\xdcr\xfcn",onSuccess:()=>{d(),n(null)}})]})}},76008:(e,a,s)=>{"use strict";s.d(a,{_:()=>c});var t=s(62901),r=s(24383),l=s(62451),i=s(84700),n=s(84374),d=s(68637);function c({productId:e,initialCount:a=0,size:s="md",showCount:c=!1,className:o}){let{data:m}=(0,i.useSession)(),x=(0,n.useRouter)(),[u,h]=(0,r.useState)(!1),[g,p]=(0,r.useState)(a),[b,y]=(0,r.useState)(!1),[f,j]=(0,r.useState)(!1),v=async a=>{if(a.preventDefault(),a.stopPropagation(),!m?.user){x.push("/giris");return}if(!b){y(!0),j(!0),h(!u),p(e=>u?e-1:e+1);try{let a=await fetch("/api/favorites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e})});if(a.ok){let e=await a.json();h(e.isFavorite),p(e.favoriteCount)}else h(u),p(e=>u?e+1:e-1)}catch(e){console.error("Favorite toggle error:",e),h(u),p(e=>u?e+1:e-1)}finally{y(!1),setTimeout(()=>j(!1),300)}}};return(0,t.jsxs)("div",{className:(0,d.cn)("flex items-center gap-1",o),children:[t.jsx("button",{onClick:v,disabled:b,className:(0,d.cn)("rounded-full flex items-center justify-center transition-all duration-200","hover:scale-110 active:scale-95","bg-white/90 backdrop-blur-sm shadow-md hover:shadow-lg",{sm:"w-7 h-7",md:"w-9 h-9",lg:"w-11 h-11"}[s],f&&"animate-pulse"),title:u?"Favorilerden \xe7Ä±kar":"Favorilere ekle",children:t.jsx(l.Z,{className:(0,d.cn)({sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"}[s],"transition-all duration-200",u?"fill-red-500 text-red-500":"text-gray-500 hover:text-red-400")})}),c&&g>0&&t.jsx("span",{className:"text-xs text-gray-500 font-medium",children:g})]})}},88168:(e,a,s)=>{"use strict";s.d(a,{O:()=>r}),s(62901);var t=s(24383);function r(){let[e,a]=(0,t.useState)(!1),[s,r]=(0,t.useState)(!1),[l,i]=(0,t.useState)(!1),n=async()=>{if(!e)return!1;i(!0);try{let e=await navigator.serviceWorker.ready,a=await Notification.requestPermission();if("granted"!==a)return i(!1),!1;let s=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(e){let a="=".repeat((4-e.length%4)%4),s=(e+a).replace(/-/g,"+").replace(/_/g,"/"),t=window.atob(s),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}("BOlBaaC047bCq8RXHRkz7Eg3pp66EiiH5GgjYncOeWPhVwtPtE-fCMeguexDcpp3sdNC8XBdMP0CKyexg8kOA4w")});if((await fetch("/api/push/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscription:s.toJSON(),userAgent:navigator.userAgent})})).ok)return r(!0),i(!1),!0}catch(e){console.error("Subscribe error:",e)}return i(!1),!1};return{supported:e,subscribed:s,loading:l,subscribe:n,unsubscribe:async()=>{i(!0);try{let e=await navigator.serviceWorker.ready,a=await e.pushManager.getSubscription();a&&(await a.unsubscribe(),await fetch("/api/push/subscribe",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({endpoint:a.endpoint})})),r(!1)}catch(e){console.error("Unsubscribe error:",e)}i(!1)},checkSubscription:async()=>{try{let e=await fetch("/api/push/subscribe"),a=await e.json();r(a.subscribed)}catch(e){console.error("Check subscription error:",e)}}}}s(84700),s(84374),s(54936)},52:(e,a,s)=>{"use strict";s.d(a,{g:()=>i});var t=s(62901),r=s(24383),l=s(68637);let i=r.forwardRef(({className:e,...a},s)=>t.jsx("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));i.displayName="Textarea"},75909:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},34400:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},85453:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},71893:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},34216:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},42233:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},49789:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},87552:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},82063:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},41266:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(88895).createProxy)(String.raw`/home/ubuntu/takas-a-kodlar/nextjs_space/app/profil/page.tsx#default`)},1940:(e,a,s)=>{"use strict";function t(e,a,{checkForDefaultPrevented:s=!0}={}){return function(t){if(e?.(t),!1===s||!t.defaultPrevented)return a?.(t)}}s.d(a,{M:()=>t})},89291:(e,a,s)=>{"use strict";s.d(a,{b:()=>i,k:()=>l});var t=s(24383),r=s(62901);function l(e,a){let s=t.createContext(a);function l(e){let{children:a,...l}=e,i=t.useMemo(()=>l,Object.values(l));return(0,r.jsx)(s.Provider,{value:i,children:a})}return l.displayName=e+"Provider",[l,function(r){let l=t.useContext(s);if(l)return l;if(void 0!==a)return a;throw Error(`\`${r}\` must be used within \`${e}\``)}]}function i(e,a=[]){let s=[],l=()=>{let a=s.map(e=>t.createContext(e));return function(s){let r=s?.[e]||a;return t.useMemo(()=>({[`__scope${e}`]:{...s,[e]:r}}),[s,r])}};return l.scopeName=e,[function(a,l){let i=t.createContext(l),n=s.length;function d(a){let{scope:s,children:l,...d}=a,c=s?.[e][n]||i,o=t.useMemo(()=>d,Object.values(d));return(0,r.jsx)(c.Provider,{value:o,children:l})}return s=[...s,l],d.displayName=a+"Provider",[d,function(s,r){let d=r?.[e][n]||i,c=t.useContext(d);if(c)return c;if(void 0!==l)return l;throw Error(`\`${s}\` must be used within \`${a}\``)}]},function(...e){let a=e[0];if(1===e.length)return a;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=s.reduce((a,{useScope:s,scopeName:t})=>{let r=s(e)[`__scope${t}`];return{...a,...r}},{});return t.useMemo(()=>({[`__scope${a.scopeName}`]:r}),[r])}};return s.scopeName=a.scopeName,s}(l,...a)]}},74132:(e,a,s)=>{"use strict";s.d(a,{WV:()=>n,jH:()=>d});var t=s(24383),r=s(8361),l=s(42049),i=s(62901),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,a)=>{let s=t.forwardRef((e,s)=>{let{asChild:t,...r}=e,n=t?l.g7:a;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(n,{...r,ref:s})});return s.displayName=`Primitive.${a}`,{...e,[a]:s}},{});function d(e,a){e&&r.flushSync(()=>e.dispatchEvent(a))}},81609:(e,a,s)=>{"use strict";s.d(a,{W:()=>r});var t=s(24383);function r(e){let a=t.useRef(e);return t.useEffect(()=>{a.current=e}),t.useMemo(()=>(...e)=>a.current?.(...e),[])}},98106:(e,a,s)=>{"use strict";s.d(a,{T:()=>l});var t=s(24383),r=s(81609);function l({prop:e,defaultProp:a,onChange:s=()=>{}}){let[l,i]=function({defaultProp:e,onChange:a}){let s=t.useState(e),[l]=s,i=t.useRef(l),n=(0,r.W)(a);return t.useEffect(()=>{i.current!==l&&(n(l),i.current=l)},[l,i,n]),s}({defaultProp:a,onChange:s}),n=void 0!==e,d=n?e:l,c=(0,r.W)(s);return[d,t.useCallback(a=>{if(n){let s="function"==typeof a?a(e):a;s!==e&&c(s)}else i(a)},[n,e,i,c])]}},41790:(e,a,s)=>{"use strict";s.d(a,{b:()=>r});var t=s(24383),r=globalThis?.document?t.useLayoutEffect:()=>{}},45666:(e,a,s)=>{"use strict";s.d(a,{D:()=>r});var t=s(24383);function r(e){let a=t.useRef({value:e,previous:e});return t.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}},49209:(e,a,s)=>{"use strict";s.d(a,{t:()=>l});var t=s(24383),r=s(41790);function l(e){let[a,s]=t.useState(void 0);return(0,r.b)(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});let a=new ResizeObserver(a=>{let t,r;if(!Array.isArray(a)||!a.length)return;let l=a[0];if("borderBoxSize"in l){let e=l.borderBoxSize,a=Array.isArray(e)?e[0]:e;t=a.inlineSize,r=a.blockSize}else t=e.offsetWidth,r=e.offsetHeight;s({width:t,height:r})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}s(void 0)},[e]),a}}};var a=require("../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[8412,4674,6866,858,4885],()=>s(15777));module.exports=t})();