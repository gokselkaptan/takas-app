(()=>{var e={};e.id=3049,e.ids=[3049],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},58049:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>o,pages:()=>x,routeModule:()=>m,tree:()=>c}),a(97234),a(32314),a(9126),a(84131),a(24450);var s=a(36576),r=a(72007),l=a(21818),i=a.n(l),n=a(88897),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(t,d);let c=["",{children:["davet",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,97234)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/davet/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,32314)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,9126)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/error.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,84131)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,24450)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/not-found.tsx"]}],x=["/home/ubuntu/takas-a-kodlar/nextjs_space/app/davet/page.tsx"],o="/davet/page",p={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/davet/page",pathname:"/davet",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},65759:(e,t,a)=>{Promise.resolve().then(a.bind(a,98436))},98436:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var s=a(62901),r=a(24383),l=a(84374),i=a(84700),n=a(80412),d=a(10333),c=a(49356),x=a(66843),o=a(79046),p=a(97107),m=a(23094);let u=(0,a(71945).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var h=a(26482),y=a(35825),g=a(21391),j=a(42233);function f(){(0,l.useRouter)();let{data:e,status:t}=(0,i.useSession)(),[a,f]=(0,r.useState)(!0),[b,v]=(0,r.useState)(!1),[k,N]=(0,r.useState)(!1),[w,S]=(0,r.useState)(""),[Z,_]=(0,r.useState)(""),[P,E]=(0,r.useState)(""),[D,q]=(0,r.useState)(null),[C,M]=(0,r.useState)({hours:0,minutes:0,seconds:0}),[A,G]=(0,r.useState)(null),B=async()=>{try{let e=await fetch("/api/referral"),t=await e.json();e.ok&&q(t)}catch(e){console.error("Referral data fetch error:",e)}finally{f(!1)}},T=async()=>{if(P&&!b){S(""),_(""),v(!0);try{let e=await fetch("/api/referral",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:P})}),t=await e.json();if(!e.ok){S(t.error||"Davet g\xf6nderilemedi");return}_("Davet başarıyla g\xf6nderildi!"),E(""),B()}catch(e){S("Bir hata oluştu")}finally{v(!1)}}};return"loading"===t||a?s.jsx("div",{className:"min-h-screen pt-24 flex items-center justify-center",children:s.jsx(d.Z,{className:"w-8 h-8 animate-spin text-purple-600"})}):s.jsx("main",{className:"min-h-screen bg-gradient-to-b from-purple-50 to-white pt-24 pb-12",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6",children:[(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center",children:s.jsx(c.Z,{className:"w-10 h-10 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Arkadaşını Davet Et"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Arkadaşlarını davet et! Seviyen arttık\xe7a davet bonusun da artar."})]}),(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 gap-4 mb-8",children:[(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-lg text-center",children:[s.jsx(x.Z,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:D?.totalReferrals||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Davet Edilen"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-lg text-center",children:[s.jsx(o.Z,{className:"w-8 h-8 text-yellow-500 mx-auto mb-2"}),s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:D?.valorBalance||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Toplam Valor"})]})]}),(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[(0,s.jsxs)("h2",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(p.Z,{className:"w-5 h-5 text-purple-600"}),"Davet Kodun"]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-1 px-4 py-3 rounded-xl bg-purple-50 border border-purple-200 font-mono text-lg text-purple-700 text-center",children:D?.referralCode||"..."}),s.jsx("button",{onClick:()=>{if(!D)return;let e=`https://takas-a.com/kayit?ref=${D.referralCode}`;navigator.clipboard.writeText(e),N(!0),setTimeout(()=>N(!1),2e3)},className:"px-4 py-3 rounded-xl bg-gradient-to-r from-purple-500 to-blue-500 text-white hover:opacity-90 transition-all",children:k?s.jsx(m.Z,{className:"w-6 h-6"}):s.jsx(u,{className:"w-6 h-6"})})]}),k&&s.jsx("p",{className:"text-green-600 text-sm mt-2 text-center",children:"Link kopyalandı!"})]}),(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[(0,s.jsxs)("h2",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(h.Z,{className:"w-5 h-5 text-purple-600"}),"Email ile Davet G\xf6nder"]}),D?.canInvite?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex gap-3",children:[s.jsx("input",{type:"email",value:P,onChange:e=>E(e.target.value),placeholder:"arkadas@email.com",className:"flex-1 px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),s.jsx("button",{onClick:T,disabled:!P||b,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-purple-500 to-blue-500 text-white font-semibold hover:opacity-90 disabled:opacity-50 transition-all",children:b?"G\xf6nderiliyor...":"Davet Et"})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mt-3 flex items-center gap-1",children:[s.jsx(y.Z,{className:"w-4 h-4"}),"G\xfcnde 1 arkadaşını davet edebilirsin"]})]}):(0,s.jsxs)("div",{className:"text-center py-6",children:[s.jsx(g.Z,{className:"w-12 h-12 text-purple-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Sonraki davet hakkınız i\xe7in bekleniyor"}),(0,s.jsxs)("div",{className:"flex justify-center gap-4 my-6",children:[(0,s.jsxs)("div",{className:"bg-purple-100 rounded-xl px-4 py-3 min-w-[70px]",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-700",children:String(C.hours).padStart(2,"0")}),s.jsx("div",{className:"text-xs text-purple-600",children:"Saat"})]}),(0,s.jsxs)("div",{className:"bg-purple-100 rounded-xl px-4 py-3 min-w-[70px]",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-700",children:String(C.minutes).padStart(2,"0")}),s.jsx("div",{className:"text-xs text-purple-600",children:"Dakika"})]}),(0,s.jsxs)("div",{className:"bg-purple-100 rounded-xl px-4 py-3 min-w-[70px]",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-700",children:String(C.seconds).padStart(2,"0")}),s.jsx("div",{className:"text-xs text-purple-600",children:"Saniye"})]})]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Bu s\xfcrede referans linkini paylaşmaya devam edebilirsiniz"})]}),w&&(0,s.jsxs)("div",{className:"mt-4 p-3 rounded-xl bg-red-50 text-red-700 flex items-center gap-2",children:[s.jsx(y.Z,{className:"w-5 h-5"}),w]}),Z&&(0,s.jsxs)("div",{className:"mt-4 p-3 rounded-xl bg-green-50 text-green-700 flex items-center gap-2",children:[s.jsx(m.Z,{className:"w-5 h-5"}),Z]})]}),(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-r from-purple-500 to-blue-500 rounded-2xl shadow-lg p-6 text-white",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(j.Z,{className:"w-8 h-8"}),s.jsx("h2",{className:"text-xl font-bold",children:"\xd6d\xfcller"})]}),s.jsx("ul",{className:"space-y-3",children:A?.referralBonus&&A.referralBonus>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center text-sm font-bold",children:A.referralBonus}),(0,s.jsxs)("span",{children:["Her başarılı davet i\xe7in +",A.referralBonus," Valor"]})]}),(0,s.jsxs)("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center text-sm font-bold",children:"5"}),s.jsx("span",{children:"Arkadaşın da kayıt bonusu olarak 5 Valor kazanır"})]}),(0,s.jsxs)("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center",children:A.emoji}),(0,s.jsxs)("span",{children:["Seviye ",A.level,": ",A.name," — seviyen arttık\xe7a bonus artar!"]})]})]}):(0,s.jsxs)("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center",children:"\uD83D\uDD12"}),s.jsx("span",{children:"İlk takasını tamamla, davet bonusu a\xe7ılsın!"})]})})]})]})})}},35825:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(71945).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},21391:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(71945).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},42233:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(71945).Z)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},26482:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(71945).Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},97107:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(71945).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},79046:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(71945).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},66843:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(71945).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},97234:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(88895).createProxy)(String.raw`/home/ubuntu/takas-a-kodlar/nextjs_space/app/davet/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[8412,4674,858],()=>a(58049));module.exports=s})();