(()=>{var e={};e.id=6407,e.ids=[6407],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3458:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),t(46498),t(37748),t(32314),t(9126),t(84131),t(24450);var r=t(36576),s=t(72007),i=t(21818),n=t.n(i),l=t(88897),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(a,o);let d=["",{children:["kayit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,46498)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/kayit/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,37748)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/kayit/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,32314)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,9126)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,84131)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,24450)),"/home/ubuntu/takas-a-kodlar/nextjs_space/app/not-found.tsx"]}],c=["/home/ubuntu/takas-a-kodlar/nextjs_space/app/kayit/page.tsx"],u="/kayit/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/kayit/page",pathname:"/kayit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},66841:(e,a,t)=>{Promise.resolve().then(t.bind(t,59329))},59329:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>k});var r=t(62901),s=t(24383),i=t(62392),n=t(84374),l=t(84700),o=t(80412),d=t(13943),c=t(77185),u=t(15934),m=t(71945);let x=(0,m.Z)("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);var p=t(19918),h=t(19175),y=t(35825),f=t(49356);let g=(0,m.Z)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var b=t(23094),j=t(10780);function k(){let e=(0,n.useRouter)(),[a,t]=(0,s.useState)("register"),[m,k]=(0,s.useState)({name:"",nickname:"",email:"",password:"",confirmPassword:""}),[v,w]=(0,s.useState)(!1),[N,z]=(0,s.useState)(["","","","","",""]),[P,S]=(0,s.useState)(""),[_,C]=(0,s.useState)(""),[Z,A]=(0,s.useState)(!1),[T,q]=(0,s.useState)(!1),E=(0,s.useRef)([]),K=async e=>{if(e.preventDefault(),S(""),m.password!==m.confirmPassword){S("Şifreler eşleşmiyor");return}if(m.password.length<6){S("Şifre en az 6 karakter olmalı");return}A(!0);try{let e=await fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:m.name,nickname:m.nickname||void 0,email:m.email,password:m.password})}),a=await e.json();if(!e.ok){S(a?.error||"Kayıt sırasında bir hata oluştu");return}a.requiresVerification&&(t("verify"),C(a.message))}catch(e){S("Kayıt sırasında bir hata oluştu")}finally{A(!1)}},D=(e,a)=>{if(a.length>1){let t=a.slice(0,6).split(""),r=[...N];t.forEach((a,t)=>{e+t<6&&(r[e+t]=a)}),z(r);let s=Math.min(e+t.length,5);E.current[s]?.focus();return}let t=[...N];t[e]=a,z(t),a&&e<5&&E.current[e+1]?.focus()},M=(e,a)=>{"Backspace"===a.key&&!N[e]&&e>0&&E.current[e-1]?.focus()},O=async a=>{a.preventDefault(),S(""),C("");let t=N.join("");if(6!==t.length){S("L\xfctfen 6 haneli kodu girin");return}A(!0);try{let a=await fetch("/api/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m.email,code:t})}),r=await a.json();if(!a.ok){S(r?.error||"Doğrulama sırasında bir hata oluştu");return}let s=await (0,l.signIn)("credentials",{email:m.email,password:m.password,redirect:!1});s?.ok?e.replace("/"):(C("Hesabınız doğrulandı! Giriş yapabilirsiniz."),setTimeout(()=>e.replace("/giris"),2e3))}catch(e){S("Doğrulama sırasında bir hata oluştu")}finally{A(!1)}},G=async()=>{q(!0),S(""),C("");try{let e=await fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:m.name,nickname:m.nickname||void 0,email:m.email,password:m.password})}),a=await e.json();a.requiresVerification?(C("Yeni doğrulama kodu g\xf6nderildi!"),z(["","","","","",""])):a.error&&S(a.error)}catch(e){S("Kod g\xf6nderilemedi")}finally{q(!1)}};return r.jsx("div",{className:"min-h-screen pt-20 pb-12 flex items-center justify-center bg-gradient-to-br from-frozen-50 to-white",children:r.jsx(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md mx-4",children:r.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:r.jsx(d.M,{mode:"wait",children:"register"===a?(0,r.jsxs)(o.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[r.jsx(i.default,{href:"/",className:"text-3xl font-bold text-gradient-frozen",children:"TAKAS-A"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mt-4",children:"\xdccretsiz Kayıt Ol"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Hemen \xfcye ol ve takas yapmaya başla"})]}),(0,r.jsxs)("form",{onSubmit:K,className:"space-y-5",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad Soyad"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(c.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",required:!0,value:m.name,onChange:e=>k({...m,name:e.target.value}),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-frozen-500 focus:border-transparent transition-all",placeholder:"Adınız Soyadınız"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Takma Ad (İsteğe Bağlı)"}),r.jsx("button",{type:"button",onClick:()=>w(!v),className:"text-frozen-500 hover:text-frozen-600",children:r.jsx(u.Z,{className:"w-4 h-4"})})]}),v&&r.jsx("div",{className:"mb-2 p-3 bg-blue-50 rounded-lg text-xs text-blue-700",children:"Takma ad kullanarak gizliliğinizi koruyabilirsiniz. Bu isim platformda ad soyadınız yerine g\xf6sterilecektir."}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(x,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",value:m.nickname,onChange:e=>k({...m,nickname:e.target.value}),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-frozen-500 focus:border-transparent transition-all",placeholder:"\xd6rn: SwapMaster, TakasSever...",maxLength:20})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Boş bırakırsanız adınızın ilk harfi ve soyadınızın baş harfi g\xf6sterilir"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-posta"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(p.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"email",required:!0,value:m.email,onChange:e=>k({...m,email:e.target.value}),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-frozen-500 focus:border-transparent transition-all",placeholder:"ornek@email.com"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şifre"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(h.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"password",required:!0,value:m.password,onChange:e=>k({...m,password:e.target.value}),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-frozen-500 focus:border-transparent transition-all",placeholder:"En az 6 karakter"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şifre Tekrar"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(h.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"password",required:!0,value:m.confirmPassword,onChange:e=>k({...m,confirmPassword:e.target.value}),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-frozen-500 focus:border-transparent transition-all",placeholder:"Şifreyi tekrar girin"})]})]}),P&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-red-600 bg-red-50 p-4 rounded-xl",children:[r.jsx(y.Z,{className:"w-5 h-5 flex-shrink-0"}),r.jsx("span",{children:P})]}),r.jsx("button",{type:"submit",disabled:Z,className:"w-full py-4 rounded-xl bg-frozen-500 text-white font-semibold hover:bg-frozen-600 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:Z?"Kayıt oluşturuluyor...":(0,r.jsxs)(r.Fragment,{children:[r.jsx(f.Z,{className:"w-5 h-5"}),"Kayıt Ol"]})})]}),(0,r.jsxs)("p",{className:"text-center text-gray-600 mt-6",children:["Zaten hesabın var mı?"," ",r.jsx(i.default,{href:"/giris",className:"text-frozen-600 font-semibold hover:underline",children:"Giriş Yap"})]})]},"register"):(0,r.jsxs)(o.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center",children:r.jsx(g,{className:"w-8 h-8 text-white"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Email Doğrulama"}),(0,r.jsxs)("p",{className:"text-gray-600 mt-2",children:[r.jsx("span",{className:"font-medium text-frozen-600",children:m.email})," adresine g\xf6nderilen 6 haneli kodu girin"]})]}),(0,r.jsxs)("form",{onSubmit:O,className:"space-y-6",children:[r.jsx("div",{className:"flex justify-center gap-2",children:N.map((e,a)=>r.jsx("input",{ref:e=>{E.current[a]=e},type:"text",inputMode:"numeric",maxLength:6,value:e,onChange:e=>D(a,e.target.value.replace(/\D/g,"")),onKeyDown:e=>M(a,e),className:"w-12 h-14 text-center text-2xl font-bold rounded-xl border-2 border-gray-300 focus:border-frozen-500 focus:ring-2 focus:ring-frozen-200 transition-all"},a))}),P&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-red-600 bg-red-50 p-4 rounded-xl",children:[r.jsx(y.Z,{className:"w-5 h-5 flex-shrink-0"}),r.jsx("span",{children:P})]}),_&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-green-600 bg-green-50 p-4 rounded-xl",children:[r.jsx(b.Z,{className:"w-5 h-5 flex-shrink-0"}),r.jsx("span",{children:_})]}),r.jsx("button",{type:"submit",disabled:Z,className:"w-full py-4 rounded-xl bg-frozen-500 text-white font-semibold hover:bg-frozen-600 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:Z?"Doğrulanıyor...":"Doğrula ve Devam Et"})]}),(0,r.jsxs)("div",{className:"mt-6 text-center",children:[r.jsx("p",{className:"text-gray-600 mb-2",children:"Kod gelmedi mi?"}),(0,r.jsxs)("button",{onClick:G,disabled:T,className:"inline-flex items-center gap-2 text-frozen-600 font-semibold hover:underline disabled:opacity-50",children:[r.jsx(j.Z,{className:`w-4 h-4 ${T?"animate-spin":""}`}),T?"G\xf6nderiliyor...":"Tekrar G\xf6nder"]})]}),r.jsx("button",{onClick:()=>t("register"),className:"w-full mt-4 text-gray-500 hover:text-gray-700 text-sm",children:"← Kayıt formuna geri d\xf6n"})]},"verify")})})})})}},35825:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(71945).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},19175:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(71945).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},37748:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s,metadata:()=>r});let r={title:"\xdccretsiz \xdcye Ol",description:"TAKAS-A'ya \xfccretsiz \xfcye ol ve hemen takas yapmaya başla! Kayıt ol, 50 Valor kazan, ilk takasını ger\xe7ekleştir.",keywords:["takas \xfcye ol","takas-a kayıt","\xfccretsiz \xfcyelik"],robots:{index:!1,follow:!1}};function s({children:e}){return e}},46498:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});let r=(0,t(88895).createProxy)(String.raw`/home/ubuntu/takas-a-kodlar/nextjs_space/app/kayit/page.tsx#default`)}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[8412,4674,858],()=>t(3458));module.exports=r})();